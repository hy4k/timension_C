function yT(n,e){for(var i=0;i<e.length;i++){const o=e[i];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function Bc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function vT(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var a=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return n[o]}})}),i}var sc={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function _T(){if(um)return Po;um=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:o,key:c,ref:a!==void 0?a:null,props:l}}return Po.Fragment=e,Po.jsx=i,Po.jsxs=i,Po}var cm;function TT(){return cm||(cm=1,sc.exports=_T()),sc.exports}var S=TT(),oc={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function ET(){if(dm)return ce;dm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function O(N,V,K){this.props=N,this.context=V,this.refs=M,this.updater=K||C}O.prototype.isReactComponent={},O.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=O.prototype;function k(N,V,K){this.props=N,this.context=V,this.refs=M,this.updater=K||C}var F=k.prototype=new H;F.constructor=k,x(F,O.prototype),F.isPureReactComponent=!0;var j=Array.isArray;function Y(){}var J={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function X(N,V,K){var W=K.ref;return{$$typeof:n,type:N,key:V,ref:W!==void 0?W:null,props:K}}function he(N,V){return X(N.type,V,N.props)}function Re(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function pe(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return V[K]})}var Le=/\/+/g;function pt(N,V){return typeof N=="object"&&N!==null&&N.key!=null?pe(""+N.key):V.toString(36)}function Je(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Y,Y):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,V,K,W,ue){var me=typeof N;(me==="undefined"||me==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case n:case e:be=!0;break;case v:return be=N._init,q(be(N._payload),V,K,W,ue)}}if(be)return ue=ue(N),be=W===""?"."+pt(N,0):W,j(ue)?(K="",be!=null&&(K=be.replace(Le,"$&/")+"/"),q(ue,V,K,"",function(kn){return kn})):ue!=null&&(Re(ue)&&(ue=he(ue,K+(ue.key==null||N&&N.key===ue.key?"":(""+ue.key).replace(Le,"$&/")+"/")+be)),V.push(ue)),1;be=0;var ot=W===""?".":W+":";if(j(N))for(var Ve=0;Ve<N.length;Ve++)W=N[Ve],me=ot+pt(W,Ve),be+=q(W,V,K,me,ue);else if(Ve=A(N),typeof Ve=="function")for(N=Ve.call(N),Ve=0;!(W=N.next()).done;)W=W.value,me=ot+pt(W,Ve++),be+=q(W,V,K,me,ue);else if(me==="object"){if(typeof N.then=="function")return q(Je(N),V,K,W,ue);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(N,V,K){if(N==null)return N;var W=[],ue=0;return q(N,W,"","",function(me){return V.call(K,me,ue++)}),W}function se(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var Ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ie={map:$,forEach:function(N,V,K){$(N,function(){V.apply(this,arguments)},K)},count:function(N){var V=0;return $(N,function(){V++}),V},toArray:function(N){return $(N,function(V){return V})||[]},only:function(N){if(!Re(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ce.Activity=_,ce.Children=Ie,ce.Component=O,ce.Fragment=i,ce.Profiler=a,ce.PureComponent=k,ce.StrictMode=o,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return J.H.useMemoCache(N)}},ce.cache=function(N){return function(){return N.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(N,V,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=x({},N.props),ue=N.key;if(V!=null)for(me in V.key!==void 0&&(ue=""+V.key),V)!le.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(W[me]=V[me]);var me=arguments.length-2;if(me===1)W.children=K;else if(1<me){for(var be=Array(me),ot=0;ot<me;ot++)be[ot]=arguments[ot+2];W.children=be}return X(N.type,ue,W)},ce.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},ce.createElement=function(N,V,K){var W,ue={},me=null;if(V!=null)for(W in V.key!==void 0&&(me=""+V.key),V)le.call(V,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ue[W]=V[W]);var be=arguments.length-2;if(be===1)ue.children=K;else if(1<be){for(var ot=Array(be),Ve=0;Ve<be;Ve++)ot[Ve]=arguments[Ve+2];ue.children=ot}if(N&&N.defaultProps)for(W in be=N.defaultProps,be)ue[W]===void 0&&(ue[W]=be[W]);return X(N,me,ue)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(N){return{$$typeof:h,render:N}},ce.isValidElement=Re,ce.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:se}},ce.memo=function(N,V){return{$$typeof:g,type:N,compare:V===void 0?null:V}},ce.startTransition=function(N){var V=J.T,K={};J.T=K;try{var W=N(),ue=J.S;ue!==null&&ue(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Y,Ne)}catch(me){Ne(me)}finally{V!==null&&K.types!==null&&(V.types=K.types),J.T=V}},ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ce.use=function(N){return J.H.use(N)},ce.useActionState=function(N,V,K){return J.H.useActionState(N,V,K)},ce.useCallback=function(N,V){return J.H.useCallback(N,V)},ce.useContext=function(N){return J.H.useContext(N)},ce.useDebugValue=function(){},ce.useDeferredValue=function(N,V){return J.H.useDeferredValue(N,V)},ce.useEffect=function(N,V){return J.H.useEffect(N,V)},ce.useEffectEvent=function(N){return J.H.useEffectEvent(N)},ce.useId=function(){return J.H.useId()},ce.useImperativeHandle=function(N,V,K){return J.H.useImperativeHandle(N,V,K)},ce.useInsertionEffect=function(N,V){return J.H.useInsertionEffect(N,V)},ce.useLayoutEffect=function(N,V){return J.H.useLayoutEffect(N,V)},ce.useMemo=function(N,V){return J.H.useMemo(N,V)},ce.useOptimistic=function(N,V){return J.H.useOptimistic(N,V)},ce.useReducer=function(N,V,K){return J.H.useReducer(N,V,K)},ce.useRef=function(N){return J.H.useRef(N)},ce.useState=function(N){return J.H.useState(N)},ce.useSyncExternalStore=function(N,V,K){return J.H.useSyncExternalStore(N,V,K)},ce.useTransition=function(){return J.H.useTransition()},ce.version="19.2.0",ce}var fm;function zc(){return fm||(fm=1,oc.exports=ET()),oc.exports}var te=zc();const ST=Bc(te);var rc={exports:{}},Oo={},ac={exports:{}},lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function bT(){return hm||(hm=1,(function(n){function e(q,$){var se=q.length;q.push($);e:for(;0<se;){var Ne=se-1>>>1,Ie=q[Ne];if(0<a(Ie,$))q[Ne]=$,q[se]=Ie,se=Ne;else break e}}function i(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var $=q[0],se=q.pop();if(se!==$){q[0]=se;e:for(var Ne=0,Ie=q.length,N=Ie>>>1;Ne<N;){var V=2*(Ne+1)-1,K=q[V],W=V+1,ue=q[W];if(0>a(K,se))W<Ie&&0>a(ue,K)?(q[Ne]=ue,q[W]=se,Ne=W):(q[Ne]=K,q[V]=se,Ne=V);else if(W<Ie&&0>a(ue,se))q[Ne]=ue,q[W]=se,Ne=W;else break e}}return $}function a(q,$){var se=q.sortIndex-$.sortIndex;return se!==0?se:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],g=[],v=1,_=null,E=3,A=!1,C=!1,x=!1,M=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(q){for(var $=i(g);$!==null;){if($.callback===null)o(g);else if($.startTime<=q)o(g),$.sortIndex=$.expirationTime,e(m,$);else break;$=i(g)}}function j(q){if(x=!1,F(q),!C)if(i(m)!==null)C=!0,Y||(Y=!0,pe());else{var $=i(g);$!==null&&Je(j,$.startTime-q)}}var Y=!1,J=-1,le=5,X=-1;function he(){return M?!0:!(n.unstable_now()-X<le)}function Re(){if(M=!1,Y){var q=n.unstable_now();X=q;var $=!0;try{e:{C=!1,x&&(x=!1,H(J),J=-1),A=!0;var se=E;try{t:{for(F(q),_=i(m);_!==null&&!(_.expirationTime>q&&he());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,E=_.priorityLevel;var Ie=Ne(_.expirationTime<=q);if(q=n.unstable_now(),typeof Ie=="function"){_.callback=Ie,F(q),$=!0;break t}_===i(m)&&o(m),F(q)}else o(m);_=i(m)}if(_!==null)$=!0;else{var N=i(g);N!==null&&Je(j,N.startTime-q),$=!1}}break e}finally{_=null,E=se,A=!1}$=void 0}}finally{$?pe():Y=!1}}}var pe;if(typeof k=="function")pe=function(){k(Re)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,pt=Le.port2;Le.port1.onmessage=Re,pe=function(){pt.postMessage(null)}}else pe=function(){O(Re,0)};function Je(q,$){J=O(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(q){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var se=E;E=$;try{return q()}finally{E=se}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=E;E=q;try{return $()}finally{E=se}},n.unstable_scheduleCallback=function(q,$,se){var Ne=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ne+se:Ne):se=Ne,q){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=se+Ie,q={id:v++,callback:$,priorityLevel:q,startTime:se,expirationTime:Ie,sortIndex:-1},se>Ne?(q.sortIndex=se,e(g,q),i(m)===null&&q===i(g)&&(x?(H(J),J=-1):x=!0,Je(j,se-Ne))):(q.sortIndex=Ie,e(m,q),C||A||(C=!0,Y||(Y=!0,pe()))),q},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(q){var $=E;return function(){var se=E;E=$;try{return q.apply(this,arguments)}finally{E=se}}}})(lc)),lc}var pm;function AT(){return pm||(pm=1,ac.exports=bT()),ac.exports}var uc={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function CT(){if(mm)return mt;mm=1;var n=zc();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,mt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},mt.flushSync=function(m){var g=c.T,v=o.p;try{if(c.T=null,o.p=2,m)return m()}finally{c.T=g,o.p=v,o.d.f()}},mt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},mt.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},mt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):v==="script"&&o.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},mt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);o.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},mt.requestFormReset=function(m){o.d.r(m)},mt.unstable_batchedUpdates=function(m,g){return m(g)},mt.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var gm;function wT(){if(gm)return uc.exports;gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uc.exports=CT(),uc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function xT(){if(ym)return Oo;ym=1;var n=AT(),e=zc(),i=wT();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function c(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(l(t)!==t)throw Error(o(188))}function g(t){var s=t.alternate;if(!s){if(s=l(t),s===null)throw Error(o(188));return s!==t?null:t}for(var r=t,u=s;;){var p=r.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===r)return m(p),t;if(y===u)return m(p),s;y=y.sibling}throw Error(o(188))}if(r.return!==u.return)r=p,u=y;else{for(var T=!1,b=p.child;b;){if(b===r){T=!0,r=p,u=y;break}if(b===u){T=!0,u=p,r=y;break}b=b.sibling}if(!T){for(b=y.child;b;){if(b===r){T=!0,r=y,u=p;break}if(b===u){T=!0,u=y,r=p;break}b=b.sibling}if(!T)throw Error(o(189))}}if(r.alternate!==u)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=Re&&t[Re]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Le?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case O:return"Profiler";case M:return"StrictMode";case j:return"Suspense";case Y:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case k:return t.displayName||"Context";case H:return(t._context.displayName||"Context")+".Consumer";case F:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return s=t.displayName||null,s!==null?s:pt(t.type)||"Memo";case le:s=t._payload,t=t._init;try{return pt(t(s))}catch{}}return null}var Je=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ne=[],Ie=-1;function N(t){return{current:t}}function V(t){0>Ie||(t.current=Ne[Ie],Ne[Ie]=null,Ie--)}function K(t,s){Ie++,Ne[Ie]=t.current,t.current=s}var W=N(null),ue=N(null),me=N(null),be=N(null);function ot(t,s){switch(K(me,s),K(ue,t),K(W,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=kp(s),t=Dp(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(W),K(W,t)}function Ve(){V(W),V(ue),V(me)}function kn(t){t.memoizedState!==null&&K(be,t);var s=W.current,r=Dp(s,t.type);s!==r&&(K(ue,t),K(W,r))}function ye(t){ue.current===t&&(V(W),V(ue)),be.current===t&&(V(be),Io._currentValue=se)}var Xe,Li;function Wt(t){if(Xe===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Xe=s&&s[1]||"",Li=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+t+Li}var Gs=!1;function Bs(t,s){if(!t||Gs)return"";Gs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(L){var P=L}Reflect.construct(t,[],z)}else{try{z.call()}catch(L){P=L}t.call(z.prototype)}}else{try{throw Error()}catch(L){P=L}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(L){if(L&&P&&typeof L.stack=="string")return[L.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],b=y[1];if(T&&b){var w=T.split(`
`),U=b.split(`
`);for(p=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;if(u===w.length||p===U.length)for(u=w.length-1,p=U.length-1;1<=u&&0<=p&&w[u]!==U[p];)p--;for(;1<=u&&0<=p;u--,p--)if(w[u]!==U[p]){if(u!==1||p!==1)do if(u--,p--,0>p||w[u]!==U[p]){var G=`
`+w[u].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=u&&0<=p);break}}}finally{Gs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Wt(r):""}function za(t,s){switch(t.tag){case 26:case 27:case 5:return Wt(t.type);case 16:return Wt("Lazy");case 13:return t.child!==s&&s!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Bs(t.type,!1);case 11:return Bs(t.type.render,!1);case 1:return Bs(t.type,!0);case 31:return Wt("Activity");default:return""}}function ld(t){try{var s="",r=null;do s+=za(t,r),r=t,t=t.return;while(t);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Va=Object.prototype.hasOwnProperty,Fa=n.unstable_scheduleCallback,Ja=n.unstable_cancelCallback,Kv=n.unstable_shouldYield,Qv=n.unstable_requestPaint,wt=n.unstable_now,Xv=n.unstable_getCurrentPriorityLevel,ud=n.unstable_ImmediatePriority,cd=n.unstable_UserBlockingPriority,Qo=n.unstable_NormalPriority,Wv=n.unstable_LowPriority,dd=n.unstable_IdlePriority,Zv=n.log,e0=n.unstable_setDisableYieldValue,zs=null,xt=null;function Dn(t){if(typeof Zv=="function"&&e0(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(zs,t)}catch{}}var Rt=Math.clz32?Math.clz32:i0,t0=Math.log,n0=Math.LN2;function i0(t){return t>>>=0,t===0?32:31-(t0(t)/n0|0)|0}var Xo=256,Wo=262144,Zo=4194304;function ui(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function er(t,s,r){var u=t.pendingLanes;if(u===0)return 0;var p=0,y=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=u&134217727;return b!==0?(u=b&~y,u!==0?p=ui(u):(T&=b,T!==0?p=ui(T):r||(r=b&~t,r!==0&&(p=ui(r))))):(b=u&~y,b!==0?p=ui(b):T!==0?p=ui(T):r||(r=u&~t,r!==0&&(p=ui(r)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,r=s&-s,y>=r||y===32&&(r&4194048)!==0)?s:p}function Vs(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function s0(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fd(){var t=Zo;return Zo<<=1,(Zo&62914560)===0&&(Zo=4194304),t}function $a(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Fs(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function o0(t,s,r,u,p,y){var T=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,w=t.expirationTimes,U=t.hiddenUpdates;for(r=T&~r;0<r;){var G=31-Rt(r),z=1<<G;b[G]=0,w[G]=-1;var P=U[G];if(P!==null)for(U[G]=null,G=0;G<P.length;G++){var L=P[G];L!==null&&(L.lane&=-536870913)}r&=~z}u!==0&&hd(t,u,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(T&~s))}function hd(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-Rt(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|r&261930}function pd(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var u=31-Rt(r),p=1<<u;p&s|t[u]&s&&(t[u]|=s),r&=~p}}function md(t,s){var r=s&-s;return r=(r&42)!==0?1:Ya(r),(r&(t.suspendedLanes|s))!==0?0:r}function Ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ja(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gd(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:nm(t.type))}function yd(t,s){var r=$.p;try{return $.p=t,s()}finally{$.p=r}}var Un=Math.random().toString(36).slice(2),lt="__reactFiber$"+Un,_t="__reactProps$"+Un,qi="__reactContainer$"+Un,Ka="__reactEvents$"+Un,r0="__reactListeners$"+Un,a0="__reactHandles$"+Un,vd="__reactResources$"+Un,Js="__reactMarker$"+Un;function Qa(t){delete t[lt],delete t[_t],delete t[Ka],delete t[r0],delete t[a0]}function Hi(t){var s=t[lt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[qi]||r[lt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Gp(t);t!==null;){if(r=t[lt])return r;t=Gp(t)}return s}t=r,r=t.parentNode}return null}function Gi(t){if(t=t[lt]||t[qi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function $s(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function Bi(t){var s=t[vd];return s||(s=t[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rt(t){t[Js]=!0}var _d=new Set,Td={};function ci(t,s){zi(t,s),zi(t+"Capture",s)}function zi(t,s){for(Td[t]=s,t=0;t<s.length;t++)_d.add(s[t])}var l0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ed={},Sd={};function u0(t){return Va.call(Sd,t)?!0:Va.call(Ed,t)?!1:l0.test(t)?Sd[t]=!0:(Ed[t]=!0,!1)}function tr(t,s,r){if(u0(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function nr(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function cn(t,s,r,u){if(u===null)t.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+u)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function c0(t,s,r){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){r=""+T,y.call(this,T)}}),Object.defineProperty(t,s,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Xa(t){if(!t._valueTracker){var s=bd(t)?"checked":"value";t._valueTracker=c0(t,s,""+t[s])}}function Ad(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),u="";return t&&(u=bd(t)?t.checked?"true":"false":t.value),t=u,t!==r?(s.setValue(t),!0):!1}function ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var d0=/[\n"\\]/g;function Bt(t){return t.replace(d0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wa(t,s,r,u,p,y,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),s!=null?T==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Gt(s)):t.value!==""+Gt(s)&&(t.value=""+Gt(s)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),s!=null?Za(t,T,Gt(s)):r!=null?Za(t,T,Gt(r)):u!=null&&t.removeAttribute("value"),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Gt(b):t.removeAttribute("name")}function Cd(t,s,r,u,p,y,T,b){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),s!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Xa(t);return}r=r!=null?""+Gt(r):"",s=s!=null?""+Gt(s):r,b||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=b?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Xa(t)}function Za(t,s,r){s==="number"&&ir(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Vi(t,s,r,u){if(t=t.options,s){s={};for(var p=0;p<r.length;p++)s["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=s.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&u&&(t[r].defaultSelected=!0)}else{for(r=""+Gt(r),s=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function wd(t,s,r){if(s!=null&&(s=""+Gt(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+Gt(r):""}function xd(t,s,r,u){if(s==null){if(u!=null){if(r!=null)throw Error(o(92));if(Je(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),s=r}r=Gt(s),t.defaultValue=r,u=t.textContent,u===r&&u!==""&&u!==null&&(t.value=u),Xa(t)}function Fi(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var f0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rd(t,s,r){var u=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,r):typeof r!="number"||r===0||f0.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Nd(t,s,r){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&r[p]!==u&&Rd(t,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Rd(t,y,s[y])}function el(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(t){return p0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function dn(){}var tl=null;function nl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,$i=null;function Md(t){var s=Gi(t);if(s&&(t=s.stateNode)){var r=t[_t]||null;e:switch(t=s.stateNode,s.type){case"input":if(Wa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Bt(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var u=r[s];if(u!==t&&u.form===t.form){var p=u[_t]||null;if(!p)throw Error(o(90));Wa(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<r.length;s++)u=r[s],u.form===t.form&&Ad(u)}break e;case"textarea":wd(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Vi(t,!!r.multiple,s,!1)}}}var il=!1;function Id(t,s,r){if(il)return t(s,r);il=!0;try{var u=t(s);return u}finally{if(il=!1,(Ji!==null||$i!==null)&&(Jr(),Ji&&(s=Ji,t=$i,$i=Ji=null,Md(s),t)))for(s=0;s<t.length;s++)Md(t[s])}}function Ys(t,s){var r=t.stateNode;if(r===null)return null;var u=r[_t]||null;if(u===null)return null;r=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,s,typeof r));return r}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(fn)try{var js={};Object.defineProperty(js,"passive",{get:function(){sl=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{sl=!1}var Pn=null,ol=null,or=null;function kd(){if(or)return or;var t,s=ol,r=s.length,u,p="value"in Pn?Pn.value:Pn.textContent,y=p.length;for(t=0;t<r&&s[t]===p[t];t++);var T=r-t;for(u=1;u<=T&&s[r-u]===p[y-u];u++);return or=p.slice(t,1<u?1-u:void 0)}function rr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ar(){return!0}function Dd(){return!1}function Tt(t){function s(r,u,p,y,T){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ar:Dd,this.isPropagationStopped=Dd,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=Tt(di),Ks=_({},di,{view:0,detail:0}),m0=Tt(Ks),rl,al,Qs,ur=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qs&&(Qs&&t.type==="mousemove"?(rl=t.screenX-Qs.screenX,al=t.screenY-Qs.screenY):al=rl=0,Qs=t),rl)},movementY:function(t){return"movementY"in t?t.movementY:al}}),Ud=Tt(ur),g0=_({},ur,{dataTransfer:0}),y0=Tt(g0),v0=_({},Ks,{relatedTarget:0}),ll=Tt(v0),_0=_({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=Tt(_0),E0=_({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S0=Tt(E0),b0=_({},di,{data:0}),Pd=Tt(b0),A0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=w0[t])?!!s[t]:!1}function ul(){return x0}var R0=_({},Ks,{key:function(t){if(t.key){var s=A0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N0=Tt(R0),M0=_({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Tt(M0),I0=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),k0=Tt(I0),D0=_({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=Tt(D0),P0=_({},ur,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=Tt(P0),L0=_({},di,{newState:0,oldState:0}),q0=Tt(L0),H0=[9,13,27,32],cl=fn&&"CompositionEvent"in window,Xs=null;fn&&"documentMode"in document&&(Xs=document.documentMode);var G0=fn&&"TextEvent"in window&&!Xs,Ld=fn&&(!cl||Xs&&8<Xs&&11>=Xs),qd=" ",Hd=!1;function Gd(t,s){switch(t){case"keyup":return H0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function B0(t,s){switch(t){case"compositionend":return Bd(s);case"keypress":return s.which!==32?null:(Hd=!0,qd);case"textInput":return t=s.data,t===qd&&Hd?null:t;default:return null}}function z0(t,s){if(Yi)return t==="compositionend"||!cl&&Gd(t,s)?(t=kd(),or=ol=Pn=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ld&&s.locale!=="ko"?null:s.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!V0[t.type]:s==="textarea"}function Vd(t,s,r,u){Ji?$i?$i.push(u):$i=[u]:Ji=u,s=Wr(s,"onChange"),0<s.length&&(r=new lr("onChange","change",null,r,u),t.push({event:r,listeners:s}))}var Ws=null,Zs=null;function F0(t){wp(t,0)}function cr(t){var s=$s(t);if(Ad(s))return t}function Fd(t,s){if(t==="change")return s}var Jd=!1;if(fn){var dl;if(fn){var fl="oninput"in document;if(!fl){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),fl=typeof $d.oninput=="function"}dl=fl}else dl=!1;Jd=dl&&(!document.documentMode||9<document.documentMode)}function Yd(){Ws&&(Ws.detachEvent("onpropertychange",jd),Zs=Ws=null)}function jd(t){if(t.propertyName==="value"&&cr(Zs)){var s=[];Vd(s,Zs,t,nl(t)),Id(F0,s)}}function J0(t,s,r){t==="focusin"?(Yd(),Ws=s,Zs=r,Ws.attachEvent("onpropertychange",jd)):t==="focusout"&&Yd()}function $0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cr(Zs)}function Y0(t,s){if(t==="click")return cr(s)}function j0(t,s){if(t==="input"||t==="change")return cr(s)}function K0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Nt=typeof Object.is=="function"?Object.is:K0;function eo(t,s){if(Nt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),u=Object.keys(s);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!Va.call(s,p)||!Nt(t[p],s[p]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,s){var r=Kd(t);t=0;for(var u;r;){if(r.nodeType===3){if(u=t+r.textContent.length,t<=s&&u>=s)return{node:r,offset:s-t};t=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kd(r)}}function Xd(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Xd(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ir(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=ir(t.document)}return s}function hl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Q0=fn&&"documentMode"in document&&11>=document.documentMode,ji=null,pl=null,to=null,ml=!1;function Zd(t,s,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ml||ji==null||ji!==ir(u)||(u=ji,"selectionStart"in u&&hl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),to&&eo(to,u)||(to=u,u=Wr(pl,"onSelect"),0<u.length&&(s=new lr("onSelect","select",null,s,r),t.push({event:s,listeners:u}),s.target=ji)))}function fi(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Ki={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},gl={},ef={};fn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function hi(t){if(gl[t])return gl[t];if(!Ki[t])return t;var s=Ki[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in ef)return gl[t]=s[r];return t}var tf=hi("animationend"),nf=hi("animationiteration"),sf=hi("animationstart"),X0=hi("transitionrun"),W0=hi("transitionstart"),Z0=hi("transitioncancel"),of=hi("transitionend"),rf=new Map,yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yl.push("scrollEnd");function Zt(t,s){rf.set(t,s),ci(s,[t])}var dr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zt=[],Qi=0,vl=0;function fr(){for(var t=Qi,s=vl=Qi=0;s<t;){var r=zt[s];zt[s++]=null;var u=zt[s];zt[s++]=null;var p=zt[s];zt[s++]=null;var y=zt[s];if(zt[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&af(r,p,y)}}function hr(t,s,r,u){zt[Qi++]=t,zt[Qi++]=s,zt[Qi++]=r,zt[Qi++]=u,vl|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function _l(t,s,r,u){return hr(t,s,r,u),pr(t)}function pi(t,s){return hr(t,null,null,s),pr(t)}function af(t,s,r){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r);for(var p=!1,y=t.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,p&&s!==null&&(p=31-Rt(r),t=y.hiddenUpdates,u=t[p],u===null?t[p]=[s]:u.push(s),s.lane=r|536870912),y):null}function pr(t){if(50<Ao)throw Ao=0,Ru=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Xi={};function e_(t,s,r,u){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,s,r,u){return new e_(t,s,r,u)}function Tl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hn(t,s){var r=t.alternate;return r===null?(r=Mt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function lf(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function mr(t,s,r,u,p,y){var T=0;if(u=t,typeof t=="function")Tl(t)&&(T=1);else if(typeof t=="string")T=oT(t,r,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=Mt(31,r,s,p),t.elementType=X,t.lanes=y,t;case x:return mi(r.children,p,y,s);case M:T=8,p|=24;break;case O:return t=Mt(12,r,s,p|2),t.elementType=O,t.lanes=y,t;case j:return t=Mt(13,r,s,p),t.elementType=j,t.lanes=y,t;case Y:return t=Mt(19,r,s,p),t.elementType=Y,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:T=10;break e;case H:T=9;break e;case F:T=11;break e;case J:T=14;break e;case le:T=16,u=null;break e}T=29,r=Error(o(130,t===null?"null":typeof t,"")),u=null}return s=Mt(T,r,s,p),s.elementType=t,s.type=u,s.lanes=y,s}function mi(t,s,r,u){return t=Mt(7,t,u,s),t.lanes=r,t}function El(t,s,r){return t=Mt(6,t,null,s),t.lanes=r,t}function uf(t){var s=Mt(18,null,null,0);return s.stateNode=t,s}function Sl(t,s,r){return s=Mt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var cf=new WeakMap;function Vt(t,s){if(typeof t=="object"&&t!==null){var r=cf.get(t);return r!==void 0?r:(s={value:t,source:s,stack:ld(s)},cf.set(t,s),s)}return{value:t,source:s,stack:ld(s)}}var Wi=[],Zi=0,gr=null,no=0,Ft=[],Jt=0,On=null,rn=1,an="";function pn(t,s){Wi[Zi++]=no,Wi[Zi++]=gr,gr=t,no=s}function df(t,s,r){Ft[Jt++]=rn,Ft[Jt++]=an,Ft[Jt++]=On,On=t;var u=rn;t=an;var p=32-Rt(u)-1;u&=~(1<<p),r+=1;var y=32-Rt(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,rn=1<<32-Rt(s)+p|r<<p|u,an=y+t}else rn=1<<y|r<<p|u,an=t}function bl(t){t.return!==null&&(pn(t,1),df(t,1,0))}function Al(t){for(;t===gr;)gr=Wi[--Zi],Wi[Zi]=null,no=Wi[--Zi],Wi[Zi]=null;for(;t===On;)On=Ft[--Jt],Ft[Jt]=null,an=Ft[--Jt],Ft[Jt]=null,rn=Ft[--Jt],Ft[Jt]=null}function ff(t,s){Ft[Jt++]=rn,Ft[Jt++]=an,Ft[Jt++]=On,rn=s.id,an=s.overflow,On=t}var ut=null,Ge=null,Se=!1,Ln=null,$t=!1,Cl=Error(o(519));function qn(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Vt(s,t)),Cl}function hf(t){var s=t.stateNode,r=t.type,u=t.memoizedProps;switch(s[lt]=t,s[_t]=u,r){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(r=0;r<wo.length;r++)_e(wo[r],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":_e("invalid",s),Cd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":_e("invalid",s);break;case"textarea":_e("invalid",s),xd(s,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||u.suppressHydrationWarning===!0||Mp(s.textContent,r)?(u.popover!=null&&(_e("beforetoggle",s),_e("toggle",s)),u.onScroll!=null&&_e("scroll",s),u.onScrollEnd!=null&&_e("scrollend",s),u.onClick!=null&&(s.onclick=dn),s=!0):s=!1,s||qn(t,!0)}function pf(t){for(ut=t.return;ut;)switch(ut.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ut=ut.return}}function es(t){if(t!==ut)return!1;if(!Se)return pf(t),Se=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Vu(t.type,t.memoizedProps)),r=!r),r&&Ge&&qn(t),pf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ge=Hp(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ge=Hp(t)}else s===27?(s=Ge,Wn(t.type)?(t=ju,ju=null,Ge=t):Ge=s):Ge=ut?jt(t.stateNode.nextSibling):null;return!0}function gi(){Ge=ut=null,Se=!1}function wl(){var t=Ln;return t!==null&&(At===null?At=t:At.push.apply(At,t),Ln=null),t}function io(t){Ln===null?Ln=[t]:Ln.push(t)}var xl=N(null),yi=null,mn=null;function Hn(t,s,r){K(xl,s._currentValue),s._currentValue=r}function gn(t){t._currentValue=xl.current,V(xl)}function Rl(t,s,r){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===r)break;t=t.return}}function Nl(t,s,r,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var b=y;y=p;for(var w=0;w<s.length;w++)if(b.context===s[w]){y.lanes|=r,b=y.alternate,b!==null&&(b.lanes|=r),Rl(y.return,r,t),u||(T=null);break e}y=b.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(o(341));T.lanes|=r,y=T.alternate,y!==null&&(y.lanes|=r),Rl(T,r,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function ts(t,s,r,u){t=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var b=p.type;Nt(p.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(p===be.current){if(T=p.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Io):t=[Io])}p=p.return}t!==null&&Nl(s,t,r,u),s.flags|=262144}function yr(t){for(t=t.firstContext;t!==null;){if(!Nt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vi(t){yi=t,mn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ct(t){return mf(yi,t)}function vr(t,s){return yi===null&&vi(t),mf(t,s)}function mf(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},mn===null){if(t===null)throw Error(o(308));mn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else mn=mn.next=s;return r}var t_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},n_=n.unstable_scheduleCallback,i_=n.unstable_NormalPriority,We={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ml(){return{controller:new t_,data:new Map,refCount:0}}function so(t){t.refCount--,t.refCount===0&&n_(i_,function(){t.controller.abort()})}var oo=null,Il=0,ns=0,is=null;function s_(t,s){if(oo===null){var r=oo=[];Il=0,ns=Uu(),is={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Il++,s.then(gf,gf),s}function gf(){if(--Il===0&&oo!==null){is!==null&&(is.status="fulfilled");var t=oo;oo=null,ns=0,is=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function o_(t,s){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<r.length;p++)(0,r[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var yf=q.S;q.S=function(t,s){ep=wt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s_(t,s),yf!==null&&yf(t,s)};var _i=N(null);function kl(){var t=_i.current;return t!==null?t:qe.pooledCache}function _r(t,s){s===null?K(_i,_i.current):K(_i,s.pool)}function vf(){var t=kl();return t===null?null:{parent:We._currentValue,pool:t}}var ss=Error(o(460)),Dl=Error(o(474)),Tr=Error(o(542)),Er={then:function(){}};function _f(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tf(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(dn,dn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Sf(t),t;default:if(typeof s.status=="string")s.then(dn,dn);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Sf(t),t}throw Ei=s,ss}}function Ti(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ei=r,ss):r}}var Ei=null;function Ef(){if(Ei===null)throw Error(o(459));var t=Ei;return Ei=null,t}function Sf(t){if(t===ss||t===Tr)throw Error(o(483))}var os=null,ro=0;function Sr(t){var s=ro;return ro+=1,os===null&&(os=[]),Tf(os,t,s)}function ao(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function br(t,s){throw s.$$typeof===E?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function bf(t){function s(I,R){if(t){var D=I.deletions;D===null?(I.deletions=[R],I.flags|=16):D.push(R)}}function r(I,R){if(!t)return null;for(;R!==null;)s(I,R),R=R.sibling;return null}function u(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function p(I,R){return I=hn(I,R),I.index=0,I.sibling=null,I}function y(I,R,D){return I.index=D,t?(D=I.alternate,D!==null?(D=D.index,D<R?(I.flags|=67108866,R):D):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function T(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function b(I,R,D,B){return R===null||R.tag!==6?(R=El(D,I.mode,B),R.return=I,R):(R=p(R,D),R.return=I,R)}function w(I,R,D,B){var oe=D.type;return oe===x?G(I,R,D.props.children,B,D.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===le&&Ti(oe)===R.type)?(R=p(R,D.props),ao(R,D),R.return=I,R):(R=mr(D.type,D.key,D.props,null,I.mode,B),ao(R,D),R.return=I,R)}function U(I,R,D,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Sl(D,I.mode,B),R.return=I,R):(R=p(R,D.children||[]),R.return=I,R)}function G(I,R,D,B,oe){return R===null||R.tag!==7?(R=mi(D,I.mode,B,oe),R.return=I,R):(R=p(R,D),R.return=I,R)}function z(I,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=El(""+R,I.mode,D),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return D=mr(R.type,R.key,R.props,null,I.mode,D),ao(D,R),D.return=I,D;case C:return R=Sl(R,I.mode,D),R.return=I,R;case le:return R=Ti(R),z(I,R,D)}if(Je(R)||pe(R))return R=mi(R,I.mode,D,null),R.return=I,R;if(typeof R.then=="function")return z(I,Sr(R),D);if(R.$$typeof===k)return z(I,vr(I,R),D);br(I,R)}return null}function P(I,R,D,B){var oe=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:b(I,R,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return D.key===oe?w(I,R,D,B):null;case C:return D.key===oe?U(I,R,D,B):null;case le:return D=Ti(D),P(I,R,D,B)}if(Je(D)||pe(D))return oe!==null?null:G(I,R,D,B,null);if(typeof D.then=="function")return P(I,R,Sr(D),B);if(D.$$typeof===k)return P(I,R,vr(I,D),B);br(I,D)}return null}function L(I,R,D,B,oe){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return I=I.get(D)||null,b(R,I,""+B,oe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return I=I.get(B.key===null?D:B.key)||null,w(R,I,B,oe);case C:return I=I.get(B.key===null?D:B.key)||null,U(R,I,B,oe);case le:return B=Ti(B),L(I,R,D,B,oe)}if(Je(B)||pe(B))return I=I.get(D)||null,G(R,I,B,oe,null);if(typeof B.then=="function")return L(I,R,D,Sr(B),oe);if(B.$$typeof===k)return L(I,R,D,vr(R,B),oe);br(R,B)}return null}function Z(I,R,D,B){for(var oe=null,Ae=null,ee=R,fe=R=0,Ee=null;ee!==null&&fe<D.length;fe++){ee.index>fe?(Ee=ee,ee=null):Ee=ee.sibling;var Ce=P(I,ee,D[fe],B);if(Ce===null){ee===null&&(ee=Ee);break}t&&ee&&Ce.alternate===null&&s(I,ee),R=y(Ce,R,fe),Ae===null?oe=Ce:Ae.sibling=Ce,Ae=Ce,ee=Ee}if(fe===D.length)return r(I,ee),Se&&pn(I,fe),oe;if(ee===null){for(;fe<D.length;fe++)ee=z(I,D[fe],B),ee!==null&&(R=y(ee,R,fe),Ae===null?oe=ee:Ae.sibling=ee,Ae=ee);return Se&&pn(I,fe),oe}for(ee=u(ee);fe<D.length;fe++)Ee=L(ee,I,fe,D[fe],B),Ee!==null&&(t&&Ee.alternate!==null&&ee.delete(Ee.key===null?fe:Ee.key),R=y(Ee,R,fe),Ae===null?oe=Ee:Ae.sibling=Ee,Ae=Ee);return t&&ee.forEach(function(ii){return s(I,ii)}),Se&&pn(I,fe),oe}function re(I,R,D,B){if(D==null)throw Error(o(151));for(var oe=null,Ae=null,ee=R,fe=R=0,Ee=null,Ce=D.next();ee!==null&&!Ce.done;fe++,Ce=D.next()){ee.index>fe?(Ee=ee,ee=null):Ee=ee.sibling;var ii=P(I,ee,Ce.value,B);if(ii===null){ee===null&&(ee=Ee);break}t&&ee&&ii.alternate===null&&s(I,ee),R=y(ii,R,fe),Ae===null?oe=ii:Ae.sibling=ii,Ae=ii,ee=Ee}if(Ce.done)return r(I,ee),Se&&pn(I,fe),oe;if(ee===null){for(;!Ce.done;fe++,Ce=D.next())Ce=z(I,Ce.value,B),Ce!==null&&(R=y(Ce,R,fe),Ae===null?oe=Ce:Ae.sibling=Ce,Ae=Ce);return Se&&pn(I,fe),oe}for(ee=u(ee);!Ce.done;fe++,Ce=D.next())Ce=L(ee,I,fe,Ce.value,B),Ce!==null&&(t&&Ce.alternate!==null&&ee.delete(Ce.key===null?fe:Ce.key),R=y(Ce,R,fe),Ae===null?oe=Ce:Ae.sibling=Ce,Ae=Ce);return t&&ee.forEach(function(gT){return s(I,gT)}),Se&&pn(I,fe),oe}function Oe(I,R,D,B){if(typeof D=="object"&&D!==null&&D.type===x&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case A:e:{for(var oe=D.key;R!==null;){if(R.key===oe){if(oe=D.type,oe===x){if(R.tag===7){r(I,R.sibling),B=p(R,D.props.children),B.return=I,I=B;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===le&&Ti(oe)===R.type){r(I,R.sibling),B=p(R,D.props),ao(B,D),B.return=I,I=B;break e}r(I,R);break}else s(I,R);R=R.sibling}D.type===x?(B=mi(D.props.children,I.mode,B,D.key),B.return=I,I=B):(B=mr(D.type,D.key,D.props,null,I.mode,B),ao(B,D),B.return=I,I=B)}return T(I);case C:e:{for(oe=D.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){r(I,R.sibling),B=p(R,D.children||[]),B.return=I,I=B;break e}else{r(I,R);break}else s(I,R);R=R.sibling}B=Sl(D,I.mode,B),B.return=I,I=B}return T(I);case le:return D=Ti(D),Oe(I,R,D,B)}if(Je(D))return Z(I,R,D,B);if(pe(D)){if(oe=pe(D),typeof oe!="function")throw Error(o(150));return D=oe.call(D),re(I,R,D,B)}if(typeof D.then=="function")return Oe(I,R,Sr(D),B);if(D.$$typeof===k)return Oe(I,R,vr(I,D),B);br(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(r(I,R.sibling),B=p(R,D),B.return=I,I=B):(r(I,R),B=El(D,I.mode,B),B.return=I,I=B),T(I)):r(I,R)}return function(I,R,D,B){try{ro=0;var oe=Oe(I,R,D,B);return os=null,oe}catch(ee){if(ee===ss||ee===Tr)throw ee;var Ae=Mt(29,ee,null,I.mode);return Ae.lanes=B,Ae.return=I,Ae}finally{}}}var Si=bf(!0),Af=bf(!1),Gn=!1;function Ul(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pl(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zn(t,s,r){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Me&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=pr(t),af(t,null,r),s}return hr(t,u,s,r),pr(t)}function lo(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,r|=u,s.lanes=r,pd(t,r)}}function Ol(t,s){var r=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,r=r.next}while(r!==null);y===null?p=y=s:y=y.next=s}else p=y=s;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var Ll=!1;function uo(){if(Ll){var t=is;if(t!==null)throw t}}function co(t,s,r,u){Ll=!1;var p=t.updateQueue;Gn=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var w=b,U=w.next;w.next=null,T===null?y=U:T.next=U,T=w;var G=t.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==T&&(b===null?G.firstBaseUpdate=U:b.next=U,G.lastBaseUpdate=w))}if(y!==null){var z=p.baseState;T=0,G=U=w=null,b=y;do{var P=b.lane&-536870913,L=P!==b.lane;if(L?(Te&P)===P:(u&P)===P){P!==0&&P===ns&&(Ll=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Z=t,re=b;P=s;var Oe=r;switch(re.tag){case 1:if(Z=re.payload,typeof Z=="function"){z=Z.call(Oe,z,P);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=re.payload,P=typeof Z=="function"?Z.call(Oe,z,P):Z,P==null)break e;z=_({},z,P);break e;case 2:Gn=!0}}P=b.callback,P!==null&&(t.flags|=64,L&&(t.flags|=8192),L=p.callbacks,L===null?p.callbacks=[P]:L.push(P))}else L={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(U=G=L,w=z):G=G.next=L,T|=P;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;L=b,b=L.next,L.next=null,p.lastBaseUpdate=L,p.shared.pending=null}}while(!0);G===null&&(w=z),p.baseState=w,p.firstBaseUpdate=U,p.lastBaseUpdate=G,y===null&&(p.shared.lanes=0),Yn|=T,t.lanes=T,t.memoizedState=z}}function Cf(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function wf(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Cf(r[t],s)}var rs=N(null),Ar=N(0);function xf(t,s){t=Cn,K(Ar,t),K(rs,s),Cn=t|s.baseLanes}function ql(){K(Ar,Cn),K(rs,rs.current)}function Hl(){Cn=Ar.current,V(rs),V(Ar)}var It=N(null),Yt=null;function Vn(t){var s=t.alternate;K(Ke,Ke.current&1),K(It,t),Yt===null&&(s===null||rs.current!==null||s.memoizedState!==null)&&(Yt=t)}function Gl(t){K(Ke,Ke.current),K(It,t),Yt===null&&(Yt=t)}function Rf(t){t.tag===22?(K(Ke,Ke.current),K(It,t),Yt===null&&(Yt=t)):Fn()}function Fn(){K(Ke,Ke.current),K(It,It.current)}function kt(t){V(It),Yt===t&&(Yt=null),V(Ke)}var Ke=N(0);function Cr(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||$u(r)||Yu(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yn=0,de=null,Ue=null,Ze=null,wr=!1,as=!1,bi=!1,xr=0,fo=0,ls=null,r_=0;function Ye(){throw Error(o(321))}function Bl(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Nt(t[r],s[r]))return!1;return!0}function zl(t,s,r,u,p,y){return yn=y,de=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=t===null||t.memoizedState===null?dh:iu,bi=!1,y=r(u,p),bi=!1,as&&(y=Mf(s,r,u,p)),Nf(t),y}function Nf(t){q.H=mo;var s=Ue!==null&&Ue.next!==null;if(yn=0,Ze=Ue=de=null,wr=!1,fo=0,ls=null,s)throw Error(o(300));t===null||et||(t=t.dependencies,t!==null&&yr(t)&&(et=!0))}function Mf(t,s,r,u){de=t;var p=0;do{if(as&&(ls=null),fo=0,as=!1,25<=p)throw Error(o(301));if(p+=1,Ze=Ue=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=fh,y=s(r,u)}while(as);return y}function a_(){var t=q.H,s=t.useState()[0];return s=typeof s.then=="function"?ho(s):s,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(de.flags|=1024),s}function Vl(){var t=xr!==0;return xr=0,t}function Fl(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Jl(t){if(wr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}wr=!1}yn=0,Ze=Ue=de=null,as=!1,fo=xr=0,ls=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?de.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Qe(){if(Ue===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var s=Ze===null?de.memoizedState:Ze.next;if(s!==null)Ze=s,Ue=t;else{if(t===null)throw de.alternate===null?Error(o(467)):Error(o(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ze===null?de.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(t){var s=fo;return fo+=1,ls===null&&(ls=[]),t=Tf(ls,t,s),s=de,(Ze===null?s.memoizedState:Ze.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?dh:iu),t}function Nr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ho(t);if(t.$$typeof===k)return ct(t)}throw Error(o(438,String(t)))}function $l(t){var s=null,r=de.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var u=de.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Rr(),de.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),u=0;u<t;u++)r[u]=he;return s.index++,r}function vn(t,s){return typeof s=="function"?s(t):s}function Mr(t){var s=Qe();return Yl(s,Ue,t)}function Yl(t,s,r){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=r;var p=t.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{s=p.next;var b=T=null,w=null,U=s,G=!1;do{var z=U.lane&-536870913;if(z!==U.lane?(Te&z)===z:(yn&z)===z){var P=U.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),z===ns&&(G=!0);else if((yn&P)===P){U=U.next,P===ns&&(G=!0);continue}else z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(b=w=z,T=y):w=w.next=z,de.lanes|=P,Yn|=P;z=U.action,bi&&r(y,z),y=U.hasEagerState?U.eagerState:r(y,z)}else P={lane:z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(b=w=P,T=y):w=w.next=P,de.lanes|=z,Yn|=z;U=U.next}while(U!==null&&U!==s);if(w===null?T=y:w.next=b,!Nt(y,t.memoizedState)&&(et=!0,G&&(r=is,r!==null)))throw r;t.memoizedState=y,t.baseState=T,t.baseQueue=w,u.lastRenderedState=y}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function jl(t){var s=Qe(),r=s.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var u=r.dispatch,p=r.pending,y=s.memoizedState;if(p!==null){r.pending=null;var T=p=p.next;do y=t(y,T.action),T=T.next;while(T!==p);Nt(y,s.memoizedState)||(et=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),r.lastRenderedState=y}return[y,u]}function If(t,s,r){var u=de,p=Qe(),y=Se;if(y){if(r===void 0)throw Error(o(407));r=r()}else r=s();var T=!Nt((Ue||p).memoizedState,r);if(T&&(p.memoizedState=r,et=!0),p=p.queue,Xl(Uf.bind(null,u,p,t),[t]),p.getSnapshot!==s||T||Ze!==null&&Ze.memoizedState.tag&1){if(u.flags|=2048,us(9,{destroy:void 0},Df.bind(null,u,p,r,s),null),qe===null)throw Error(o(349));y||(yn&127)!==0||kf(u,s,r)}return r}function kf(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=de.updateQueue,s===null?(s=Rr(),de.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Df(t,s,r,u){s.value=r,s.getSnapshot=u,Pf(s)&&Of(t)}function Uf(t,s,r){return r(function(){Pf(s)&&Of(t)})}function Pf(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Nt(t,r)}catch{return!0}}function Of(t){var s=pi(t,2);s!==null&&Ct(s,t,2)}function Kl(t){var s=vt();if(typeof t=="function"){var r=t;if(t=r(),bi){Dn(!0);try{r()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},s}function Lf(t,s,r,u){return t.baseState=r,Yl(t,Ue,typeof u=="function"?u:vn)}function l_(t,s,r,u,p){if(Dr(t))throw Error(o(485));if(t=s.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};q.T!==null?r(!0):y.isTransition=!1,u(y),r=s.pending,r===null?(y.next=s.pending=y,qf(s,y)):(y.next=r.next,s.pending=r.next=y)}}function qf(t,s){var r=s.action,u=s.payload,p=t.state;if(s.isTransition){var y=q.T,T={};q.T=T;try{var b=r(p,u),w=q.S;w!==null&&w(T,b),Hf(t,s,b)}catch(U){Ql(t,s,U)}finally{y!==null&&T.types!==null&&(y.types=T.types),q.T=y}}else try{y=r(p,u),Hf(t,s,y)}catch(U){Ql(t,s,U)}}function Hf(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Gf(t,s,u)},function(u){return Ql(t,s,u)}):Gf(t,s,r)}function Gf(t,s,r){s.status="fulfilled",s.value=r,Bf(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,qf(t,r)))}function Ql(t,s,r){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=r,Bf(s),s=s.next;while(s!==u)}t.action=null}function Bf(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function zf(t,s){return s}function Vf(t,s){if(Se){var r=qe.formState;if(r!==null){e:{var u=de;if(Se){if(Ge){t:{for(var p=Ge,y=$t;p.nodeType!==8;){if(!y){p=null;break t}if(p=jt(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ge=jt(p.nextSibling),u=p.data==="F!";break e}}qn(u)}u=!1}u&&(s=r[0])}}return r=vt(),r.memoizedState=r.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:s},r.queue=u,r=lh.bind(null,de,u),u.dispatch=r,u=Kl(!1),y=nu.bind(null,de,!1,u.queue),u=vt(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,r=l_.bind(null,de,p,y,r),p.dispatch=r,u.memoizedState=t,[s,r,!1]}function Ff(t){var s=Qe();return Jf(s,Ue,t)}function Jf(t,s,r){if(s=Yl(t,s,zf)[0],t=Mr(vn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ho(s)}catch(T){throw T===ss?Tr:T}else u=s;s=Qe();var p=s.queue,y=p.dispatch;return r!==s.memoizedState&&(de.flags|=2048,us(9,{destroy:void 0},u_.bind(null,p,r),null)),[u,y,t]}function u_(t,s){t.action=s}function $f(t){var s=Qe(),r=Ue;if(r!==null)return Jf(s,r,t);Qe(),s=s.memoizedState,r=Qe();var u=r.queue.dispatch;return r.memoizedState=t,[s,u,!1]}function us(t,s,r,u){return t={tag:t,create:r,deps:u,inst:s,next:null},s=de.updateQueue,s===null&&(s=Rr(),de.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(u=r.next,r.next=t,t.next=u,s.lastEffect=t),t}function Yf(){return Qe().memoizedState}function Ir(t,s,r,u){var p=vt();de.flags|=t,p.memoizedState=us(1|s,{destroy:void 0},r,u===void 0?null:u)}function kr(t,s,r,u){var p=Qe();u=u===void 0?null:u;var y=p.memoizedState.inst;Ue!==null&&u!==null&&Bl(u,Ue.memoizedState.deps)?p.memoizedState=us(s,y,r,u):(de.flags|=t,p.memoizedState=us(1|s,y,r,u))}function jf(t,s){Ir(8390656,8,t,s)}function Xl(t,s){kr(2048,8,t,s)}function c_(t){de.flags|=4;var s=de.updateQueue;if(s===null)s=Rr(),de.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Kf(t){var s=Qe().memoizedState;return c_({ref:s,nextImpl:t}),function(){if((Me&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Qf(t,s){return kr(4,2,t,s)}function Xf(t,s){return kr(4,4,t,s)}function Wf(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Zf(t,s,r){r=r!=null?r.concat([t]):null,kr(4,4,Wf.bind(null,s,t),r)}function Wl(){}function eh(t,s){var r=Qe();s=s===void 0?null:s;var u=r.memoizedState;return s!==null&&Bl(s,u[1])?u[0]:(r.memoizedState=[t,s],t)}function th(t,s){var r=Qe();s=s===void 0?null:s;var u=r.memoizedState;if(s!==null&&Bl(s,u[1]))return u[0];if(u=t(),bi){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[u,s],u}function Zl(t,s,r){return r===void 0||(yn&1073741824)!==0&&(Te&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=np(),de.lanes|=t,Yn|=t,r)}function nh(t,s,r,u){return Nt(r,s)?r:rs.current!==null?(t=Zl(t,r,u),Nt(t,s)||(et=!0),t):(yn&42)===0||(yn&1073741824)!==0&&(Te&261930)===0?(et=!0,t.memoizedState=r):(t=np(),de.lanes|=t,Yn|=t,s)}function ih(t,s,r,u,p){var y=$.p;$.p=y!==0&&8>y?y:8;var T=q.T,b={};q.T=b,nu(t,!1,s,r);try{var w=p(),U=q.S;if(U!==null&&U(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=o_(w,u);po(t,s,G,Pt(t))}else po(t,s,u,Pt(t))}catch(z){po(t,s,{then:function(){},status:"rejected",reason:z},Pt())}finally{$.p=y,T!==null&&b.types!==null&&(T.types=b.types),q.T=T}}function d_(){}function eu(t,s,r,u){if(t.tag!==5)throw Error(o(476));var p=sh(t).queue;ih(t,p,s,se,r===null?d_:function(){return oh(t),r(u)})}function sh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:se},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function oh(t){var s=sh(t);s.next===null&&(s=t.alternate.memoizedState),po(t,s.next.queue,{},Pt())}function tu(){return ct(Io)}function rh(){return Qe().memoizedState}function ah(){return Qe().memoizedState}function f_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=Pt();t=Bn(r);var u=zn(s,t,r);u!==null&&(Ct(u,s,r),lo(u,s,r)),s={cache:Ml()},t.payload=s;return}s=s.return}}function h_(t,s,r){var u=Pt();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Dr(t)?uh(s,r):(r=_l(t,s,r,u),r!==null&&(Ct(r,t,u),ch(r,s,u)))}function lh(t,s,r){var u=Pt();po(t,s,r,u)}function po(t,s,r,u){var p={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dr(t))uh(s,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,b=y(T,r);if(p.hasEagerState=!0,p.eagerState=b,Nt(b,T))return hr(t,s,p,0),qe===null&&fr(),!1}catch{}finally{}if(r=_l(t,s,p,u),r!==null)return Ct(r,t,u),ch(r,s,u),!0}return!1}function nu(t,s,r,u){if(u={lane:2,revertLane:Uu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dr(t)){if(s)throw Error(o(479))}else s=_l(t,r,u,2),s!==null&&Ct(s,t,2)}function Dr(t){var s=t.alternate;return t===de||s!==null&&s===de}function uh(t,s){as=wr=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function ch(t,s,r){if((r&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,r|=u,s.lanes=r,pd(t,r)}}var mo={readContext:ct,use:Nr,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};mo.useEffectEvent=Ye;var dh={readContext:ct,use:Nr,useCallback:function(t,s){return vt().memoizedState=[t,s===void 0?null:s],t},useContext:ct,useEffect:jf,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,Ir(4194308,4,Wf.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Ir(4194308,4,t,s)},useInsertionEffect:function(t,s){Ir(4,2,t,s)},useMemo:function(t,s){var r=vt();s=s===void 0?null:s;var u=t();if(bi){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[u,s],u},useReducer:function(t,s,r){var u=vt();if(r!==void 0){var p=r(s);if(bi){Dn(!0);try{r(s)}finally{Dn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=h_.bind(null,de,t),[u.memoizedState,t]},useRef:function(t){var s=vt();return t={current:t},s.memoizedState=t},useState:function(t){t=Kl(t);var s=t.queue,r=lh.bind(null,de,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:Wl,useDeferredValue:function(t,s){var r=vt();return Zl(r,t,s)},useTransition:function(){var t=Kl(!1);return t=ih.bind(null,de,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var u=de,p=vt();if(Se){if(r===void 0)throw Error(o(407));r=r()}else{if(r=s(),qe===null)throw Error(o(349));(Te&127)!==0||kf(u,s,r)}p.memoizedState=r;var y={value:r,getSnapshot:s};return p.queue=y,jf(Uf.bind(null,u,y,t),[t]),u.flags|=2048,us(9,{destroy:void 0},Df.bind(null,u,y,r,s),null),r},useId:function(){var t=vt(),s=qe.identifierPrefix;if(Se){var r=an,u=rn;r=(u&~(1<<32-Rt(u)-1)).toString(32)+r,s="_"+s+"R_"+r,r=xr++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=r_++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:tu,useFormState:Vf,useActionState:Vf,useOptimistic:function(t){var s=vt();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=nu.bind(null,de,!0,r),r.dispatch=s,[t,s]},useMemoCache:$l,useCacheRefresh:function(){return vt().memoizedState=f_.bind(null,de)},useEffectEvent:function(t){var s=vt(),r={impl:t};return s.memoizedState=r,function(){if((Me&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},iu={readContext:ct,use:Nr,useCallback:eh,useContext:ct,useEffect:Xl,useImperativeHandle:Zf,useInsertionEffect:Qf,useLayoutEffect:Xf,useMemo:th,useReducer:Mr,useRef:Yf,useState:function(){return Mr(vn)},useDebugValue:Wl,useDeferredValue:function(t,s){var r=Qe();return nh(r,Ue.memoizedState,t,s)},useTransition:function(){var t=Mr(vn)[0],s=Qe().memoizedState;return[typeof t=="boolean"?t:ho(t),s]},useSyncExternalStore:If,useId:rh,useHostTransitionStatus:tu,useFormState:Ff,useActionState:Ff,useOptimistic:function(t,s){var r=Qe();return Lf(r,Ue,t,s)},useMemoCache:$l,useCacheRefresh:ah};iu.useEffectEvent=Kf;var fh={readContext:ct,use:Nr,useCallback:eh,useContext:ct,useEffect:Xl,useImperativeHandle:Zf,useInsertionEffect:Qf,useLayoutEffect:Xf,useMemo:th,useReducer:jl,useRef:Yf,useState:function(){return jl(vn)},useDebugValue:Wl,useDeferredValue:function(t,s){var r=Qe();return Ue===null?Zl(r,t,s):nh(r,Ue.memoizedState,t,s)},useTransition:function(){var t=jl(vn)[0],s=Qe().memoizedState;return[typeof t=="boolean"?t:ho(t),s]},useSyncExternalStore:If,useId:rh,useHostTransitionStatus:tu,useFormState:$f,useActionState:$f,useOptimistic:function(t,s){var r=Qe();return Ue!==null?Lf(r,Ue,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:$l,useCacheRefresh:ah};fh.useEffectEvent=Kf;function su(t,s,r,u){s=t.memoizedState,r=r(u,s),r=r==null?s:_({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ou={enqueueSetState:function(t,s,r){t=t._reactInternals;var u=Pt(),p=Bn(u);p.payload=s,r!=null&&(p.callback=r),s=zn(t,p,u),s!==null&&(Ct(s,t,u),lo(s,t,u))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var u=Pt(),p=Bn(u);p.tag=1,p.payload=s,r!=null&&(p.callback=r),s=zn(t,p,u),s!==null&&(Ct(s,t,u),lo(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Pt(),u=Bn(r);u.tag=2,s!=null&&(u.callback=s),s=zn(t,u,r),s!==null&&(Ct(s,t,r),lo(s,t,r))}};function hh(t,s,r,u,p,y,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!eo(r,u)||!eo(p,y):!0}function ph(t,s,r,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,u),s.state!==t&&ou.enqueueReplaceState(s,s.state,null)}function Ai(t,s){var r=s;if("ref"in s){r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}if(t=t.defaultProps){r===s&&(r=_({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function mh(t){dr(t)}function gh(t){console.error(t)}function yh(t){dr(t)}function Ur(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function vh(t,s,r){try{var u=t.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ru(t,s,r){return r=Bn(r),r.tag=3,r.payload={element:null},r.callback=function(){Ur(t,s)},r}function _h(t){return t=Bn(t),t.tag=3,t}function Th(t,s,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;t.payload=function(){return p(y)},t.callback=function(){vh(s,r,u)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){vh(s,r,u),typeof p!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function p_(t,s,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=r.alternate,s!==null&&ts(s,r,p,!0),r=It.current,r!==null){switch(r.tag){case 31:case 13:return Yt===null?$r():r.alternate===null&&je===0&&(je=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===Er?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([u]):s.add(u),Iu(t,u,p)),!1;case 22:return r.flags|=65536,u===Er?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([u]):r.add(u)),Iu(t,u,p)),!1}throw Error(o(435,r.tag))}return Iu(t,u,p),$r(),!1}if(Se)return s=It.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Cl&&(t=Error(o(422),{cause:u}),io(Vt(t,r)))):(u!==Cl&&(s=Error(o(423),{cause:u}),io(Vt(s,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=Vt(u,r),p=ru(t.stateNode,u,p),Ol(t,p),je!==4&&(je=2)),!1;var y=Error(o(520),{cause:u});if(y=Vt(y,r),bo===null?bo=[y]:bo.push(y),je!==4&&(je=2),s===null)return!0;u=Vt(u,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=ru(r.stateNode,u,t),Ol(r,t),!1;case 1:if(s=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jn===null||!jn.has(y))))return r.flags|=65536,p&=-p,r.lanes|=p,p=_h(p),Th(p,t,r,u),Ol(r,p),!1}r=r.return}while(r!==null);return!1}var au=Error(o(461)),et=!1;function dt(t,s,r,u){s.child=t===null?Af(s,null,r,u):Si(s,t.child,r,u)}function Eh(t,s,r,u,p){r=r.render;var y=s.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return vi(s),u=zl(t,s,r,T,y,p),b=Vl(),t!==null&&!et?(Fl(t,s,p),_n(t,s,p)):(Se&&b&&bl(s),s.flags|=1,dt(t,s,u,p),s.child)}function Sh(t,s,r,u,p){if(t===null){var y=r.type;return typeof y=="function"&&!Tl(y)&&y.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=y,bh(t,s,y,u,p)):(t=mr(r.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(y=t.child,!mu(t,p)){var T=y.memoizedProps;if(r=r.compare,r=r!==null?r:eo,r(T,u)&&t.ref===s.ref)return _n(t,s,p)}return s.flags|=1,t=hn(y,u),t.ref=s.ref,t.return=s,s.child=t}function bh(t,s,r,u,p){if(t!==null){var y=t.memoizedProps;if(eo(y,u)&&t.ref===s.ref)if(et=!1,s.pendingProps=u=y,mu(t,p))(t.flags&131072)!==0&&(et=!0);else return s.lanes=t.lanes,_n(t,s,p)}return lu(t,s,r,u,p)}function Ah(t,s,r,u){var p=u.children,y=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,t!==null){for(u=s.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return Ch(t,s,y,r,u)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_r(s,y!==null?y.cachePool:null),y!==null?xf(s,y):ql(),Rf(s);else return u=s.lanes=536870912,Ch(t,s,y!==null?y.baseLanes|r:r,r,u)}else y!==null?(_r(s,y.cachePool),xf(s,y),Fn(),s.memoizedState=null):(t!==null&&_r(s,null),ql(),Fn());return dt(t,s,p,r),s.child}function go(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ch(t,s,r,u,p){var y=kl();return y=y===null?null:{parent:We._currentValue,pool:y},s.memoizedState={baseLanes:r,cachePool:y},t!==null&&_r(s,null),ql(),Rf(s),t!==null&&ts(t,s,u,!0),s.childLanes=p,null}function Pr(t,s){return s=Lr({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function wh(t,s,r){return Si(s,t.child,null,r),t=Pr(s,s.pendingProps),t.flags|=2,kt(s),s.memoizedState=null,t}function m_(t,s,r){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Se){if(u.mode==="hidden")return t=Pr(s,u),s.lanes=536870912,go(null,t);if(Gl(s),(t=Ge)?(t=qp(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:On!==null?{id:rn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},r=uf(t),r.return=s,s.child=r,ut=s,Ge=null)):t=null,t===null)throw qn(s);return s.lanes=536870912,null}return Pr(s,u)}var y=t.memoizedState;if(y!==null){var T=y.dehydrated;if(Gl(s),p)if(s.flags&256)s.flags&=-257,s=wh(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(et||ts(t,s,r,!1),p=(r&t.childLanes)!==0,et||p){if(u=qe,u!==null&&(T=md(u,r),T!==0&&T!==y.retryLane))throw y.retryLane=T,pi(t,T),Ct(u,t,T),au;$r(),s=wh(t,s,r)}else t=y.treeContext,Ge=jt(T.nextSibling),ut=s,Se=!0,Ln=null,$t=!1,t!==null&&ff(s,t),s=Pr(s,u),s.flags|=4096;return s}return t=hn(t.child,{mode:u.mode,children:u.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Or(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function lu(t,s,r,u,p){return vi(s),r=zl(t,s,r,u,void 0,p),u=Vl(),t!==null&&!et?(Fl(t,s,p),_n(t,s,p)):(Se&&u&&bl(s),s.flags|=1,dt(t,s,r,p),s.child)}function xh(t,s,r,u,p,y){return vi(s),s.updateQueue=null,r=Mf(s,u,r,p),Nf(t),u=Vl(),t!==null&&!et?(Fl(t,s,y),_n(t,s,y)):(Se&&u&&bl(s),s.flags|=1,dt(t,s,r,y),s.child)}function Rh(t,s,r,u,p){if(vi(s),s.stateNode===null){var y=Xi,T=r.contextType;typeof T=="object"&&T!==null&&(y=ct(T)),y=new r(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ou,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Ul(s),T=r.contextType,y.context=typeof T=="object"&&T!==null?ct(T):Xi,y.state=s.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(su(s,r,T,u),y.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&ou.enqueueReplaceState(y,y.state,null),co(s,u,y,p),uo(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){y=s.stateNode;var b=s.memoizedProps,w=Ai(r,b);y.props=w;var U=y.context,G=r.contextType;T=Xi,typeof G=="object"&&G!==null&&(T=ct(G));var z=r.getDerivedStateFromProps;G=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,G||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b||U!==T)&&ph(s,y,u,T),Gn=!1;var P=s.memoizedState;y.state=P,co(s,u,y,p),uo(),U=s.memoizedState,b||P!==U||Gn?(typeof z=="function"&&(su(s,r,z,u),U=s.memoizedState),(w=Gn||hh(s,r,w,u,P,U,T))?(G||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=U),y.props=u,y.state=U,y.context=T,u=w):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Pl(t,s),T=s.memoizedProps,G=Ai(r,T),y.props=G,z=s.pendingProps,P=y.context,U=r.contextType,w=Xi,typeof U=="object"&&U!==null&&(w=ct(U)),b=r.getDerivedStateFromProps,(U=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==z||P!==w)&&ph(s,y,u,w),Gn=!1,P=s.memoizedState,y.state=P,co(s,u,y,p),uo();var L=s.memoizedState;T!==z||P!==L||Gn||t!==null&&t.dependencies!==null&&yr(t.dependencies)?(typeof b=="function"&&(su(s,r,b,u),L=s.memoizedState),(G=Gn||hh(s,r,G,u,P,L,w)||t!==null&&t.dependencies!==null&&yr(t.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,L,w),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,L,w)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=L),y.props=u,y.state=L,y.context=w,u=G):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),u=!1)}return y=u,Or(t,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,t!==null&&u?(s.child=Si(s,t.child,null,p),s.child=Si(s,null,r,p)):dt(t,s,r,p),s.memoizedState=y.state,t=s.child):t=_n(t,s,p),t}function Nh(t,s,r,u){return gi(),s.flags|=256,dt(t,s,r,u),s.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(t){return{baseLanes:t,cachePool:vf()}}function du(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=Ut),t}function Mh(t,s,r){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,t===null){if(Se){if(p?Vn(s):Fn(),(t=Ge)?(t=qp(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:On!==null?{id:rn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},r=uf(t),r.return=s,s.child=r,ut=s,Ge=null)):t=null,t===null)throw qn(s);return Yu(t)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,p?(Fn(),p=s.mode,b=Lr({mode:"hidden",children:b},p),u=mi(u,p,r,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=cu(r),u.childLanes=du(t,T,r),s.memoizedState=uu,go(null,u)):(Vn(s),fu(s,b))}var w=t.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(y)s.flags&256?(Vn(s),s.flags&=-257,s=hu(t,s,r)):s.memoizedState!==null?(Fn(),s.child=t.child,s.flags|=128,s=null):(Fn(),b=u.fallback,p=s.mode,u=Lr({mode:"visible",children:u.children},p),b=mi(b,p,r,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,Si(s,t.child,null,r),u=s.child,u.memoizedState=cu(r),u.childLanes=du(t,T,r),s.memoizedState=uu,s=go(null,u));else if(Vn(s),Yu(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var U=T.dgst;T=U,u=Error(o(419)),u.stack="",u.digest=T,io({value:u,source:null,stack:null}),s=hu(t,s,r)}else if(et||ts(t,s,r,!1),T=(r&t.childLanes)!==0,et||T){if(T=qe,T!==null&&(u=md(T,r),u!==0&&u!==w.retryLane))throw w.retryLane=u,pi(t,u),Ct(T,t,u),au;$u(b)||$r(),s=hu(t,s,r)}else $u(b)?(s.flags|=192,s.child=t.child,s=null):(t=w.treeContext,Ge=jt(b.nextSibling),ut=s,Se=!0,Ln=null,$t=!1,t!==null&&ff(s,t),s=fu(s,u.children),s.flags|=4096);return s}return p?(Fn(),b=u.fallback,p=s.mode,w=t.child,U=w.sibling,u=hn(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,U!==null?b=hn(U,b):(b=mi(b,p,r,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,go(null,u),u=s.child,b=t.child.memoizedState,b===null?b=cu(r):(p=b.cachePool,p!==null?(w=We._currentValue,p=p.parent!==w?{parent:w,pool:w}:p):p=vf(),b={baseLanes:b.baseLanes|r,cachePool:p}),u.memoizedState=b,u.childLanes=du(t,T,r),s.memoizedState=uu,go(t.child,u)):(Vn(s),r=t.child,t=r.sibling,r=hn(r,{mode:"visible",children:u.children}),r.return=s,r.sibling=null,t!==null&&(T=s.deletions,T===null?(s.deletions=[t],s.flags|=16):T.push(t)),s.child=r,s.memoizedState=null,r)}function fu(t,s){return s=Lr({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Lr(t,s){return t=Mt(22,t,null,s),t.lanes=0,t}function hu(t,s,r){return Si(s,t.child,null,r),t=fu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ih(t,s,r){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),Rl(t.return,s,r)}function pu(t,s,r,u,p,y){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p,treeForkCount:y}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=r,T.tailMode=p,T.treeForkCount=y)}function kh(t,s,r){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var T=Ke.current,b=(T&2)!==0;if(b?(T=T&1|2,s.flags|=128):T&=1,K(Ke,T),dt(t,s,u,r),u=Se?no:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ih(t,r,s);else if(t.tag===19)Ih(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=s.child,p=null;r!==null;)t=r.alternate,t!==null&&Cr(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=s.child,s.child=null):(p=r.sibling,r.sibling=null),pu(s,!1,p,r,y,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&Cr(t)===null){s.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}pu(s,!0,r,null,y,u);break;case"together":pu(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _n(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Yn|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(ts(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,r=hn(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=hn(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function mu(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yr(t)))}function g_(t,s,r){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),Hn(s,We,t.memoizedState.cache),gi();break;case 27:case 5:kn(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:Hn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gl(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Vn(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Mh(t,s,r):(Vn(s),t=_n(t,s,r),t!==null?t.sibling:null);Vn(s);break;case 19:var p=(t.flags&128)!==0;if(u=(r&s.childLanes)!==0,u||(ts(t,s,r,!1),u=(r&s.childLanes)!==0),p){if(u)return kh(t,s,r);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),K(Ke,Ke.current),u)break;return null;case 22:return s.lanes=0,Ah(t,s,r,s.pendingProps);case 24:Hn(s,We,t.memoizedState.cache)}return _n(t,s,r)}function Dh(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)et=!0;else{if(!mu(t,r)&&(s.flags&128)===0)return et=!1,g_(t,s,r);et=(t.flags&131072)!==0}else et=!1,Se&&(s.flags&1048576)!==0&&df(s,no,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(t=Ti(s.elementType),s.type=t,typeof t=="function")Tl(t)?(u=Ai(t,u),s.tag=1,s=Rh(null,s,t,u,r)):(s.tag=0,s=lu(null,s,t,u,r));else{if(t!=null){var p=t.$$typeof;if(p===F){s.tag=11,s=Eh(null,s,t,u,r);break e}else if(p===J){s.tag=14,s=Sh(null,s,t,u,r);break e}}throw s=pt(t)||t,Error(o(306,s,""))}}return s;case 0:return lu(t,s,s.type,s.pendingProps,r);case 1:return u=s.type,p=Ai(u,s.pendingProps),Rh(t,s,u,p,r);case 3:e:{if(ot(s,s.stateNode.containerInfo),t===null)throw Error(o(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,Pl(t,s),co(s,u,null,r);var T=s.memoizedState;if(u=T.cache,Hn(s,We,u),u!==y.cache&&Nl(s,[We],r,!0),uo(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Nh(t,s,u,r);break e}else if(u!==p){p=Vt(Error(o(424)),s),io(p),s=Nh(t,s,u,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=jt(t.firstChild),ut=s,Se=!0,Ln=null,$t=!0,r=Af(s,null,u,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(gi(),u===p){s=_n(t,s,r);break e}dt(t,s,u,r)}s=s.child}return s;case 26:return Or(t,s),t===null?(r=Fp(s.type,null,s.pendingProps,null))?s.memoizedState=r:Se||(r=s.type,t=s.pendingProps,u=Zr(me.current).createElement(r),u[lt]=s,u[_t]=t,ft(u,r,t),rt(u),s.stateNode=u):s.memoizedState=Fp(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return kn(s),t===null&&Se&&(u=s.stateNode=Bp(s.type,s.pendingProps,me.current),ut=s,$t=!0,p=Ge,Wn(s.type)?(ju=p,Ge=jt(u.firstChild)):Ge=p),dt(t,s,s.pendingProps.children,r),Or(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Se&&((p=u=Ge)&&(u=$_(u,s.type,s.pendingProps,$t),u!==null?(s.stateNode=u,ut=s,Ge=jt(u.firstChild),$t=!1,p=!0):p=!1),p||qn(s)),kn(s),p=s.type,y=s.pendingProps,T=t!==null?t.memoizedProps:null,u=y.children,Vu(p,y)?u=null:T!==null&&Vu(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=zl(t,s,a_,null,null,r),Io._currentValue=p),Or(t,s),dt(t,s,u,r),s.child;case 6:return t===null&&Se&&((t=r=Ge)&&(r=Y_(r,s.pendingProps,$t),r!==null?(s.stateNode=r,ut=s,Ge=null,t=!0):t=!1),t||qn(s)),null;case 13:return Mh(t,s,r);case 4:return ot(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Si(s,null,u,r):dt(t,s,u,r),s.child;case 11:return Eh(t,s,s.type,s.pendingProps,r);case 7:return dt(t,s,s.pendingProps,r),s.child;case 8:return dt(t,s,s.pendingProps.children,r),s.child;case 12:return dt(t,s,s.pendingProps.children,r),s.child;case 10:return u=s.pendingProps,Hn(s,s.type,u.value),dt(t,s,u.children,r),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,vi(s),p=ct(p),u=u(p),s.flags|=1,dt(t,s,u,r),s.child;case 14:return Sh(t,s,s.type,s.pendingProps,r);case 15:return bh(t,s,s.type,s.pendingProps,r);case 19:return kh(t,s,r);case 31:return m_(t,s,r);case 22:return Ah(t,s,r,s.pendingProps);case 24:return vi(s),u=ct(We),t===null?(p=kl(),p===null&&(p=qe,y=Ml(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=r),p=y),s.memoizedState={parent:u,cache:p},Ul(s),Hn(s,We,p)):((t.lanes&r)!==0&&(Pl(t,s),co(s,null,null,r),uo()),p=t.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Hn(s,We,u)):(u=y.cache,Hn(s,We,u),u!==p.cache&&Nl(s,[We],r,!0))),dt(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Tn(t){t.flags|=4}function gu(t,s,r,u,p){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(rp())t.flags|=8192;else throw Ei=Er,Dl}else t.flags&=-16777217}function Uh(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kp(s))if(rp())t.flags|=8192;else throw Ei=Er,Dl}function qr(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?fd():536870912,t.lanes|=s,hs|=s)}function yo(t,s){if(!Se)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Be(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,u=0;if(s)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=r,s}function y_(t,s,r){var u=s.pendingProps;switch(Al(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(s),null;case 1:return Be(s),null;case 3:return r=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gn(We),Ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(es(s)?Tn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wl())),Be(s),null;case 26:var p=s.type,y=s.memoizedState;return t===null?(Tn(s),y!==null?(Be(s),Uh(s,y)):(Be(s),gu(s,p,null,u,r))):y?y!==t.memoizedState?(Tn(s),Be(s),Uh(s,y)):(Be(s),s.flags&=-16777217):(t=t.memoizedProps,t!==u&&Tn(s),Be(s),gu(s,p,t,u,r)),null;case 27:if(ye(s),r=me.current,p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Tn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return Be(s),null}t=W.current,es(s)?hf(s):(t=Bp(p,u,r),s.stateNode=t,Tn(s))}return Be(s),null;case 5:if(ye(s),p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Tn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return Be(s),null}if(y=W.current,es(s))hf(s);else{var T=Zr(me.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}y[lt]=s,y[_t]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=y;e:switch(ft(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Tn(s)}}return Be(s),gu(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&Tn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(o(166));if(t=me.current,es(s)){if(t=s.stateNode,r=s.memoizedProps,u=null,p=ut,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[lt]=s,t=!!(t.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Mp(t.nodeValue,r)),t||qn(s,!0)}else t=Zr(t).createTextNode(u),t[lt]=s,s.stateNode=t}return Be(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(u=es(s),r!==null){if(t===null){if(!u)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[lt]=s}else gi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),t=!1}else r=wl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(kt(s),s):(kt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Be(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=es(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[lt]=s}else gi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),p=!1}else p=wl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(kt(s),s):(kt(s),null)}return kt(s),(s.flags&128)!==0?(s.lanes=r,s):(r=u!==null,t=t!==null&&t.memoizedState!==null,r&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),qr(s,s.updateQueue),Be(s),null);case 4:return Ve(),t===null&&qu(s.stateNode.containerInfo),Be(s),null;case 10:return gn(s.type),Be(s),null;case 19:if(V(Ke),u=s.memoizedState,u===null)return Be(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)yo(u,!1);else{if(je!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(y=Cr(t),y!==null){for(s.flags|=128,yo(u,!1),t=y.updateQueue,s.updateQueue=t,qr(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)lf(r,t),r=r.sibling;return K(Ke,Ke.current&1|2),Se&&pn(s,u.treeForkCount),s.child}t=t.sibling}u.tail!==null&&wt()>Vr&&(s.flags|=128,p=!0,yo(u,!1),s.lanes=4194304)}else{if(!p)if(t=Cr(y),t!==null){if(s.flags|=128,p=!0,t=t.updateQueue,s.updateQueue=t,qr(s,t),yo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Se)return Be(s),null}else 2*wt()-u.renderingStartTime>Vr&&r!==536870912&&(s.flags|=128,p=!0,yo(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(t=u.last,t!==null?t.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=wt(),t.sibling=null,r=Ke.current,K(Ke,p?r&1|2:r&1),Se&&pn(s,u.treeForkCount),t):(Be(s),null);case 22:case 23:return kt(s),Hl(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(r&536870912)!==0&&(s.flags&128)===0&&(Be(s),s.subtreeFlags&6&&(s.flags|=8192)):Be(s),r=s.updateQueue,r!==null&&qr(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048),t!==null&&V(_i),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),gn(We),Be(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function v_(t,s){switch(Al(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return gn(We),Ve(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ye(s),null;case 31:if(s.memoizedState!==null){if(kt(s),s.alternate===null)throw Error(o(340));gi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(kt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));gi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return V(Ke),null;case 4:return Ve(),null;case 10:return gn(s.type),null;case 22:case 23:return kt(s),Hl(),t!==null&&V(_i),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return gn(We),null;case 25:return null;default:return null}}function Ph(t,s){switch(Al(s),s.tag){case 3:gn(We),Ve();break;case 26:case 27:case 5:ye(s);break;case 4:Ve();break;case 31:s.memoizedState!==null&&kt(s);break;case 13:kt(s);break;case 19:V(Ke);break;case 10:gn(s.type);break;case 22:case 23:kt(s),Hl(),t!==null&&V(_i);break;case 24:gn(We)}}function vo(t,s){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&t)===t){u=void 0;var y=r.create,T=r.inst;u=y(),T.destroy=u}r=r.next}while(r!==p)}}catch(b){De(s,s.return,b)}}function Jn(t,s,r){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&t)===t){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,p=s;var w=r,U=b;try{U()}catch(G){De(p,w,G)}}}u=u.next}while(u!==y)}}catch(G){De(s,s.return,G)}}function Oh(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{wf(s,r)}catch(u){De(t,t.return,u)}}}function Lh(t,s,r){r.props=Ai(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(u){De(t,s,u)}}function _o(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(p){De(t,s,p)}}function ln(t,s){var r=t.ref,u=t.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){De(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){De(t,s,p)}else r.current=null}function qh(t){var s=t.type,r=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){De(t,t.return,p)}}function yu(t,s,r){try{var u=t.stateNode;G_(u,t.type,r,s),u[_t]=s}catch(p){De(t,t.return,p)}}function Hh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wn(t.type)||t.tag===4}function vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _u(t,s,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=dn));else if(u!==4&&(u===27&&Wn(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(_u(t,s,r),t=t.sibling;t!==null;)_u(t,s,r),t=t.sibling}function Hr(t,s,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(u!==4&&(u===27&&Wn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Hr(t,s,r),t=t.sibling;t!==null;)Hr(t,s,r),t=t.sibling}function Gh(t){var s=t.stateNode,r=t.memoizedProps;try{for(var u=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);ft(s,u,r),s[lt]=t,s[_t]=r}catch(y){De(t,t.return,y)}}var En=!1,tt=!1,Tu=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,at=null;function __(t,s){if(t=t.containerInfo,Bu=ra,t=Wd(t),hl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var T=0,b=-1,w=-1,U=0,G=0,z=t,P=null;t:for(;;){for(var L;z!==r||p!==0&&z.nodeType!==3||(b=T+p),z!==y||u!==0&&z.nodeType!==3||(w=T+u),z.nodeType===3&&(T+=z.nodeValue.length),(L=z.firstChild)!==null;)P=z,z=L;for(;;){if(z===t)break t;if(P===r&&++U===p&&(b=T),P===y&&++G===u&&(w=T),(L=z.nextSibling)!==null)break;z=P,P=z.parentNode}z=L}r=b===-1||w===-1?null:{start:b,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(zu={focusedElem:t,selectionRange:r},ra=!1,at=s;at!==null;)if(s=at,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,at=t;else for(;at!==null;){switch(s=at,y=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,r=s,p=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var Z=Ai(r.type,p);t=u.getSnapshotBeforeUpdate(Z,y),u.__reactInternalSnapshotBeforeUpdate=t}catch(re){De(r,r.return,re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Ju(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ju(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,at=t;break}at=s.return}}function zh(t,s,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:bn(t,r),u&4&&vo(5,r);break;case 1:if(bn(t,r),u&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(T){De(r,r.return,T)}else{var p=Ai(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(T){De(r,r.return,T)}}u&64&&Oh(r),u&512&&_o(r,r.return);break;case 3:if(bn(t,r),u&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{wf(t,s)}catch(T){De(r,r.return,T)}}break;case 27:s===null&&u&4&&Gh(r);case 26:case 5:bn(t,r),s===null&&u&4&&qh(r),u&512&&_o(r,r.return);break;case 12:bn(t,r);break;case 31:bn(t,r),u&4&&Jh(t,r);break;case 13:bn(t,r),u&4&&$h(t,r),u&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=R_.bind(null,r),j_(t,r))));break;case 22:if(u=r.memoizedState!==null||En,!u){s=s!==null&&s.memoizedState!==null||tt,p=En;var y=tt;En=u,(tt=s)&&!y?An(t,r,(r.subtreeFlags&8772)!==0):bn(t,r),En=p,tt=y}break;case 30:break;default:bn(t,r)}}function Vh(t){var s=t.alternate;s!==null&&(t.alternate=null,Vh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Qa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Fe=null,Et=!1;function Sn(t,s,r){for(r=r.child;r!==null;)Fh(t,s,r),r=r.sibling}function Fh(t,s,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(zs,r)}catch{}switch(r.tag){case 26:tt||ln(r,s),Sn(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:tt||ln(r,s);var u=Fe,p=Et;Wn(r.type)&&(Fe=r.stateNode,Et=!1),Sn(t,s,r),Ro(r.stateNode),Fe=u,Et=p;break;case 5:tt||ln(r,s);case 6:if(u=Fe,p=Et,Fe=null,Sn(t,s,r),Fe=u,Et=p,Fe!==null)if(Et)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(r.stateNode)}catch(y){De(r,s,y)}else try{Fe.removeChild(r.stateNode)}catch(y){De(r,s,y)}break;case 18:Fe!==null&&(Et?(t=Fe,Op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Es(t)):Op(Fe,r.stateNode));break;case 4:u=Fe,p=Et,Fe=r.stateNode.containerInfo,Et=!0,Sn(t,s,r),Fe=u,Et=p;break;case 0:case 11:case 14:case 15:Jn(2,r,s),tt||Jn(4,r,s),Sn(t,s,r);break;case 1:tt||(ln(r,s),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Lh(r,s,u)),Sn(t,s,r);break;case 21:Sn(t,s,r);break;case 22:tt=(u=tt)||r.memoizedState!==null,Sn(t,s,r),tt=u;break;default:Sn(t,s,r)}}function Jh(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Es(t)}catch(r){De(s,s.return,r)}}}function $h(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Es(t)}catch(r){De(s,s.return,r)}}function T_(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Bh),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Bh),s;default:throw Error(o(435,t.tag))}}function Gr(t,s){var r=T_(t);s.forEach(function(u){if(!r.has(u)){r.add(u);var p=N_.bind(null,t,u);u.then(p,p)}})}function St(t,s){var r=s.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],y=t,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Wn(b.type)){Fe=b.stateNode,Et=!1;break e}break;case 5:Fe=b.stateNode,Et=!1;break e;case 3:case 4:Fe=b.stateNode.containerInfo,Et=!0;break e}b=b.return}if(Fe===null)throw Error(o(160));Fh(y,T,p),Fe=null,Et=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Yh(s,t),s=s.sibling}var en=null;function Yh(t,s){var r=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(s,t),bt(t),u&4&&(Jn(3,t,t.return),vo(3,t),Jn(5,t,t.return));break;case 1:St(s,t),bt(t),u&512&&(tt||r===null||ln(r,r.return)),u&64&&En&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=en;if(St(s,t),bt(t),u&512&&(tt||r===null||ln(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=t.memoizedState,r===null)if(u===null)if(t.stateNode===null){e:{u=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Js]||y[lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),ft(y,u,r),y[lt]=t,rt(y),u=y;break e;case"link":var T=Yp("link","href",p).get(u+(r.href||""));if(T){for(var b=0;b<T.length;b++)if(y=T[b],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(b,1);break t}}y=p.createElement(u),ft(y,u,r),p.head.appendChild(y);break;case"meta":if(T=Yp("meta","content",p).get(u+(r.content||""))){for(b=0;b<T.length;b++)if(y=T[b],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(b,1);break t}}y=p.createElement(u),ft(y,u,r),p.head.appendChild(y);break;default:throw Error(o(468,u))}y[lt]=t,rt(y),u=y}t.stateNode=u}else jp(p,t.type,t.stateNode);else t.stateNode=$p(p,u,t.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?jp(p,t.type,t.stateNode):$p(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&yu(t,t.memoizedProps,r.memoizedProps)}break;case 27:St(s,t),bt(t),u&512&&(tt||r===null||ln(r,r.return)),r!==null&&u&4&&yu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(St(s,t),bt(t),u&512&&(tt||r===null||ln(r,r.return)),t.flags&32){p=t.stateNode;try{Fi(p,"")}catch(Z){De(t,t.return,Z)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,yu(t,p,r!==null?r.memoizedProps:p)),u&1024&&(Tu=!0);break;case 6:if(St(s,t),bt(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,r=t.stateNode;try{r.nodeValue=u}catch(Z){De(t,t.return,Z)}}break;case 3:if(na=null,p=en,en=ea(s.containerInfo),St(s,t),en=p,bt(t),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Es(s.containerInfo)}catch(Z){De(t,t.return,Z)}Tu&&(Tu=!1,jh(t));break;case 4:u=en,en=ea(t.stateNode.containerInfo),St(s,t),bt(t),en=u;break;case 12:St(s,t),bt(t);break;case 31:St(s,t),bt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Gr(t,u)));break;case 13:St(s,t),bt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zr=wt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Gr(t,u)));break;case 22:p=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,U=En,G=tt;if(En=U||p,tt=G||w,St(s,t),tt=G,En=U,bt(t),u&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(r===null||w||En||tt||Ci(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){w=r=s;try{if(y=w.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=w.stateNode;var z=w.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Z){De(w,w.return,Z)}}}else if(s.tag===6){if(r===null){w=s;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(Z){De(w,w.return,Z)}}}else if(s.tag===18){if(r===null){w=s;try{var L=w.stateNode;p?Lp(L,!0):Lp(w.stateNode,!1)}catch(Z){De(w,w.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Gr(t,r))));break;case 19:St(s,t),bt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Gr(t,u)));break;case 30:break;case 21:break;default:St(s,t),bt(t)}}function bt(t){var s=t.flags;if(s&2){try{for(var r,u=t.return;u!==null;){if(Hh(u)){r=u;break}u=u.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var p=r.stateNode,y=vu(t);Hr(t,y,p);break;case 5:var T=r.stateNode;r.flags&32&&(Fi(T,""),r.flags&=-33);var b=vu(t);Hr(t,b,T);break;case 3:case 4:var w=r.stateNode.containerInfo,U=vu(t);_u(t,U,w);break;default:throw Error(o(161))}}catch(G){De(t,t.return,G)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function jh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;jh(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function bn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zh(t,s.alternate,s),s=s.sibling}function Ci(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Jn(4,s,s.return),Ci(s);break;case 1:ln(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Lh(s,s.return,r),Ci(s);break;case 27:Ro(s.stateNode);case 26:case 5:ln(s,s.return),Ci(s);break;case 22:s.memoizedState===null&&Ci(s);break;case 30:Ci(s);break;default:Ci(s)}t=t.sibling}}function An(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:An(p,y,r),vo(4,y);break;case 1:if(An(p,y,r),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(U){De(u,u.return,U)}if(u=y,p=u.updateQueue,p!==null){var b=u.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)Cf(w[p],b)}catch(U){De(u,u.return,U)}}r&&T&64&&Oh(y),_o(y,y.return);break;case 27:Gh(y);case 26:case 5:An(p,y,r),r&&u===null&&T&4&&qh(y),_o(y,y.return);break;case 12:An(p,y,r);break;case 31:An(p,y,r),r&&T&4&&Jh(p,y);break;case 13:An(p,y,r),r&&T&4&&$h(p,y);break;case 22:y.memoizedState===null&&An(p,y,r),_o(y,y.return);break;case 30:break;default:An(p,y,r)}s=s.sibling}}function Eu(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&so(r))}function Su(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&so(t))}function tn(t,s,r,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kh(t,s,r,u),s=s.sibling}function Kh(t,s,r,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:tn(t,s,r,u),p&2048&&vo(9,s);break;case 1:tn(t,s,r,u);break;case 3:tn(t,s,r,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&so(t)));break;case 12:if(p&2048){tn(t,s,r,u),t=s.stateNode;try{var y=s.memoizedProps,T=y.id,b=y.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){De(s,s.return,w)}}else tn(t,s,r,u);break;case 31:tn(t,s,r,u);break;case 13:tn(t,s,r,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?tn(t,s,r,u):To(t,s):y._visibility&2?tn(t,s,r,u):(y._visibility|=2,cs(t,s,r,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Eu(T,s);break;case 24:tn(t,s,r,u),p&2048&&Su(s.alternate,s);break;default:tn(t,s,r,u)}}function cs(t,s,r,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=t,T=s,b=r,w=u,U=T.flags;switch(T.tag){case 0:case 11:case 15:cs(y,T,b,w,p),vo(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?cs(y,T,b,w,p):To(y,T):(G._visibility|=2,cs(y,T,b,w,p)),p&&U&2048&&Eu(T.alternate,T);break;case 24:cs(y,T,b,w,p),p&&U&2048&&Su(T.alternate,T);break;default:cs(y,T,b,w,p)}s=s.sibling}}function To(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,u=s,p=u.flags;switch(u.tag){case 22:To(r,u),p&2048&&Eu(u.alternate,u);break;case 24:To(r,u),p&2048&&Su(u.alternate,u);break;default:To(r,u)}s=s.sibling}}var Eo=8192;function ds(t,s,r){if(t.subtreeFlags&Eo)for(t=t.child;t!==null;)Qh(t,s,r),t=t.sibling}function Qh(t,s,r){switch(t.tag){case 26:ds(t,s,r),t.flags&Eo&&t.memoizedState!==null&&rT(r,en,t.memoizedState,t.memoizedProps);break;case 5:ds(t,s,r);break;case 3:case 4:var u=en;en=ea(t.stateNode.containerInfo),ds(t,s,r),en=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Eo,Eo=16777216,ds(t,s,r),Eo=u):ds(t,s,r));break;default:ds(t,s,r)}}function Xh(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function So(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];at=u,Zh(u,t)}Xh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wh(t),t=t.sibling}function Wh(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&Jn(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Br(t)):So(t);break;default:So(t)}}function Br(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];at=u,Zh(u,t)}Xh(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Jn(8,s,s.return),Br(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Br(s));break;default:Br(s)}t=t.sibling}}function Zh(t,s){for(;at!==null;){var r=at;switch(r.tag){case 0:case 11:case 15:Jn(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:so(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,at=u;else e:for(r=t;at!==null;){u=at;var p=u.sibling,y=u.return;if(Vh(u),u===r){at=null;break e}if(p!==null){p.return=y,at=p;break e}at=y}}}var E_={getCacheForType:function(t){var s=ct(We),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return ct(We).controller.signal}},S_=typeof WeakMap=="function"?WeakMap:Map,Me=0,qe=null,ve=null,Te=0,ke=0,Dt=null,$n=!1,fs=!1,bu=!1,Cn=0,je=0,Yn=0,wi=0,Au=0,Ut=0,hs=0,bo=null,At=null,Cu=!1,zr=0,ep=0,Vr=1/0,Fr=null,jn=null,it=0,Kn=null,ps=null,wn=0,wu=0,xu=null,tp=null,Ao=0,Ru=null;function Pt(){return(Me&2)!==0&&Te!==0?Te&-Te:q.T!==null?Uu():gd()}function np(){if(Ut===0)if((Te&536870912)===0||Se){var t=Wo;Wo<<=1,(Wo&3932160)===0&&(Wo=262144),Ut=t}else Ut=536870912;return t=It.current,t!==null&&(t.flags|=32),Ut}function Ct(t,s,r){(t===qe&&(ke===2||ke===9)||t.cancelPendingCommit!==null)&&(ms(t,0),Qn(t,Te,Ut,!1)),Fs(t,r),((Me&2)===0||t!==qe)&&(t===qe&&((Me&2)===0&&(wi|=r),je===4&&Qn(t,Te,Ut,!1)),un(t))}function ip(t,s,r){if((Me&6)!==0)throw Error(o(327));var u=!r&&(s&127)===0&&(s&t.expiredLanes)===0||Vs(t,s),p=u?C_(t,s):Mu(t,s,!0),y=u;do{if(p===0){fs&&!u&&Qn(t,s,0,!1);break}else{if(r=t.current.alternate,y&&!b_(r)){p=Mu(t,s,!1),y=!1;continue}if(p===2){if(y=s,t.errorRecoveryDisabledLanes&y)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=t;p=bo;var w=b.current.memoizedState.isDehydrated;if(w&&(ms(b,T).flags|=256),T=Mu(b,T,!1),T!==2){if(bu&&!w){b.errorRecoveryDisabledLanes|=y,wi|=y,p=4;break e}y=At,At=p,y!==null&&(At===null?At=y:At.push.apply(At,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){ms(t,0),Qn(t,s,0,!0);break}e:{switch(u=t,y=p,y){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Qn(u,s,Ut,!$n);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(p=zr+300-wt(),10<p)){if(Qn(u,s,Ut,!$n),er(u,0,!0)!==0)break e;wn=s,u.timeoutHandle=Up(sp.bind(null,u,r,At,Fr,Cu,s,Ut,wi,hs,$n,y,"Throttled",-0,0),p);break e}sp(u,r,At,Fr,Cu,s,Ut,wi,hs,$n,y,null,-0,0)}}break}while(!0);un(t)}function sp(t,s,r,u,p,y,T,b,w,U,G,z,P,L){if(t.timeoutHandle=-1,z=s.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},Qh(s,y,z);var Z=(y&62914560)===y?zr-wt():(y&4194048)===y?ep-wt():0;if(Z=aT(z,Z),Z!==null){wn=y,t.cancelPendingCommit=Z(fp.bind(null,t,s,y,r,u,p,T,b,w,G,z,null,P,L)),Qn(t,y,T,!U);return}}fp(t,s,y,r,u,p,T,b,w)}function b_(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],y=p.getSnapshot;p=p.value;try{if(!Nt(y(),p))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qn(t,s,r,u){s&=~Au,s&=~wi,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var y=31-Rt(p),T=1<<y;u[y]=-1,p&=~T}r!==0&&hd(t,r,s)}function Jr(){return(Me&6)===0?(Co(0),!1):!0}function Nu(){if(ve!==null){if(ke===0)var t=ve.return;else t=ve,mn=yi=null,Jl(t),os=null,ro=0,t=ve;for(;t!==null;)Ph(t.alternate,t),t=t.return;ve=null}}function ms(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,V_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),wn=0,Nu(),qe=t,ve=r=hn(t.current,null),Te=s,ke=0,Dt=null,$n=!1,fs=Vs(t,s),bu=!1,hs=Ut=Au=wi=Yn=je=0,At=bo=null,Cu=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-Rt(u),y=1<<p;s|=t[p],u&=~y}return Cn=s,fr(),r}function op(t,s){de=null,q.H=mo,s===ss||s===Tr?(s=Ef(),ke=3):s===Dl?(s=Ef(),ke=4):ke=s===au?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dt=s,ve===null&&(je=1,Ur(t,Vt(s,t.current)))}function rp(){var t=It.current;return t===null?!0:(Te&4194048)===Te?Yt===null:(Te&62914560)===Te||(Te&536870912)!==0?t===Yt:!1}function ap(){var t=q.H;return q.H=mo,t===null?mo:t}function lp(){var t=q.A;return q.A=E_,t}function $r(){je=4,$n||(Te&4194048)!==Te&&It.current!==null||(fs=!0),(Yn&134217727)===0&&(wi&134217727)===0||qe===null||Qn(qe,Te,Ut,!1)}function Mu(t,s,r){var u=Me;Me|=2;var p=ap(),y=lp();(qe!==t||Te!==s)&&(Fr=null,ms(t,s)),s=!1;var T=je;e:do try{if(ke!==0&&ve!==null){var b=ve,w=Dt;switch(ke){case 8:Nu(),T=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(s=!0);var U=ke;if(ke=0,Dt=null,gs(t,b,w,U),r&&fs){T=0;break e}break;default:U=ke,ke=0,Dt=null,gs(t,b,w,U)}}A_(),T=je;break}catch(G){op(t,G)}while(!0);return s&&t.shellSuspendCounter++,mn=yi=null,Me=u,q.H=p,q.A=y,ve===null&&(qe=null,Te=0,fr()),T}function A_(){for(;ve!==null;)up(ve)}function C_(t,s){var r=Me;Me|=2;var u=ap(),p=lp();qe!==t||Te!==s?(Fr=null,Vr=wt()+500,ms(t,s)):fs=Vs(t,s);e:do try{if(ke!==0&&ve!==null){s=ve;var y=Dt;t:switch(ke){case 1:ke=0,Dt=null,gs(t,s,y,1);break;case 2:case 9:if(_f(y)){ke=0,Dt=null,cp(s);break}s=function(){ke!==2&&ke!==9||qe!==t||(ke=7),un(t)},y.then(s,s);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:_f(y)?(ke=0,Dt=null,cp(s)):(ke=0,Dt=null,gs(t,s,y,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var b=ve;if(T?Kp(T):b.stateNode.complete){ke=0,Dt=null;var w=b.sibling;if(w!==null)ve=w;else{var U=b.return;U!==null?(ve=U,Yr(U)):ve=null}break t}}ke=0,Dt=null,gs(t,s,y,5);break;case 6:ke=0,Dt=null,gs(t,s,y,6);break;case 8:Nu(),je=6;break e;default:throw Error(o(462))}}w_();break}catch(G){op(t,G)}while(!0);return mn=yi=null,q.H=u,q.A=p,Me=r,ve!==null?0:(qe=null,Te=0,fr(),je)}function w_(){for(;ve!==null&&!Kv();)up(ve)}function up(t){var s=Dh(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,s===null?Yr(t):ve=s}function cp(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=xh(r,s,s.pendingProps,s.type,void 0,Te);break;case 11:s=xh(r,s,s.pendingProps,s.type.render,s.ref,Te);break;case 5:Jl(s);default:Ph(r,s),s=ve=lf(s,Cn),s=Dh(r,s,Cn)}t.memoizedProps=t.pendingProps,s===null?Yr(t):ve=s}function gs(t,s,r,u){mn=yi=null,Jl(s),os=null,ro=0;var p=s.return;try{if(p_(t,p,s,r,Te)){je=1,Ur(t,Vt(r,t.current)),ve=null;return}}catch(y){if(p!==null)throw ve=p,y;je=1,Ur(t,Vt(r,t.current)),ve=null;return}s.flags&32768?(Se||u===1?t=!0:fs||(Te&536870912)!==0?t=!1:($n=t=!0,(u===2||u===9||u===3||u===6)&&(u=It.current,u!==null&&u.tag===13&&(u.flags|=16384))),dp(s,t)):Yr(s)}function Yr(t){var s=t;do{if((s.flags&32768)!==0){dp(s,$n);return}t=s.return;var r=y_(s.alternate,s,Cn);if(r!==null){ve=r;return}if(s=s.sibling,s!==null){ve=s;return}ve=s=t}while(s!==null);je===0&&(je=5)}function dp(t,s){do{var r=v_(t.alternate,t);if(r!==null){r.flags&=32767,ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){ve=t;return}ve=t=r}while(t!==null);je=6,ve=null}function fp(t,s,r,u,p,y,T,b,w){t.cancelPendingCommit=null;do jr();while(it!==0);if((Me&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(y=s.lanes|s.childLanes,y|=vl,o0(t,r,y,T,b,w),t===qe&&(ve=qe=null,Te=0),ps=s,Kn=t,wn=r,wu=y,xu=p,tp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,M_(Qo,function(){return yp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,p=$.p,$.p=2,T=Me,Me|=4;try{__(t,s,r)}finally{Me=T,$.p=p,q.T=u}}it=1,hp(),pp(),mp()}}function hp(){if(it===1){it=0;var t=Kn,s=ps,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var u=$.p;$.p=2;var p=Me;Me|=4;try{Yh(s,t);var y=zu,T=Wd(t.containerInfo),b=y.focusedElem,w=y.selectionRange;if(T!==b&&b&&b.ownerDocument&&Xd(b.ownerDocument.documentElement,b)){if(w!==null&&hl(b)){var U=w.start,G=w.end;if(G===void 0&&(G=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(G,b.value.length);else{var z=b.ownerDocument||document,P=z&&z.defaultView||window;if(P.getSelection){var L=P.getSelection(),Z=b.textContent.length,re=Math.min(w.start,Z),Oe=w.end===void 0?re:Math.min(w.end,Z);!L.extend&&re>Oe&&(T=Oe,Oe=re,re=T);var I=Qd(b,re),R=Qd(b,Oe);if(I&&R&&(L.rangeCount!==1||L.anchorNode!==I.node||L.anchorOffset!==I.offset||L.focusNode!==R.node||L.focusOffset!==R.offset)){var D=z.createRange();D.setStart(I.node,I.offset),L.removeAllRanges(),re>Oe?(L.addRange(D),L.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),L.addRange(D))}}}}for(z=[],L=b;L=L.parentNode;)L.nodeType===1&&z.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<z.length;b++){var B=z[b];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}ra=!!Bu,zu=Bu=null}finally{Me=p,$.p=u,q.T=r}}t.current=s,it=2}}function pp(){if(it===2){it=0;var t=Kn,s=ps,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var u=$.p;$.p=2;var p=Me;Me|=4;try{zh(t,s.alternate,s)}finally{Me=p,$.p=u,q.T=r}}it=3}}function mp(){if(it===4||it===3){it=0,Qv();var t=Kn,s=ps,r=wn,u=tp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?it=5:(it=0,ps=Kn=null,gp(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(jn=null),ja(r),s=s.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(zs,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,p=$.p,$.p=2,q.T=null;try{for(var y=t.onRecoverableError,T=0;T<u.length;T++){var b=u[T];y(b.value,{componentStack:b.stack})}}finally{q.T=s,$.p=p}}(wn&3)!==0&&jr(),un(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===Ru?Ao++:(Ao=0,Ru=t):Ao=0,Co(0)}}function gp(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,so(s)))}function jr(){return hp(),pp(),mp(),yp()}function yp(){if(it!==5)return!1;var t=Kn,s=wu;wu=0;var r=ja(wn),u=q.T,p=$.p;try{$.p=32>r?32:r,q.T=null,r=xu,xu=null;var y=Kn,T=wn;if(it=0,ps=Kn=null,wn=0,(Me&6)!==0)throw Error(o(331));var b=Me;if(Me|=4,Wh(y.current),Kh(y,y.current,T,r),Me=b,Co(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(zs,y)}catch{}return!0}finally{$.p=p,q.T=u,gp(t,s)}}function vp(t,s,r){s=Vt(r,s),s=ru(t.stateNode,s,2),t=zn(t,s,2),t!==null&&(Fs(t,2),un(t))}function De(t,s,r){if(t.tag===3)vp(t,t,r);else for(;s!==null;){if(s.tag===3){vp(s,t,r);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jn===null||!jn.has(u))){t=Vt(r,t),r=_h(2),u=zn(s,r,2),u!==null&&(Th(r,u,s,t),Fs(u,2),un(u));break}}s=s.return}}function Iu(t,s,r){var u=t.pingCache;if(u===null){u=t.pingCache=new S_;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(r)||(bu=!0,p.add(r),t=x_.bind(null,t,s,r),s.then(t,t))}function x_(t,s,r){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,qe===t&&(Te&r)===r&&(je===4||je===3&&(Te&62914560)===Te&&300>wt()-zr?(Me&2)===0&&ms(t,0):Au|=r,hs===Te&&(hs=0)),un(t)}function _p(t,s){s===0&&(s=fd()),t=pi(t,s),t!==null&&(Fs(t,s),un(t))}function R_(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),_p(t,r)}function N_(t,s){var r=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(s),_p(t,r)}function M_(t,s){return Fa(t,s)}var Kr=null,ys=null,ku=!1,Qr=!1,Du=!1,Xn=0;function un(t){t!==ys&&t.next===null&&(ys===null?Kr=ys=t:ys=ys.next=t),Qr=!0,ku||(ku=!0,k_())}function Co(t,s){if(!Du&&Qr){Du=!0;do for(var r=!1,u=Kr;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,b=u.pingedLanes;y=(1<<31-Rt(42|t)+1)-1,y&=p&~(T&~b),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,bp(u,y))}else y=Te,y=er(u,u===qe?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Vs(u,y)||(r=!0,bp(u,y));u=u.next}while(r);Du=!1}}function I_(){Tp()}function Tp(){Qr=ku=!1;var t=0;Xn!==0&&z_()&&(t=Xn);for(var s=wt(),r=null,u=Kr;u!==null;){var p=u.next,y=Ep(u,s);y===0?(u.next=null,r===null?Kr=p:r.next=p,p===null&&(ys=r)):(r=u,(t!==0||(y&3)!==0)&&(Qr=!0)),u=p}it!==0&&it!==5||Co(t),Xn!==0&&(Xn=0)}function Ep(t,s){for(var r=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var T=31-Rt(y),b=1<<T,w=p[T];w===-1?((b&r)===0||(b&u)!==0)&&(p[T]=s0(b,s)):w<=s&&(t.expiredLanes|=b),y&=~b}if(s=qe,r=Te,r=er(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,r===0||t===s&&(ke===2||ke===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Ja(u),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Vs(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(u!==null&&Ja(u),ja(r)){case 2:case 8:r=cd;break;case 32:r=Qo;break;case 268435456:r=dd;break;default:r=Qo}return u=Sp.bind(null,t),r=Fa(r,u),t.callbackPriority=s,t.callbackNode=r,s}return u!==null&&u!==null&&Ja(u),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,s){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(jr()&&t.callbackNode!==r)return null;var u=Te;return u=er(t,t===qe?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(ip(t,u,s),Ep(t,wt()),t.callbackNode!=null&&t.callbackNode===r?Sp.bind(null,t):null)}function bp(t,s){if(jr())return null;ip(t,s,!0)}function k_(){F_(function(){(Me&6)!==0?Fa(ud,I_):Tp()})}function Uu(){if(Xn===0){var t=ns;t===0&&(t=Xo,Xo<<=1,(Xo&261888)===0&&(Xo=256)),Xn=t}return Xn}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sr(""+t)}function Cp(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function D_(t,s,r,u,p){if(s==="submit"&&r&&r.stateNode===p){var y=Ap((p[_t]||null).action),T=u.submitter;T&&(s=(s=T[_t]||null)?Ap(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var b=new lr("action","action",null,u,p);t.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xn!==0){var w=T?Cp(p,T):new FormData(p);eu(r,{pending:!0,data:w,method:p.method,action:y},null,w)}}else typeof y=="function"&&(b.preventDefault(),w=T?Cp(p,T):new FormData(p),eu(r,{pending:!0,data:w,method:p.method,action:y},y,w))},currentTarget:p}]})}}for(var Pu=0;Pu<yl.length;Pu++){var Ou=yl[Pu],U_=Ou.toLowerCase(),P_=Ou[0].toUpperCase()+Ou.slice(1);Zt(U_,"on"+P_)}Zt(tf,"onAnimationEnd"),Zt(nf,"onAnimationIteration"),Zt(sf,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(X0,"onTransitionRun"),Zt(W0,"onTransitionStart"),Zt(Z0,"onTransitionCancel"),Zt(of,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function wp(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var u=t[r],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var b=u[T],w=b.instance,U=b.currentTarget;if(b=b.listener,w!==y&&p.isPropagationStopped())break e;y=b,p.currentTarget=U;try{y(p)}catch(G){dr(G)}p.currentTarget=null,y=w}else for(T=0;T<u.length;T++){if(b=u[T],w=b.instance,U=b.currentTarget,b=b.listener,w!==y&&p.isPropagationStopped())break e;y=b,p.currentTarget=U;try{y(p)}catch(G){dr(G)}p.currentTarget=null,y=w}}}}function _e(t,s){var r=s[Ka];r===void 0&&(r=s[Ka]=new Set);var u=t+"__bubble";r.has(u)||(xp(s,t,2,!1),r.add(u))}function Lu(t,s,r){var u=0;s&&(u|=4),xp(r,t,u,s)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function qu(t){if(!t[Xr]){t[Xr]=!0,_d.forEach(function(r){r!=="selectionchange"&&(O_.has(r)||Lu(r,!1,t),Lu(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Xr]||(s[Xr]=!0,Lu("selectionchange",!1,s))}}function xp(t,s,r,u){switch(nm(s)){case 2:var p=cT;break;case 8:p=dT;break;default:p=Zu}r=p.bind(null,s,r,t),p=void 0,!sl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,r,{capture:!0,passive:p}):t.addEventListener(s,r,!0):p!==void 0?t.addEventListener(s,r,{passive:p}):t.addEventListener(s,r,!1)}function Hu(t,s,r,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===p)break;if(T===4)for(T=u.return;T!==null;){var w=T.tag;if((w===3||w===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;b!==null;){if(T=Hi(b),T===null)return;if(w=T.tag,w===5||w===6||w===26||w===27){u=y=T;continue e}b=b.parentNode}}u=u.return}Id(function(){var U=y,G=nl(r),z=[];e:{var P=rf.get(t);if(P!==void 0){var L=lr,Z=t;switch(t){case"keypress":if(rr(r)===0)break e;case"keydown":case"keyup":L=N0;break;case"focusin":Z="focus",L=ll;break;case"focusout":Z="blur",L=ll;break;case"beforeblur":case"afterblur":L=ll;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=k0;break;case tf:case nf:case sf:L=T0;break;case of:L=U0;break;case"scroll":case"scrollend":L=m0;break;case"wheel":L=O0;break;case"copy":case"cut":case"paste":L=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Od;break;case"toggle":case"beforetoggle":L=q0}var re=(s&4)!==0,Oe=!re&&(t==="scroll"||t==="scrollend"),I=re?P!==null?P+"Capture":null:P;re=[];for(var R=U,D;R!==null;){var B=R;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||I===null||(B=Ys(R,I),B!=null&&re.push(xo(R,B,D))),Oe)break;R=R.return}0<re.length&&(P=new L(P,Z,null,r,G),z.push({event:P,listeners:re}))}}if((s&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",P&&r!==tl&&(Z=r.relatedTarget||r.fromElement)&&(Hi(Z)||Z[qi]))break e;if((L||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,L?(Z=r.relatedTarget||r.toElement,L=U,Z=Z?Hi(Z):null,Z!==null&&(Oe=l(Z),re=Z.tag,Z!==Oe||re!==5&&re!==27&&re!==6)&&(Z=null)):(L=null,Z=U),L!==Z)){if(re=Ud,B="onMouseLeave",I="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(re=Od,B="onPointerLeave",I="onPointerEnter",R="pointer"),Oe=L==null?P:$s(L),D=Z==null?P:$s(Z),P=new re(B,R+"leave",L,r,G),P.target=Oe,P.relatedTarget=D,B=null,Hi(G)===U&&(re=new re(I,R+"enter",Z,r,G),re.target=D,re.relatedTarget=Oe,B=re),Oe=B,L&&Z)t:{for(re=L_,I=L,R=Z,D=0,B=I;B;B=re(B))D++;B=0;for(var oe=R;oe;oe=re(oe))B++;for(;0<D-B;)I=re(I),D--;for(;0<B-D;)R=re(R),B--;for(;D--;){if(I===R||R!==null&&I===R.alternate){re=I;break t}I=re(I),R=re(R)}re=null}else re=null;L!==null&&Rp(z,P,L,re,!1),Z!==null&&Oe!==null&&Rp(z,Oe,Z,re,!0)}}e:{if(P=U?$s(U):window,L=P.nodeName&&P.nodeName.toLowerCase(),L==="select"||L==="input"&&P.type==="file")var Ae=Fd;else if(zd(P))if(Jd)Ae=j0;else{Ae=$0;var ee=J0}else L=P.nodeName,!L||L.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&el(U.elementType)&&(Ae=Fd):Ae=Y0;if(Ae&&(Ae=Ae(t,U))){Vd(z,Ae,r,G);break e}ee&&ee(t,P,U),t==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&Za(P,"number",P.value)}switch(ee=U?$s(U):window,t){case"focusin":(zd(ee)||ee.contentEditable==="true")&&(ji=ee,pl=U,to=null);break;case"focusout":to=pl=ji=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,Zd(z,r,G);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":Zd(z,r,G)}var fe;if(cl)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Yi?Gd(t,r)&&(Ee="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ld&&r.locale!=="ko"&&(Yi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Yi&&(fe=kd()):(Pn=G,ol="value"in Pn?Pn.value:Pn.textContent,Yi=!0)),ee=Wr(U,Ee),0<ee.length&&(Ee=new Pd(Ee,t,null,r,G),z.push({event:Ee,listeners:ee}),fe?Ee.data=fe:(fe=Bd(r),fe!==null&&(Ee.data=fe)))),(fe=G0?B0(t,r):z0(t,r))&&(Ee=Wr(U,"onBeforeInput"),0<Ee.length&&(ee=new Pd("onBeforeInput","beforeinput",null,r,G),z.push({event:ee,listeners:Ee}),ee.data=fe)),D_(z,t,U,r,G)}wp(z,s)})}function xo(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Wr(t,s){for(var r=s+"Capture",u=[];t!==null;){var p=t,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ys(t,r),p!=null&&u.unshift(xo(t,p,y)),p=Ys(t,s),p!=null&&u.push(xo(t,p,y))),t.tag===3)return u;t=t.return}return[]}function L_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rp(t,s,r,u,p){for(var y=s._reactName,T=[];r!==null&&r!==u;){var b=r,w=b.alternate,U=b.stateNode;if(b=b.tag,w!==null&&w===u)break;b!==5&&b!==26&&b!==27||U===null||(w=U,p?(U=Ys(r,y),U!=null&&T.unshift(xo(r,U,w))):p||(U=Ys(r,y),U!=null&&T.push(xo(r,U,w)))),r=r.return}T.length!==0&&t.push({event:s,listeners:T})}var q_=/\r\n?/g,H_=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(q_,`
`).replace(H_,"")}function Mp(t,s){return s=Np(s),Np(t)===s}function Pe(t,s,r,u,p,y){switch(r){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fi(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fi(t,""+u);break;case"className":nr(t,"class",u);break;case"tabIndex":nr(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(t,r,u);break;case"style":Nd(t,u,y);break;case"data":if(s!=="object"){nr(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=sr(""+u),t.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(s!=="input"&&Pe(t,s,"name",p.name,p,null),Pe(t,s,"formEncType",p.formEncType,p,null),Pe(t,s,"formMethod",p.formMethod,p,null),Pe(t,s,"formTarget",p.formTarget,p,null)):(Pe(t,s,"encType",p.encType,p,null),Pe(t,s,"method",p.method,p,null),Pe(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=sr(""+u),t.setAttribute(r,u);break;case"onClick":u!=null&&(t.onclick=dn);break;case"onScroll":u!=null&&_e("scroll",t);break;case"onScrollEnd":u!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}r=sr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""+u):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":u===!0?t.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,u):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(r,u):t.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(r):t.setAttribute(r,u);break;case"popover":_e("beforetoggle",t),_e("toggle",t),tr(t,"popover",u);break;case"xlinkActuate":cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":cn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":cn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":cn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":cn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":tr(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=h0.get(r)||r,tr(t,r,u))}}function Gu(t,s,r,u,p,y){switch(r){case"style":Nd(t,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof u=="string"?Fi(t,u):(typeof u=="number"||typeof u=="bigint")&&Fi(t,""+u);break;case"onScroll":u!=null&&_e("scroll",t);break;case"onScrollEnd":u!=null&&_e("scrollend",t);break;case"onClick":u!=null&&(t.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),s=r.slice(2,p?r.length-7:void 0),y=t[_t]||null,y=y!=null?y[r]:null,typeof y=="function"&&t.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,u,p);break e}r in t?t[r]=u:u===!0?t.setAttribute(r,""):tr(t,r,u)}}}function ft(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var u=!1,p=!1,y;for(y in r)if(r.hasOwnProperty(y)){var T=r[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Pe(t,s,y,T,r,null)}}p&&Pe(t,s,"srcSet",r.srcSet,r,null),u&&Pe(t,s,"src",r.src,r,null);return;case"input":_e("invalid",t);var b=y=T=p=null,w=null,U=null;for(u in r)if(r.hasOwnProperty(u)){var G=r[u];if(G!=null)switch(u){case"name":p=G;break;case"type":T=G;break;case"checked":w=G;break;case"defaultChecked":U=G;break;case"value":y=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,s));break;default:Pe(t,s,u,G,r,null)}}Cd(t,y,b,w,U,T,p,!1);return;case"select":_e("invalid",t),u=T=y=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":y=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Pe(t,s,p,b,r,null)}s=y,r=T,t.multiple=!!u,s!=null?Vi(t,!!u,s,!1):r!=null&&Vi(t,!!u,r,!0);return;case"textarea":_e("invalid",t),y=p=u=null;for(T in r)if(r.hasOwnProperty(T)&&(b=r[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":p=b;break;case"children":y=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Pe(t,s,T,b,r,null)}xd(t,u,p,y);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(u=r[w],u!=null))switch(w){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Pe(t,s,w,u,r,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(u=0;u<wo.length;u++)_e(wo[u],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(u=r[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Pe(t,s,U,u,r,null)}return;default:if(el(s)){for(G in r)r.hasOwnProperty(G)&&(u=r[G],u!==void 0&&Gu(t,s,G,u,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(u=r[b],u!=null&&Pe(t,s,b,u,r,null))}function G_(t,s,r,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,b=null,w=null,U=null,G=null;for(L in r){var z=r[L];if(r.hasOwnProperty(L)&&z!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=z;default:u.hasOwnProperty(L)||Pe(t,s,L,null,u,z)}}for(var P in u){var L=u[P];if(z=r[P],u.hasOwnProperty(P)&&(L!=null||z!=null))switch(P){case"type":y=L;break;case"name":p=L;break;case"checked":U=L;break;case"defaultChecked":G=L;break;case"value":T=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,s));break;default:L!==z&&Pe(t,s,P,L,u,z)}}Wa(t,T,b,w,U,G,y,p);return;case"select":L=T=b=P=null;for(y in r)if(w=r[y],r.hasOwnProperty(y)&&w!=null)switch(y){case"value":break;case"multiple":L=w;default:u.hasOwnProperty(y)||Pe(t,s,y,null,u,w)}for(p in u)if(y=u[p],w=r[p],u.hasOwnProperty(p)&&(y!=null||w!=null))switch(p){case"value":P=y;break;case"defaultValue":b=y;break;case"multiple":T=y;default:y!==w&&Pe(t,s,p,y,u,w)}s=b,r=T,u=L,P!=null?Vi(t,!!r,P,!1):!!u!=!!r&&(s!=null?Vi(t,!!r,s,!0):Vi(t,!!r,r?[]:"",!1));return;case"textarea":L=P=null;for(b in r)if(p=r[b],r.hasOwnProperty(b)&&p!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Pe(t,s,b,null,u,p)}for(T in u)if(p=u[T],y=r[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":P=p;break;case"defaultValue":L=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==y&&Pe(t,s,T,p,u,y)}wd(t,P,L);return;case"option":for(var Z in r)if(P=r[Z],r.hasOwnProperty(Z)&&P!=null&&!u.hasOwnProperty(Z))switch(Z){case"selected":t.selected=!1;break;default:Pe(t,s,Z,null,u,P)}for(w in u)if(P=u[w],L=r[w],u.hasOwnProperty(w)&&P!==L&&(P!=null||L!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Pe(t,s,w,P,u,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in r)P=r[re],r.hasOwnProperty(re)&&P!=null&&!u.hasOwnProperty(re)&&Pe(t,s,re,null,u,P);for(U in u)if(P=u[U],L=r[U],u.hasOwnProperty(U)&&P!==L&&(P!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,s));break;default:Pe(t,s,U,P,u,L)}return;default:if(el(s)){for(var Oe in r)P=r[Oe],r.hasOwnProperty(Oe)&&P!==void 0&&!u.hasOwnProperty(Oe)&&Gu(t,s,Oe,void 0,u,P);for(G in u)P=u[G],L=r[G],!u.hasOwnProperty(G)||P===L||P===void 0&&L===void 0||Gu(t,s,G,P,u,L);return}}for(var I in r)P=r[I],r.hasOwnProperty(I)&&P!=null&&!u.hasOwnProperty(I)&&Pe(t,s,I,null,u,P);for(z in u)P=u[z],L=r[z],!u.hasOwnProperty(z)||P===L||P==null&&L==null||Pe(t,s,z,P,u,L)}function Ip(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var p=r[u],y=p.transferSize,T=p.initiatorType,b=p.duration;if(y&&b&&Ip(T)){for(T=0,b=p.responseEnd,u+=1;u<r.length;u++){var w=r[u],U=w.startTime;if(U>b)break;var G=w.transferSize,z=w.initiatorType;G&&Ip(z)&&(w=w.responseEnd,T+=G*(w<b?1:(b-U)/(w-U)))}if(--u,s+=8*(y+T)/(p.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bu=null,zu=null;function Zr(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Vu(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fu=null;function z_(){var t=window.event;return t&&t.type==="popstate"?t===Fu?!1:(Fu=t,!0):(Fu=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,V_=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,F_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(J_)}:Up;function J_(t){setTimeout(function(){throw t})}function Wn(t){return t==="head"}function Op(t,s){var r=s,u=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(u===0){t.removeChild(p),Es(s);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")Ro(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ro(r);for(var y=r.firstChild;y;){var T=y.nextSibling,b=y.nodeName;y[Js]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=T}}else r==="body"&&Ro(t.ownerDocument.body);r=p}while(r);Es(s)}function Lp(t,s){var r=t;t=0;do{var u=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=u}while(r)}function Ju(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ju(r),Qa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function $_(t,s,r,u){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Js])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=jt(t.nextSibling),t===null)break}return null}function Y_(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=jt(t.nextSibling),t===null))return null;return t}function qp(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jt(t.nextSibling),t===null))return null;return t}function $u(t){return t.data==="$?"||t.data==="$~"}function Yu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function j_(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var u=function(){s(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function jt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ju=null;function Hp(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return jt(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function Gp(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Bp(t,s,r){switch(s=Zr(r),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Ro(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Qa(t)}var Kt=new Map,zp=new Set;function ea(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xn=$.d;$.d={f:K_,r:Q_,D:X_,C:W_,L:Z_,m:eT,X:nT,S:tT,M:iT};function K_(){var t=xn.f(),s=Jr();return t||s}function Q_(t){var s=Gi(t);s!==null&&s.tag===5&&s.type==="form"?oh(s):xn.r(t)}var vs=typeof document>"u"?null:document;function Vp(t,s,r){var u=vs;if(u&&typeof s=="string"&&s){var p=Bt(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),zp.has(p)||(zp.add(p),t={rel:t,crossOrigin:r,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),ft(s,"link",t),rt(s),u.head.appendChild(s)))}}function X_(t){xn.D(t),Vp("dns-prefetch",t,null)}function W_(t,s){xn.C(t,s),Vp("preconnect",t,s)}function Z_(t,s,r){xn.L(t,s,r);var u=vs;if(u&&t&&s){var p='link[rel="preload"][as="'+Bt(s)+'"]';s==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+Bt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+Bt(r.imageSizes)+'"]')):p+='[href="'+Bt(t)+'"]';var y=p;switch(s){case"style":y=_s(t);break;case"script":y=Ts(t)}Kt.has(y)||(t=_({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),Kt.set(y,t),u.querySelector(p)!==null||s==="style"&&u.querySelector(No(y))||s==="script"&&u.querySelector(Mo(y))||(s=u.createElement("link"),ft(s,"link",t),rt(s),u.head.appendChild(s)))}}function eT(t,s){xn.m(t,s);var r=vs;if(r&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Bt(u)+'"][href="'+Bt(t)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ts(t)}if(!Kt.has(y)&&(t=_({rel:"modulepreload",href:t},s),Kt.set(y,t),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Mo(y)))return}u=r.createElement("link"),ft(u,"link",t),rt(u),r.head.appendChild(u)}}}function tT(t,s,r){xn.S(t,s,r);var u=vs;if(u&&t){var p=Bi(u).hoistableStyles,y=_s(t);s=s||"default";var T=p.get(y);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(No(y)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":s},r),(r=Kt.get(y))&&Ku(t,r);var w=T=u.createElement("link");rt(w),ft(w,"link",t),w._p=new Promise(function(U,G){w.onload=U,w.onerror=G}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ta(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:b},p.set(y,T)}}}function nT(t,s){xn.X(t,s);var r=vs;if(r&&t){var u=Bi(r).hoistableScripts,p=Ts(t),y=u.get(p);y||(y=r.querySelector(Mo(p)),y||(t=_({src:t,async:!0},s),(s=Kt.get(p))&&Qu(t,s),y=r.createElement("script"),rt(y),ft(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function iT(t,s){xn.M(t,s);var r=vs;if(r&&t){var u=Bi(r).hoistableScripts,p=Ts(t),y=u.get(p);y||(y=r.querySelector(Mo(p)),y||(t=_({src:t,async:!0,type:"module"},s),(s=Kt.get(p))&&Qu(t,s),y=r.createElement("script"),rt(y),ft(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Fp(t,s,r,u){var p=(p=me.current)?ea(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=_s(r.href),r=Bi(p).hoistableStyles,u=r.get(s),u||(u={type:"style",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=_s(r.href);var y=Bi(p).hoistableStyles,T=y.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,T),(y=p.querySelector(No(t)))&&!y._p&&(T.instance=y,T.state.loading=5),Kt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kt.set(t,r),y||sT(p,t,r,T.state))),s&&u===null)throw Error(o(528,""));return T}if(s&&u!==null)throw Error(o(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ts(r),r=Bi(p).hoistableScripts,u=r.get(s),u||(u={type:"script",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function _s(t){return'href="'+Bt(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function sT(t,s,r,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ft(s,"link",r),rt(s),t.head.appendChild(s))}function Ts(t){return'[src="'+Bt(t)+'"]'}function Mo(t){return"script[async]"+t}function $p(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+Bt(r.href)+'"]');if(u)return s.instance=u,rt(u),u;var p=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),rt(u),ft(u,"style",p),ta(u,r.precedence,t),s.instance=u;case"stylesheet":p=_s(r.href);var y=t.querySelector(No(p));if(y)return s.state.loading|=4,s.instance=y,rt(y),y;u=Jp(r),(p=Kt.get(p))&&Ku(u,p),y=(t.ownerDocument||t).createElement("link"),rt(y);var T=y;return T._p=new Promise(function(b,w){T.onload=b,T.onerror=w}),ft(y,"link",u),s.state.loading|=4,ta(y,r.precedence,t),s.instance=y;case"script":return y=Ts(r.src),(p=t.querySelector(Mo(y)))?(s.instance=p,rt(p),p):(u=r,(p=Kt.get(y))&&(u=_({},r),Qu(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),rt(p),ft(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ta(u,r.precedence,t));return s.instance}function ta(t,s,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===s)y=b;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Ku(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Qu(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var na=null;function Yp(t,s,r){if(na===null){var u=new Map,p=na=new Map;p.set(r,u)}else p=na,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(t))return u;for(u.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var y=r[p];if(!(y[Js]||y[lt]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=t+T;var b=u.get(T);b?b.push(y):u.set(T,[y])}}return u}function jp(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function oT(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rT(t,s,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=_s(u.href),y=s.querySelector(No(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ia.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=y,rt(y);return}y=s.ownerDocument||s,u=Jp(u),(p=Kt.get(p))&&Ku(u,p),y=y.createElement("link"),rt(y);var T=y;T._p=new Promise(function(b,w){T.onload=b,T.onerror=w}),ft(y,"link",u),r.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ia.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Xu=0;function aT(t,s){return t.stylesheets&&t.count===0&&oa(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var u=setTimeout(function(){if(t.stylesheets&&oa(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+s);0<t.imgBytes&&Xu===0&&(Xu=62500*B_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oa(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>Xu?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function ia(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oa(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sa=null;function oa(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sa=new Map,s.forEach(lT,t),sa=null,ia.call(t))}function lT(t,s){if(!(s.state.loading&4)){var r=sa.get(t);if(r)var u=r.get(null);else{r=new Map,sa.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),u=T)}u&&r.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=r.get(T)||u,y===u&&r.set(null,p),r.set(T,p),this.count++,u=ia.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var Io={$$typeof:k,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function uT(t,s,r,u,p,y,T,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.hiddenUpdates=$a(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Qp(t,s,r,u,p,y,T,b,w,U,G,z){return t=new uT(t,s,r,T,w,U,G,z,b),s=1,y===!0&&(s|=24),y=Mt(3,null,null,s),t.current=y,y.stateNode=t,s=Ml(),s.refCount++,t.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:s},Ul(y),t}function Xp(t){return t?(t=Xi,t):Xi}function Wp(t,s,r,u,p,y){p=Xp(p),u.context===null?u.context=p:u.pendingContext=p,u=Bn(s),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=zn(t,u,s),r!==null&&(Ct(r,t,s),lo(r,t,s))}function Zp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Wu(t,s){Zp(t,s),(t=t.alternate)&&Zp(t,s)}function em(t){if(t.tag===13||t.tag===31){var s=pi(t,67108864);s!==null&&Ct(s,t,67108864),Wu(t,67108864)}}function tm(t){if(t.tag===13||t.tag===31){var s=Pt();s=Ya(s);var r=pi(t,s);r!==null&&Ct(r,t,s),Wu(t,s)}}var ra=!0;function cT(t,s,r,u){var p=q.T;q.T=null;var y=$.p;try{$.p=2,Zu(t,s,r,u)}finally{$.p=y,q.T=p}}function dT(t,s,r,u){var p=q.T;q.T=null;var y=$.p;try{$.p=8,Zu(t,s,r,u)}finally{$.p=y,q.T=p}}function Zu(t,s,r,u){if(ra){var p=ec(u);if(p===null)Hu(t,s,u,aa,r),im(t,u);else if(hT(p,t,s,r,u))u.stopPropagation();else if(im(t,u),s&4&&-1<fT.indexOf(t)){for(;p!==null;){var y=Gi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ui(y.pendingLanes);if(T!==0){var b=y;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var w=1<<31-Rt(T);b.entanglements[1]|=w,T&=~w}un(y),(Me&6)===0&&(Vr=wt()+500,Co(0))}}break;case 31:case 13:b=pi(y,2),b!==null&&Ct(b,y,2),Jr(),Wu(y,2)}if(y=ec(u),y===null&&Hu(t,s,u,aa,r),y===p)break;p=y}p!==null&&u.stopPropagation()}else Hu(t,s,u,null,r)}}function ec(t){return t=nl(t),tc(t)}var aa=null;function tc(t){if(aa=null,t=Hi(t),t!==null){var s=l(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=c(s),t!==null)return t;t=null}else if(r===31){if(t=h(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return aa=t,null}function nm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xv()){case ud:return 2;case cd:return 8;case Qo:case Wv:return 32;case dd:return 268435456;default:return 32}default:return 32}}var nc=!1,Zn=null,ei=null,ti=null,ko=new Map,Do=new Map,ni=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function im(t,s){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":ko.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(s.pointerId)}}function Uo(t,s,r,u,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:s,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Gi(s),s!==null&&em(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function hT(t,s,r,u,p){switch(s){case"focusin":return Zn=Uo(Zn,t,s,r,u,p),!0;case"dragenter":return ei=Uo(ei,t,s,r,u,p),!0;case"mouseover":return ti=Uo(ti,t,s,r,u,p),!0;case"pointerover":var y=p.pointerId;return ko.set(y,Uo(ko.get(y)||null,t,s,r,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Do.set(y,Uo(Do.get(y)||null,t,s,r,u,p)),!0}return!1}function sm(t){var s=Hi(t.target);if(s!==null){var r=l(s);if(r!==null){if(s=r.tag,s===13){if(s=c(r),s!==null){t.blockedOn=s,yd(t.priority,function(){tm(r)});return}}else if(s===31){if(s=h(r),s!==null){t.blockedOn=s,yd(t.priority,function(){tm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function la(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=ec(t.nativeEvent);if(r===null){r=t.nativeEvent;var u=new r.constructor(r.type,r);tl=u,r.target.dispatchEvent(u),tl=null}else return s=Gi(r),s!==null&&em(s),t.blockedOn=r,!1;s.shift()}return!0}function om(t,s,r){la(t)&&r.delete(s)}function pT(){nc=!1,Zn!==null&&la(Zn)&&(Zn=null),ei!==null&&la(ei)&&(ei=null),ti!==null&&la(ti)&&(ti=null),ko.forEach(om),Do.forEach(om)}function ua(t,s){t.blockedOn===s&&(t.blockedOn=null,nc||(nc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pT)))}var ca=null;function rm(t){ca!==t&&(ca=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ca===t&&(ca=null);for(var s=0;s<t.length;s+=3){var r=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(tc(u||r)===null)continue;break}var y=Gi(r);y!==null&&(t.splice(s,3),s-=3,eu(y,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function Es(t){function s(w){return ua(w,t)}Zn!==null&&ua(Zn,t),ei!==null&&ua(ei,t),ti!==null&&ua(ti,t),ko.forEach(s),Do.forEach(s);for(var r=0;r<ni.length;r++){var u=ni[r];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ni.length&&(r=ni[0],r.blockedOn===null);)sm(r),r.blockedOn===null&&ni.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],y=r[u+1],T=p[_t]||null;if(typeof y=="function")T||rm(r);else if(T){var b=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[_t]||null)b=T.formAction;else if(tc(p)!==null)continue}else b=T.action;typeof b=="function"?r[u+1]=b:(r.splice(u,3),u-=3),rm(r)}}}function am(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function ic(t){this._internalRoot=t}da.prototype.render=ic.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var r=s.current,u=Pt();Wp(r,u,t,s,null,null)},da.prototype.unmount=ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Wp(t.current,2,null,t,null,null),Jr(),s[qi]=null}};function da(t){this._internalRoot=t}da.prototype.unstable_scheduleHydration=function(t){if(t){var s=gd();t={blockedOn:null,target:t,priority:s};for(var r=0;r<ni.length&&s!==0&&s<ni[r].priority;r++);ni.splice(r,0,t),r===0&&sm(t)}};var lm=e.version;if(lm!=="19.2.0")throw Error(o(527,lm,"19.2.0"));$.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=g(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{zs=fa.inject(mT),xt=fa}catch{}}return Oo.createRoot=function(t,s){if(!a(t))throw Error(o(299));var r=!1,u="",p=mh,y=gh,T=yh;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Qp(t,1,!1,null,null,r,u,null,p,y,T,am),t[qi]=s.current,qu(t),new ic(s)},Oo.hydrateRoot=function(t,s,r){if(!a(t))throw Error(o(299));var u=!1,p="",y=mh,T=gh,b=yh,w=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),s=Qp(t,1,!0,s,r??null,u,p,w,y,T,b,am),s.context=Xp(null),r=s.current,u=Pt(),u=Ya(u),p=Bn(u),p.callback=null,zn(r,p,u),r=u,s.current.lanes=r,Fs(s,r),un(s),t[qi]=s.current,qu(t),new da(s)},Oo.version="19.2.0",Oo}var vm;function RT(){if(vm)return rc.exports;vm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rc.exports=xT(),rc.exports}var NT=RT();const MT=Bc(NT),Sa=()=>S.jsxs("div",{className:"pointer-events-none fixed inset-0 z-50 h-full w-full opacity-40 mix-blend-multiply",children:[S.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("filter",{id:"noiseFilter",children:S.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.80",numOctaves:"3",stitchTiles:"stitch"})}),S.jsx("rect",{width:"100%",height:"100%",filter:"url(#noiseFilter)"})]}),S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle,transparent_0%,rgba(139,94,60,0.2)_100%)]"})]});/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),_m=n=>{const e=kT(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ty=(...n)=>n.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),DT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=te.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...h},m)=>te.createElement("svg",{ref:m,...UT,width:e,height:e,stroke:n,strokeWidth:o?Number(i)*24/Number(e):i,className:Ty("lucide",a),...!l&&!DT(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,v])=>te.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(n,e)=>{const i=te.forwardRef(({className:o,...a},l)=>te.createElement(PT,{ref:l,iconNode:e,className:Ty(`lucide-${IT(_m(n))}`,`lucide-${n}`,o),...a}));return i.displayName=_m(n),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LT=xe("activity",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qo=xe("arrow-left",qT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ey=xe("arrow-right",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],BT=xe("award",GT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],VT=xe("book-open",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JT=xe("briefcase",FT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YT=xe("camera",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KT=xe("circle-question-mark",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XT=xe("clock",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],ZT=xe("coffee",WT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vc=xe("compass",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],Sy=xe("feather",tE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],by=xe("gem",nE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],sE=xe("history",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],rE=xe("key",oE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ay=xe("log-out",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uE=xe("map-pin",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Cy=xe("map",cE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vo=xe("refresh-cw",dE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tm=xe("rotate-ccw",fE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pE=xe("send",hE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],gE=xe("shield-alert",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],Ui=xe("stamp",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wy=xe("star",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TE=xe("triangle-alert",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fc=xe("user",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bE=xe("users",SE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CE=xe("x",AE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xE=xe("zap-off",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fo=xe("zap",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ME=xe("zoom-in",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kE=xe("zoom-out",IE);var Lt=(n=>(n.HOME="HOME",n.PORTALS="PORTALS",n.MENTORS="MENTORS",n.CHRONICLE="CHRONICLE",n.EDITOR="EDITOR",n))(Lt||{});const DE=({currentSection:n,onNavigate:e})=>{const i=[{id:Lt.HOME,label:"Front Page",icon:S.jsx(VT,{size:20})},{id:Lt.PORTALS,label:"Classifieds",icon:S.jsx(XT,{size:20})},{id:Lt.CHRONICLE,label:"Ripples",icon:S.jsx(Sy,{size:20})},{id:Lt.MENTORS,label:"Personas",icon:S.jsx(bE,{size:20})},{id:Lt.EDITOR,label:"Editor",icon:S.jsx(Vc,{size:20})}];return S.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-paper border-t-4 border-double border-ink shadow-lg pb-safe",children:S.jsx("div",{className:"max-w-3xl mx-auto flex justify-around items-center px-2",children:i.map(o=>S.jsxs("button",{onClick:()=>e(o.id),className:`
              flex flex-col items-center justify-center py-3 px-2 w-full transition-all duration-300
              ${n===o.id?"text-ink font-bold bg-vintage-gold/20 -translate-y-2 border-x border-t border-ink rounded-t-md shadow-sm":"text-ink-light hover:text-ink hover:-translate-y-1"}
            `,children:[S.jsx("div",{className:"mb-1",children:o.icon}),S.jsx("span",{className:"text-[10px] uppercase tracking-widest font-serif",children:o.label})]},o.id))})})},Jo=({title:n,subtitle:e,date:i})=>S.jsxs("div",{className:"border-b-4 border-double border-ink mb-6 pb-2 text-center",children:[S.jsxs("div",{className:"flex justify-between items-center border-b border-ink pb-1 mb-2",children:[S.jsx("span",{className:"font-mono text-xs uppercase tracking-widest",children:"Vol. XCVIII"}),S.jsx("span",{className:"font-mono text-xs uppercase tracking-widest",children:i||"Timension Daily"}),S.jsx("span",{className:"font-mono text-xs uppercase tracking-widest",children:"Price: 2"})]}),S.jsx("h1",{className:"font-serif text-4xl md:text-6xl font-black text-ink uppercase tracking-tight leading-none mb-2",children:n}),e&&S.jsxs("p",{className:"font-serif italic text-lg text-ink-light",children:[" ",e," "]})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UE,PE;function OE(){return{geminiUrl:UE,vertexUrl:PE}}function LE(n,e,i,o){var a,l;if(!(n!=null&&n.baseUrl)){const c=OE();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mn{}function Q(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[h])){const m=n[h];if(Array.isArray(i))for(let g=0;g<m.length;g++){const v=m[g];f(v,e.slice(l+1),i[g])}else for(const g of m)f(g,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in n||(n[h]=[{}]);const m=n[h];f(m[0],e.slice(l+1),i);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const o=e[e.length-1],a=n[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[o]=i}function d(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return i;const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(o+1),i)):i}else return i}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return i;throw o}}function qE(n,e){for(const[i,o]of Object.entries(e)){const a=i.split("."),l=o.split("."),c=new Set;let h=-1;for(let m=0;m<a.length;m++)if(a[m]==="*"){h=m;break}if(h!==-1&&l.length>h)for(let m=h;m<l.length;m++){const g=l[m];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&c.add(g)}_c(n,a,l,0,c)}}function _c(n,e,i,o,a){if(o>=e.length||typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2),h=n;if(c in h&&Array.isArray(h[c]))for(const m of h[c])_c(m,e,i,o+1,a)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,h=Object.keys(c).filter(g=>!g.startsWith("_")&&!a.has(g)),m={};for(const g of h)m[g]=c[g];for(const[g,v]of Object.entries(m)){const _=[];for(const E of i.slice(o))E==="*"?_.push(g):_.push(E);f(c,_,v)}for(const g of h)delete c[g]}}else{const c=n;l in c&&_c(c[l],e,i,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(n){const e={},i=d(n,["operationName"]);i!=null&&f(e,["operationName"],i);const o=d(n,["resourceName"]);return o!=null&&f(e,["_url","resourceName"],o),e}function GE(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],zE(c)),e}function BE(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],VE(c)),e}function zE(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>FE(c))),f(e,["generatedVideos"],l)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function VE(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>JE(c))),f(e,["generatedVideos"],l)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function FE(n){const e={},i=d(n,["video"]);return i!=null&&f(e,["video"],XE(i)),e}function JE(n){const e={},i=d(n,["_self"]);return i!=null&&f(e,["video"],WE(i)),e}function $E(n){const e={},i=d(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function YE(n){const e={},i=d(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function jE(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],KE(c)),e}function KE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["parent"]);o!=null&&f(e,["parent"],o);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function xy(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],QE(c)),e}function QE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["parent"]);o!=null&&f(e,["parent"],o);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function XE(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const o=d(n,["encodedVideo"]);o!=null&&f(e,["videoBytes"],Jc(o));const a=d(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function WE(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const o=d(n,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],Jc(o));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Em;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Em||(Em={}));var Sm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Sm||(Sm={}));var bm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(bm||(bm={}));var ge;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ge||(ge={}));var Am;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Am||(Am={}));var Cm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cm||(Cm={}));var wm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(wm||(wm={}));var xm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xm||(xm={}));var Rm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rm||(Rm={}));var Nm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Nm||(Nm={}));var Mm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Mm||(Mm={}));var Im;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Im||(Im={}));var km;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(km||(km={}));var Dm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Dm||(Dm={}));var Um;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Um||(Um={}));var Pm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pm||(Pm={}));var Om;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Om||(Om={}));var Lm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Lm||(Lm={}));var qm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qm||(qm={}));var Ca;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ca||(Ca={}));var Hm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hm||(Hm={}));var Gm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gm||(Gm={}));var Bm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bm||(Bm={}));var Tc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Tc||(Tc={}));var zm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(zm||(zm={}));var Vm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Vm||(Vm={}));var Fm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Fm||(Fm={}));var Jm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Jm||(Jm={}));var $m;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})($m||($m={}));var Ym;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ym||(Ym={}));var jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(jm||(jm={}));var Km;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Km||(Km={}));var Qm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Qm||(Qm={}));var Xm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Xm||(Xm={}));var Wm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wm||(Wm={}));var Zm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Zm||(Zm={}));var eg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(eg||(eg={}));var tg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tg||(tg={}));var ng;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(ng||(ng={}));var ig;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(ig||(ig={}));var sg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(sg||(sg={}));var og;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(og||(og={}));var rg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rg||(rg={}));var ag;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(ag||(ag={}));var lg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(lg||(lg={}));var ug;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(ug||(ug={}));var cg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(cg||(cg={}));var dg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(dg||(dg={}));var fg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fg||(fg={}));var hg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hg||(hg={}));var pg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(pg||(pg={}));var mg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mg||(mg={}));var gg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gg||(gg={}));var yg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(yg||(yg={}));var Ns;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ns||(Ns={}));class Ec{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Lo{get text(){var e,i,o,a,l,c,h,m;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const _=[];for(const E of(m=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[A,C]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(C!==null||C!==void 0)&&_.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,i,o,a,l,c,h,m;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const _ of(m=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[E,A]of Object.entries(_))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(g+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,o,a,l,c,h,m;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(m=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,o,a,l,c,h,m,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(m=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,o,a,l,c,h,m,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(m=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class vg{}class _g{}class ZE{}class eS{}class tS{}class nS{}class Tg{}class Eg{}class Sg{}class iS{}class wa{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new wa;let a;const l=e;return i?a=BE(l):a=GE(l),Object.assign(o,a),o}}class bg{}class Ag{}class Cg{}class sS{}class oS{}class rS{}class $c{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new $c,l=jE(e);return Object.assign(o,l),o}}class aS{}class lS{}class uS{}class wg{}class cS{get text(){var e,i,o;let a="",l=!1;const c=[];for(const h of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[m,g]of Object.entries(h))m!=="text"&&m!=="thought"&&g!==null&&c.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,a+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,o;let a="";const l=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[h,m]of Object.entries(c))h!=="inlineData"&&m!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class dS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yc{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Yc,l=xy(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ry(n,e){const i=we(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Ny(n){return Array.isArray(n)?n.map(e=>xa(e)):[xa(n)]}function xa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function My(n){const e=xa(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Iy(n){const e=xa(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function ky(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>xg(e)):[xg(n)]}function Sc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Rg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ng(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function yt(n){if(n==null)throw new Error("ContentUnion is required");return Sc(n)?n:{role:"user",parts:ky(n)}}function jc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=yt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const i=yt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>yt(i)):[yt(e)]}function Xt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Rg(n)||Ng(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(n)]}const e=[],i=[],o=Sc(n[0]);for(const a of n){const l=Sc(a);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(Rg(a)||Ng(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:ky(i)}),e}function fS(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(ge).includes(i[0].toUpperCase())?i[0].toUpperCase():ge.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(ge).includes(o.toUpperCase())?o.toUpperCase():ge.TYPE_UNSPECIFIED})}}function Ms(n){const e={},i=["items"],o=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&fS(n.type,e);for(const[c,h]of Object.entries(n))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(ge).includes(h.toUpperCase())?h.toUpperCase():ge.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Ms(h);else if(o.includes(c)){const m=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}m.push(Ms(g))}e[c]=m}else if(a.includes(c)){const m={};for(const[g,v]of Object.entries(h))m[g]=Ms(v);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Kc(n){return Ms(n)}function Qc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Xc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ps(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ms(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ms(e.response));return n}function Os(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function hS(n,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function In(n,e){if(typeof e!="string")throw new Error("name must be a string");return hS(n,e,"cachedContents")}function Dy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ai(n){return Jc(n)}function pS(n){return n!=null&&typeof n=="object"&&"name"in n}function mS(n){return n!=null&&typeof n=="object"&&"video"in n}function gS(n){return n!=null&&typeof n=="object"&&"uri"in n}function Uy(n){var e;let i;if(pS(n)&&(i=n.name),!(gS(n)&&(i=n.uri,i===void 0))&&!(mS(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Py(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Oy(n){for(const e of["models","tunedModels","publisherModels"])if(yS(n,e))return n[e];return[]}function yS(n,e){return n!==null&&typeof n=="object"&&e in n}function vS(n,e={}){const i=n,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function _S(n,e={}){const i=[],o=new Set;for(const a of n){const l=a.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const c=vS(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function Ly(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function TS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qy(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ls(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Hy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(n){const e={},i=d(n,["responsesFile"]);i!=null&&f(e,["fileName"],i);const o=d(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tb(c))),f(e,["inlinedResponses"],l)}const a=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function SS(n){const e={},i=d(n,["predictionsFormat"]);i!=null&&f(e,["format"],i);const o=d(n,["gcsDestination","outputUriPrefix"]);o!=null&&f(e,["gcsUri"],o);const a=d(n,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function bS(n){const e={},i=d(n,["format"]);i!=null&&f(e,["predictionsFormat"],i);const o=d(n,["gcsUri"]);o!=null&&f(e,["gcsDestination","outputUriPrefix"],o);const a=d(n,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ba(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata","displayName"]);o!=null&&f(e,["displayName"],o);const a=d(n,["metadata","state"]);a!=null&&f(e,["state"],Hy(a));const l=d(n,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const m=d(n,["metadata","model"]);m!=null&&f(e,["model"],m);const g=d(n,["metadata","output"]);return g!=null&&f(e,["dest"],ES(qy(g))),e}function bc(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["displayName"]);o!=null&&f(e,["displayName"],o);const a=d(n,["state"]);a!=null&&f(e,["state"],Hy(a));const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(n,["startTime"]);h!=null&&f(e,["startTime"],h);const m=d(n,["endTime"]);m!=null&&f(e,["endTime"],m);const g=d(n,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=d(n,["model"]);v!=null&&f(e,["model"],v);const _=d(n,["inputConfig"]);_!=null&&f(e,["src"],AS(_));const E=d(n,["outputConfig"]);E!=null&&f(e,["dest"],SS(qy(E)));const A=d(n,["completionStats"]);return A!=null&&f(e,["completionStats"],A),e}function AS(n){const e={},i=d(n,["instancesFormat"]);i!=null&&f(e,["format"],i);const o=d(n,["gcsSource","uris"]);o!=null&&f(e,["gcsUri"],o);const a=d(n,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function CS(n,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&f(i,["fileName"],o);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>eb(n,c))),f(i,["requests","requests"],l)}return i}function wS(n){const e={},i=d(n,["format"]);i!=null&&f(e,["instancesFormat"],i);const o=d(n,["gcsUri"]);o!=null&&f(e,["gcsSource","uris"],o);const a=d(n,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function xS(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function RS(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Ls(n,o)),i}function NS(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Ls(n,o)),i}function MS(n){const e={},i=d(n,["content"]);i!=null&&f(e,["content"],i);const o=d(n,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],IS(o));const a=d(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const m=d(n,["index"]);m!=null&&f(e,["index"],m);const g=d(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=d(n,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["safetyRatings"],E)}const _=d(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function IS(n){const e={},i=d(n,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["citations"],o)}return e}function Gy(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>lb(l))),f(e,["parts"],a)}const o=d(n,["role"]);return o!=null&&f(e,["role"],o),e}function kS(n,e){const i={},o=d(n,["displayName"]);if(e!==void 0&&o!=null&&f(e,["batch","displayName"],o),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function DS(n,e){const i={},o=d(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=d(n,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],bS(TS(a))),i}function Mg(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],CS(n,Ly(n,a)));const l=d(e,["config"]);return l!=null&&kS(l,i),i}function US(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],we(n,o));const a=d(e,["src"]);a!=null&&f(i,["inputConfig"],wS(Ly(n,a)));const l=d(e,["config"]);return l!=null&&DS(l,i),i}function PS(n,e){const i={},o=d(n,["displayName"]);return e!==void 0&&o!=null&&f(e,["batch","displayName"],o),i}function OS(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],VS(n,a));const l=d(e,["config"]);return l!=null&&PS(l,i),i}function LS(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Ls(n,o)),i}function qS(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Ls(n,o)),i}function HS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["name"]);o!=null&&f(e,["name"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);return l!=null&&f(e,["error"],l),e}function GS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["name"]);o!=null&&f(e,["name"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);return l!=null&&f(e,["error"],l),e}function BS(n,e){const i={},o=d(e,["contents"]);if(o!=null){let l=jc(n,o);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(f(i,["_self"],zS(a,i)),qE(i,{"requests[].*":"requests[].request.*"})),i}function zS(n,e){const i={},o=d(n,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function VS(n,e){const i={},o=d(e,["fileName"]);o!=null&&f(i,["file_name"],o);const a=d(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],BS(n,a)),i}function FS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function JS(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const o=d(n,["args"]);o!=null&&f(e,["args"],o);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $S(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const o=d(n,["allowedFunctionNames"]);if(o!=null&&f(e,["allowedFunctionNames"],o),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function YS(n,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Gy(yt(a)));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const m=d(e,["candidateCount"]);m!=null&&f(o,["candidateCount"],m);const g=d(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&f(o,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&f(o,["presencePenalty"],A);const C=d(e,["frequencyPenalty"]);C!=null&&f(o,["frequencyPenalty"],C);const x=d(e,["seed"]);x!=null&&f(o,["seed"],x);const M=d(e,["responseMimeType"]);M!=null&&f(o,["responseMimeType"],M);const O=d(e,["responseSchema"]);O!=null&&f(o,["responseSchema"],Kc(O));const H=d(e,["responseJsonSchema"]);if(H!=null&&f(o,["responseJsonSchema"],H),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(i!==void 0&&k!=null){let pe=k;Array.isArray(pe)&&(pe=pe.map(Le=>ub(Le))),f(i,["safetySettings"],pe)}const F=d(e,["tools"]);if(i!==void 0&&F!=null){let pe=Os(F);Array.isArray(pe)&&(pe=pe.map(Le=>db(Ps(Le)))),f(i,["tools"],pe)}const j=d(e,["toolConfig"]);if(i!==void 0&&j!=null&&f(i,["toolConfig"],cb(j)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],In(n,Y));const J=d(e,["responseModalities"]);J!=null&&f(o,["responseModalities"],J);const le=d(e,["mediaResolution"]);le!=null&&f(o,["mediaResolution"],le);const X=d(e,["speechConfig"]);if(X!=null&&f(o,["speechConfig"],Qc(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=d(e,["thinkingConfig"]);he!=null&&f(o,["thinkingConfig"],he);const Re=d(e,["imageConfig"]);return Re!=null&&f(o,["imageConfig"],ZS(Re)),o}function jS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(g=>MS(g))),f(e,["candidates"],m)}const a=d(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function KS(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Ls(n,o)),i}function QS(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Ls(n,o)),i}function XS(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function WS(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function ZS(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(n,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eb(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["request","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let h=Xt(a);Array.isArray(h)&&(h=h.map(m=>Gy(m))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],YS(n,c,d(i,["request"],{}))),i}function tb(n){const e={},i=d(n,["response"]);i!=null&&f(e,["response"],jS(i));const o=d(n,["error"]);return o!=null&&f(e,["error"],o),e}function nb(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function ib(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const l=d(n,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function sb(n){const e={},i=d(n,["config"]);return i!=null&&nb(i,e),e}function ob(n){const e={},i=d(n,["config"]);return i!=null&&ib(i,e),e}function rb(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ba(c))),f(e,["batchJobs"],l)}return e}function ab(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>bc(c))),f(e,["batchJobs"],l)}return e}function lb(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],FS(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],JS(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const m=d(n,["inlineData"]);m!=null&&f(e,["inlineData"],xS(m));const g=d(n,["text"]);g!=null&&f(e,["text"],g);const v=d(n,["thought"]);v!=null&&f(e,["thought"],v);const _=d(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(n,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function ub(n){const e={},i=d(n,["category"]);if(i!=null&&f(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(n,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function cb(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],$S(i));const o=d(n,["retrievalConfig"]);return o!=null&&f(e,["retrievalConfig"],o),e}function db(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],XS(h));const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],WS(m));const g=d(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Nn||(Nn={}));class Pi{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fb extends Mn{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Pi(Nn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=Mg(this.apiClient,e),o=i._url,a=Q("{model}:batchGenerateContent",o),h=i.batch.inputConfig.requests,m=h.requests,g=[];for(const v of m){const _=Object.assign({},v);if(_.systemInstruction){const E=_.systemInstruction;delete _.systemInstruction;const A=_.request;A.systemInstruction=E,_.request=A}g.push(_)}return h.requests=g,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${a}`;else if(c)o.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=US(this.apiClient,e);return h=Q("batchPredictionJobs",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>bc(v))}else{const g=Mg(this.apiClient,e);return h=Q("{model}:batchGenerateContent",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>ba(v))}}async createEmbeddingsInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OS(this.apiClient,e);return l=Q("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>ba(m))}}async get(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=QS(this.apiClient,e);return h=Q("batchPredictionJobs/{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>bc(v))}else{const g=KS(this.apiClient,e);return h=Q("batches/{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>ba(v))}}async cancel(e){var i,o,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const m=NS(this.apiClient,e);c=Q("batchPredictionJobs/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const m=RS(this.apiClient,e);c=Q("batches/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=ob(e);return h=Q("batchPredictionJobs",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=ab(v),E=new wg;return Object.assign(E,_),E})}else{const g=sb(e);return h=Q("batches",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=rb(v),E=new wg;return Object.assign(E,_),E})}}async delete(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=qS(this.apiClient,e);return h=Q("batchPredictionJobs/{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>GS(v))}else{const g=LS(this.apiClient,e);return h=Q("batches/{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>HS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hb(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Ig(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Ob(l))),f(e,["parts"],a)}const o=d(n,["role"]);return o!=null&&f(e,["role"],o),e}function pb(n,e){const i={},o=d(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let v=Xt(c);Array.isArray(v)&&(v=v.map(_=>Ig(_))),f(e,["contents"],v)}const h=d(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Ig(yt(h)));const m=d(n,["tools"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>qb(_))),f(e,["tools"],v)}const g=d(n,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],Lb(g)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function mb(n,e){const i={},o=d(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let _=Xt(c);Array.isArray(_)&&(_=_.map(E=>E)),f(e,["contents"],_)}const h=d(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],yt(h));const m=d(n,["tools"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(E=>Hb(E))),f(e,["tools"],_)}const g=d(n,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=d(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function gb(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],Ry(n,o));const a=d(e,["config"]);return a!=null&&pb(a,i),i}function yb(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],Ry(n,o));const a=d(e,["config"]);return a!=null&&mb(a,i),i}function vb(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],In(n,o)),i}function _b(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],In(n,o)),i}function Tb(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Eb(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Sb(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function bb(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const o=d(n,["args"]);o!=null&&f(e,["args"],o);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ab(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const o=d(n,["allowedFunctionNames"]);if(o!=null&&f(e,["allowedFunctionNames"],o),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Cb(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const o=d(n,["name"]);o!=null&&f(e,["name"],o);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function wb(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],In(n,o)),i}function xb(n,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],In(n,o)),i}function Rb(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Nb(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Mb(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Ib(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function kb(n){const e={},i=d(n,["config"]);return i!=null&&Mb(i,e),e}function Db(n){const e={},i=d(n,["config"]);return i!=null&&Ib(i,e),e}function Ub(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function Pb(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function Ob(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],Sb(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],bb(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const m=d(n,["inlineData"]);m!=null&&f(e,["inlineData"],hb(m));const g=d(n,["text"]);g!=null&&f(e,["text"],g);const v=d(n,["thought"]);v!=null&&f(e,["thought"],v);const _=d(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(n,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Lb(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],Ab(i));const o=d(n,["retrievalConfig"]);return o!=null&&f(e,["retrievalConfig"],o),e}function qb(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],Rb(h));const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],Nb(m));const g=d(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function Hb(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>Cb(E))),f(e,["functionDeclarations"],_)}const o=d(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const m=d(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],m);const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=d(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Gb(n,e){const i={},o=d(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function Bb(n,e){const i={},o=d(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function zb(n,e){const i={},o=d(e,["name"]);o!=null&&f(i,["_url","name"],In(n,o));const a=d(e,["config"]);return a!=null&&Gb(a,i),i}function Vb(n,e){const i={},o=d(e,["name"]);o!=null&&f(i,["_url","name"],In(n,o));const a=d(e,["config"]);return a!=null&&Bb(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends Mn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Pi(Nn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=yb(this.apiClient,e);return h=Q("cachedContents",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const g=gb(this.apiClient,e);return h=Q("cachedContents",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=xb(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const g=wb(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=_b(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Eb(v),E=new Ag;return Object.assign(E,_),E})}else{const g=vb(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Tb(v),E=new Ag;return Object.assign(E,_),E})}}async update(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=Vb(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const g=zb(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=Db(e);return h=Q("cachedContents",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Pb(v),E=new Cg;return Object.assign(E,_),E})}else{const g=kb(e);return h=Q("cachedContents",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Ub(v),E=new Cg;return Object.assign(E,_),E})}}}function kg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(n){return this instanceof ze?(this.v=n,this):new ze(n)}function Is(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(A){return function(C){return Promise.resolve(C).then(A,_)}}function h(A,C){o[A]&&(a[A]=function(x){return new Promise(function(M,O){l.push([A,x,M,O])>1||m(A,x)})},C&&(a[A]=C(a[A])))}function m(A,C){try{g(o[A](C))}catch(x){E(l[0][3],x)}}function g(A){A.value instanceof ze?Promise.resolve(A.value.v).then(v,_):E(l[0][2],A)}function v(A){m("next",A)}function _(A){m("throw",A)}function E(A,C){A(C),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Go(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof kg=="function"?kg(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=n[l]&&function(c){return new Promise(function(h,m){c=n[l](c),a(h,m,c.done,c.value)})}}function a(l,c,h,m){Promise.resolve(m).then(function(g){l({value:g,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jb(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:By(i)}function By(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $b(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Dg(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let o=0;for(;o<i;)if(n[o].role==="user")e.push(n[o]),o++;else{const a=[];let l=!0;for(;o<i&&n[o].role==="model";)a.push(n[o]),l&&!By(n[o])&&(l=!1),o++;l?e.push(...a):e.pop()}return e}class Yb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new jb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jb{constructor(e,i,o,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),$b(l)}async sendMessage(e){var i;await this.sendPromise;const o=yt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const m=await a,g=(c=(l=m.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=m.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(_))!==null&&h!==void 0?h:[]);const A=g?[g]:[];this.recordHistory(o,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=yt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,o)}getHistory(e=!1){const i=e?Dg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var o,a;return Is(this,arguments,function*(){var c,h,m,g;const v=[];try{for(var _=!0,E=Go(e),A;A=yield ze(E.next()),c=A.done,!c;_=!0){g=A.value,_=!1;const C=g;if(Jb(C)){const x=(a=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;x!==void 0&&v.push(x)}yield yield ze(C)}}catch(C){h={error:C}}finally{try{!_&&!c&&(m=E.return)&&(yield ze(m.call(E)))}finally{if(h)throw h.error}}this.recordHistory(i,v)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Dg(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Oa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kb(n){const e={},i=d(n,["file"]);return i!=null&&f(e,["file"],i),e}function Qb(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Xb(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","file"],Uy(i)),e}function Wb(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Zb(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","file"],Uy(i)),e}function eA(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function tA(n){const e={},i=d(n,["config"]);return i!=null&&eA(i,e),e}function nA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iA extends Mn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Pi(Nn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tA(e);return l=Q("files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>{const g=nA(m),v=new aS;return Object.assign(v,g),v})}}async createInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kb(e);return l=Q("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=Qb(m),v=new lS;return Object.assign(v,g),v})}}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zb(e);return l=Q("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xb(e);return l=Q("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>{const g=Wb(m),v=new uS;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aa(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function sA(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>TA(l))),f(e,["parts"],a)}const o=d(n,["role"]);return o!=null&&f(e,["role"],o),e}function oA(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function rA(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const o=d(n,["args"]);o!=null&&f(e,["args"],o);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aA(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const o=d(n,["name"]);o!=null&&f(e,["name"],o);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function lA(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const o=d(n,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const a=d(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const m=d(n,["logprobs"]);m!=null&&f(e,["logprobs"],m);const g=d(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=d(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=d(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const E=d(n,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const A=d(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const C=d(n,["responseModalities"]);C!=null&&f(e,["responseModalities"],C);const x=d(n,["responseSchema"]);x!=null&&f(e,["responseSchema"],x);const M=d(n,["routingConfig"]);M!=null&&f(e,["routingConfig"],M);const O=d(n,["seed"]);O!=null&&f(e,["seed"],O);const H=d(n,["speechConfig"]);H!=null&&f(e,["speechConfig"],zy(H));const k=d(n,["stopSequences"]);k!=null&&f(e,["stopSequences"],k);const F=d(n,["temperature"]);F!=null&&f(e,["temperature"],F);const j=d(n,["thinkingConfig"]);j!=null&&f(e,["thinkingConfig"],j);const Y=d(n,["topK"]);Y!=null&&f(e,["topK"],Y);const J=d(n,["topP"]);if(J!=null&&f(e,["topP"],J),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uA(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function cA(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function dA(n,e){const i={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const m=d(n,["maxOutputTokens"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","maxOutputTokens"],m);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Xc(_));const E=d(n,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=d(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],sA(yt(C)));const x=d(n,["tools"]);if(e!==void 0&&x!=null){let Y=Os(x);Array.isArray(Y)&&(Y=Y.map(J=>SA(Ps(J)))),f(e,["setup","tools"],Y)}const M=d(n,["sessionResumption"]);e!==void 0&&M!=null&&f(e,["setup","sessionResumption"],EA(M));const O=d(n,["inputAudioTranscription"]);e!==void 0&&O!=null&&f(e,["setup","inputAudioTranscription"],O);const H=d(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","outputAudioTranscription"],H);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const F=d(n,["contextWindowCompression"]);e!==void 0&&F!=null&&f(e,["setup","contextWindowCompression"],F);const j=d(n,["proactivity"]);return e!==void 0&&j!=null&&f(e,["setup","proactivity"],j),i}function fA(n,e){const i={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],lA(o));const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const m=d(n,["maxOutputTokens"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","maxOutputTokens"],m);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],zy(Xc(_)));const E=d(n,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=d(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],yt(C));const x=d(n,["tools"]);if(e!==void 0&&x!=null){let Y=Os(x);Array.isArray(Y)&&(Y=Y.map(J=>bA(Ps(J)))),f(e,["setup","tools"],Y)}const M=d(n,["sessionResumption"]);e!==void 0&&M!=null&&f(e,["setup","sessionResumption"],M);const O=d(n,["inputAudioTranscription"]);e!==void 0&&O!=null&&f(e,["setup","inputAudioTranscription"],O);const H=d(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","outputAudioTranscription"],H);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const F=d(n,["contextWindowCompression"]);e!==void 0&&F!=null&&f(e,["setup","contextWindowCompression"],F);const j=d(n,["proactivity"]);return e!==void 0&&j!=null&&f(e,["setup","proactivity"],j),i}function hA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],we(n,o));const a=d(e,["config"]);return a!=null&&f(i,["config"],dA(a,i)),i}function pA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],we(n,o));const a=d(e,["config"]);return a!=null&&f(i,["config"],fA(a,i)),i}function mA(n){const e={},i=d(n,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function gA(n){const e={},i=d(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["weightedPrompts"],o)}return e}function yA(n){const e={},i=d(n,["media"]);if(i!=null){let g=Ny(i);Array.isArray(g)&&(g=g.map(v=>Aa(v))),f(e,["mediaChunks"],g)}const o=d(n,["audio"]);o!=null&&f(e,["audio"],Aa(Iy(o)));const a=d(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&f(e,["video"],Aa(My(l)));const c=d(n,["text"]);c!=null&&f(e,["text"],c);const h=d(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const m=d(n,["activityEnd"]);return m!=null&&f(e,["activityEnd"],m),e}function vA(n){const e={},i=d(n,["media"]);if(i!=null){let g=Ny(i);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const o=d(n,["audio"]);o!=null&&f(e,["audio"],Iy(o));const a=d(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&f(e,["video"],My(l));const c=d(n,["text"]);c!=null&&f(e,["text"],c);const h=d(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const m=d(n,["activityEnd"]);return m!=null&&f(e,["activityEnd"],m),e}function _A(n){const e={},i=d(n,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const o=d(n,["serverContent"]);o!=null&&f(e,["serverContent"],o);const a=d(n,["toolCall"]);a!=null&&f(e,["toolCall"],a);const l=d(n,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],AA(c));const h=d(n,["goAway"]);h!=null&&f(e,["goAway"],h);const m=d(n,["sessionResumptionUpdate"]);return m!=null&&f(e,["sessionResumptionUpdate"],m),e}function TA(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],oA(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],rA(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const m=d(n,["inlineData"]);m!=null&&f(e,["inlineData"],Aa(m));const g=d(n,["text"]);g!=null&&f(e,["text"],g);const v=d(n,["thought"]);v!=null&&f(e,["thought"],v);const _=d(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(n,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function EA(n){const e={},i=d(n,["handle"]);if(i!=null&&f(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zy(n){const e={},i=d(n,["languageCode"]);i!=null&&f(e,["languageCode"],i);const o=d(n,["voiceConfig"]);if(o!=null&&f(e,["voiceConfig"],o),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function SA(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],uA(h));const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],cA(m));const g=d(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function bA(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>aA(E))),f(e,["functionDeclarations"],_)}const o=d(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const m=d(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],m);const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=d(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function AA(n){const e={},i=d(n,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const o=d(n,["cachedContentTokenCount"]);o!=null&&f(e,["cachedContentTokenCount"],o);const a=d(n,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const m=d(n,["promptTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(C=>C)),f(e,["promptTokensDetails"],A)}const g=d(n,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(C=>C)),f(e,["cacheTokensDetails"],A)}const v=d(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(C=>C)),f(e,["responseTokensDetails"],A)}const _=d(n,["toolUsePromptTokensDetails"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(C=>C)),f(e,["toolUsePromptTokensDetails"],A)}const E=d(n,["trafficType"]);return E!=null&&f(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CA(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function wA(n){const e={},i=d(n,["content"]);i!=null&&f(e,["content"],i);const o=d(n,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],xA(o));const a=d(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const m=d(n,["index"]);m!=null&&f(e,["index"],m);const g=d(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=d(n,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["safetyRatings"],E)}const _=d(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function xA(n){const e={},i=d(n,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["citations"],o)}return e}function RA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let l=Xt(a);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["contents"],l)}return i}function NA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["tokensInfo"],a)}return e}function MA(n){const e={},i=d(n,["values"]);i!=null&&f(e,["values"],i);const o=d(n,["statistics"]);return o!=null&&f(e,["statistics"],IA(o)),e}function IA(n){const e={},i=d(n,["truncated"]);i!=null&&f(e,["truncated"],i);const o=d(n,["token_count"]);return o!=null&&f(e,["tokenCount"],o),e}function La(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>GC(l))),f(e,["parts"],a)}const o=d(n,["role"]);return o!=null&&f(e,["role"],o),e}function kA(n){const e={},i=d(n,["controlType"]);i!=null&&f(e,["controlType"],i);const o=d(n,["enableControlImageComputation"]);return o!=null&&f(e,["computeControl"],o),e}function DA(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function UA(n,e){const i={},o=d(n,["systemInstruction"]);e!==void 0&&o!=null&&f(e,["systemInstruction"],yt(o));const a=d(n,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Yy(h))),f(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],CC(l)),i}function PA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let c=Xt(a);Array.isArray(c)&&(c=c.map(h=>La(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&DA(l),i}function OA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let c=Xt(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&UA(l,i),i}function LA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["totalTokens"]);o!=null&&f(e,["totalTokens"],o);const a=d(n,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function qA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["totalTokens"]);return o!=null&&f(e,["totalTokens"],o),e}function HA(n,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],we(n,o)),i}function GA(n,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],we(n,o)),i}function BA(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function zA(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function VA(n,e){const i={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const m=d(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const g=d(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=d(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const E=d(n,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=d(n,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const C=d(n,["outputMimeType"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","mimeType"],C);const x=d(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x);const M=d(n,["addWatermark"]);e!==void 0&&M!=null&&f(e,["parameters","addWatermark"],M);const O=d(n,["labels"]);e!==void 0&&O!=null&&f(e,["labels"],O);const H=d(n,["editMode"]);e!==void 0&&H!=null&&f(e,["parameters","editMode"],H);const k=d(n,["baseSteps"]);return e!==void 0&&k!=null&&f(e,["parameters","editConfig","baseSteps"],k),i}function FA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>$C(m))),f(i,["instances[0]","referenceImages"],h)}const c=d(e,["config"]);return c!=null&&VA(c,i),i}function JA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>qa(l))),f(e,["generatedImages"],a)}return e}function $A(n,e){const i={},o=d(n,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function YA(n,e){const i={},o=d(n,["taskType"]);e!==void 0&&o!=null&&f(e,["instances[]","task_type"],o);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=d(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),i}function jA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let h=jc(n,a);Array.isArray(h)&&(h=h.map(m=>m)),f(i,["requests[]","content"],h)}const l=d(e,["config"]);l!=null&&$A(l,i);const c=d(e,["model"]);return c!==void 0&&f(i,["requests[]","model"],we(n,c)),i}function KA(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let c=jc(n,a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&YA(l,i),i}function QA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function XA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>MA(c))),f(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function WA(n){const e={},i=d(n,["endpoint"]);i!=null&&f(e,["name"],i);const o=d(n,["deployedModelId"]);return o!=null&&f(e,["deployedModelId"],o),e}function ZA(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function eC(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const o=d(n,["args"]);o!=null&&f(e,["args"],o);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tC(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const o=d(n,["allowedFunctionNames"]);if(o!=null&&f(e,["allowedFunctionNames"],o),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nC(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const o=d(n,["name"]);o!=null&&f(e,["name"],o);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function iC(n,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],La(yt(a)));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const m=d(e,["candidateCount"]);m!=null&&f(o,["candidateCount"],m);const g=d(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&f(o,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&f(o,["presencePenalty"],A);const C=d(e,["frequencyPenalty"]);C!=null&&f(o,["frequencyPenalty"],C);const x=d(e,["seed"]);x!=null&&f(o,["seed"],x);const M=d(e,["responseMimeType"]);M!=null&&f(o,["responseMimeType"],M);const O=d(e,["responseSchema"]);O!=null&&f(o,["responseSchema"],Kc(O));const H=d(e,["responseJsonSchema"]);if(H!=null&&f(o,["responseJsonSchema"],H),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(i!==void 0&&k!=null){let pe=k;Array.isArray(pe)&&(pe=pe.map(Le=>YC(Le))),f(i,["safetySettings"],pe)}const F=d(e,["tools"]);if(i!==void 0&&F!=null){let pe=Os(F);Array.isArray(pe)&&(pe=pe.map(Le=>ew(Ps(Le)))),f(i,["tools"],pe)}const j=d(e,["toolConfig"]);if(i!==void 0&&j!=null&&f(i,["toolConfig"],ZC(j)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],In(n,Y));const J=d(e,["responseModalities"]);J!=null&&f(o,["responseModalities"],J);const le=d(e,["mediaResolution"]);le!=null&&f(o,["mediaResolution"],le);const X=d(e,["speechConfig"]);if(X!=null&&f(o,["speechConfig"],Qc(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=d(e,["thinkingConfig"]);he!=null&&f(o,["thinkingConfig"],he);const Re=d(e,["imageConfig"]);return Re!=null&&f(o,["imageConfig"],MC(Re)),o}function sC(n,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],yt(a));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const m=d(e,["candidateCount"]);m!=null&&f(o,["candidateCount"],m);const g=d(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&f(o,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&f(o,["presencePenalty"],A);const C=d(e,["frequencyPenalty"]);C!=null&&f(o,["frequencyPenalty"],C);const x=d(e,["seed"]);x!=null&&f(o,["seed"],x);const M=d(e,["responseMimeType"]);M!=null&&f(o,["responseMimeType"],M);const O=d(e,["responseSchema"]);O!=null&&f(o,["responseSchema"],Kc(O));const H=d(e,["responseJsonSchema"]);H!=null&&f(o,["responseJsonSchema"],H);const k=d(e,["routingConfig"]);k!=null&&f(o,["routingConfig"],k);const F=d(e,["modelSelectionConfig"]);F!=null&&f(o,["modelConfig"],F);const j=d(e,["safetySettings"]);if(i!==void 0&&j!=null){let q=j;Array.isArray(q)&&(q=q.map($=>$)),f(i,["safetySettings"],q)}const Y=d(e,["tools"]);if(i!==void 0&&Y!=null){let q=Os(Y);Array.isArray(q)&&(q=q.map($=>Yy(Ps($)))),f(i,["tools"],q)}const J=d(e,["toolConfig"]);i!==void 0&&J!=null&&f(i,["toolConfig"],J);const le=d(e,["labels"]);i!==void 0&&le!=null&&f(i,["labels"],le);const X=d(e,["cachedContent"]);i!==void 0&&X!=null&&f(i,["cachedContent"],In(n,X));const he=d(e,["responseModalities"]);he!=null&&f(o,["responseModalities"],he);const Re=d(e,["mediaResolution"]);Re!=null&&f(o,["mediaResolution"],Re);const pe=d(e,["speechConfig"]);pe!=null&&f(o,["speechConfig"],$y(Qc(pe)));const Le=d(e,["audioTimestamp"]);Le!=null&&f(o,["audioTimestamp"],Le);const pt=d(e,["thinkingConfig"]);pt!=null&&f(o,["thinkingConfig"],pt);const Je=d(e,["imageConfig"]);return Je!=null&&f(o,["imageConfig"],IC(Je)),o}function Ug(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let c=Xt(a);Array.isArray(c)&&(c=c.map(h=>La(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],iC(n,l,i)),i}function Pg(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["contents"]);if(a!=null){let c=Xt(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],sC(n,l,i)),i}function Og(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(g=>wA(g))),f(e,["candidates"],m)}const a=d(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Lg(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["candidates"],g)}const a=d(n,["createTime"]);a!=null&&f(e,["createTime"],a);const l=d(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=d(n,["responseId"]);h!=null&&f(e,["responseId"],h);const m=d(n,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function oC(n,e){const i={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(n,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=d(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const m=d(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&f(e,["parameters","includeSafetyAttributes"],m);const g=d(n,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=d(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=d(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=d(n,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function rC(n,e){const i={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const m=d(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const g=d(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=d(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const E=d(n,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=d(n,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const C=d(n,["outputMimeType"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","mimeType"],C);const x=d(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x);const M=d(n,["addWatermark"]);e!==void 0&&M!=null&&f(e,["parameters","addWatermark"],M);const O=d(n,["labels"]);e!==void 0&&O!=null&&f(e,["labels"],O);const H=d(n,["imageSize"]);e!==void 0&&H!=null&&f(e,["parameters","sampleImageSize"],H);const k=d(n,["enhancePrompt"]);return e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k),i}function aC(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&oC(l,i),i}function lC(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&rC(l,i),i}function uC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>EC(c))),f(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],Fy(a)),e}function cC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>qa(c))),f(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],Jy(a)),e}function dC(n,e){const i={},o=d(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(n,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const h=d(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=d(n,["negativePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","negativePrompt"],m);const g=d(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Ha(v));const _=d(n,["referenceImages"]);if(e!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(A=>hw(A))),f(e,["instances[0]","referenceImages"],E)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function fC(n,e){const i={},o=d(n,["numberOfVideos"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(n,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=d(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const m=d(n,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const g=d(n,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=d(n,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const E=d(n,["negativePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","negativePrompt"],E);const A=d(n,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const C=d(n,["generateAudio"]);e!==void 0&&C!=null&&f(e,["parameters","generateAudio"],C);const x=d(n,["lastFrame"]);e!==void 0&&x!=null&&f(e,["instances[0]","lastFrame"],on(x));const M=d(n,["referenceImages"]);if(e!==void 0&&M!=null){let k=M;Array.isArray(k)&&(k=k.map(F=>pw(F))),f(e,["instances[0]","referenceImages"],k)}const O=d(n,["mask"]);e!==void 0&&O!=null&&f(e,["instances[0]","mask"],fw(O));const H=d(n,["compressionQuality"]);return e!==void 0&&H!=null&&f(e,["parameters","compressionQuality"],H),i}function hC(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],yC(c)),e}function pC(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],vC(c)),e}function mC(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Ha(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],jy(c));const h=d(e,["source"]);h!=null&&_C(h,i);const m=d(e,["config"]);return m!=null&&dC(m,i),i}function gC(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],on(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],Ky(c));const h=d(e,["source"]);h!=null&&TC(h,i);const m=d(e,["config"]);return m!=null&&fC(m,i),i}function yC(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>bC(c))),f(e,["generatedVideos"],l)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function vC(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>AC(c))),f(e,["generatedVideos"],l)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function _C(n,e){const i={},o=d(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Ha(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],jy(l)),i}function TC(n,e){const i={},o=d(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],on(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],Ky(l)),i}function EC(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["image"],kC(i));const o=d(n,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const a=d(n,["_self"]);return a!=null&&f(e,["safetyAttributes"],Fy(a)),e}function qa(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["image"],Vy(i));const o=d(n,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const a=d(n,["_self"]);a!=null&&f(e,["safetyAttributes"],Jy(a));const l=d(n,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function SC(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["mask"],Vy(i));const o=d(n,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["labels"],a)}return e}function bC(n){const e={},i=d(n,["video"]);return i!=null&&f(e,["video"],cw(i)),e}function AC(n){const e={},i=d(n,["_self"]);return i!=null&&f(e,["video"],dw(i)),e}function CC(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const o=d(n,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const a=d(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const m=d(n,["logprobs"]);m!=null&&f(e,["logprobs"],m);const g=d(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=d(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=d(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const E=d(n,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const A=d(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const C=d(n,["responseModalities"]);C!=null&&f(e,["responseModalities"],C);const x=d(n,["responseSchema"]);x!=null&&f(e,["responseSchema"],x);const M=d(n,["routingConfig"]);M!=null&&f(e,["routingConfig"],M);const O=d(n,["seed"]);O!=null&&f(e,["seed"],O);const H=d(n,["speechConfig"]);H!=null&&f(e,["speechConfig"],$y(H));const k=d(n,["stopSequences"]);k!=null&&f(e,["stopSequences"],k);const F=d(n,["temperature"]);F!=null&&f(e,["temperature"],F);const j=d(n,["thinkingConfig"]);j!=null&&f(e,["thinkingConfig"],j);const Y=d(n,["topK"]);Y!=null&&f(e,["topK"],Y);const J=d(n,["topP"]);if(J!=null&&f(e,["topP"],J),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wC(n,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],we(n,o)),i}function xC(n,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],we(n,o)),i}function RC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function NC(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function MC(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(n,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function IC(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(n,["imageSize"]);o!=null&&f(e,["imageSize"],o);const a=d(n,["outputMimeType"]);a!=null&&f(e,["imageOutputOptions","mimeType"],a);const l=d(n,["outputCompressionQuality"]);return l!=null&&f(e,["imageOutputOptions","compressionQuality"],l),e}function kC(n){const e={},i=d(n,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],ai(i));const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Vy(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const o=d(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],ai(o));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Ha(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(n,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],ai(i));const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function on(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const o=d(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],ai(o));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function DC(n,e,i){const o={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],Py(n,h)),o}function UC(n,e,i){const o={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],Py(n,h)),o}function PC(n,e){const i={},o=d(e,["config"]);return o!=null&&DC(n,o,i),i}function OC(n,e){const i={},o=d(e,["config"]);return o!=null&&UC(n,o,i),i}function LC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["_self"]);if(a!=null){let l=Oy(a);Array.isArray(l)&&(l=l.map(c=>Ac(c))),f(e,["models"],l)}return e}function qC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["_self"]);if(a!=null){let l=Oy(a);Array.isArray(l)&&(l=l.map(c=>Cc(c))),f(e,["models"],l)}return e}function HC(n){const e={},i=d(n,["maskMode"]);i!=null&&f(e,["maskMode"],i);const o=d(n,["segmentationClasses"]);o!=null&&f(e,["maskClasses"],o);const a=d(n,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function Ac(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["displayName"]);o!=null&&f(e,["displayName"],o);const a=d(n,["description"]);a!=null&&f(e,["description"],a);const l=d(n,["version"]);l!=null&&f(e,["version"],l);const c=d(n,["_self"]);c!=null&&f(e,["tunedModelInfo"],tw(c));const h=d(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const m=d(n,["outputTokenLimit"]);m!=null&&f(e,["outputTokenLimit"],m);const g=d(n,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const v=d(n,["temperature"]);v!=null&&f(e,["temperature"],v);const _=d(n,["maxTemperature"]);_!=null&&f(e,["maxTemperature"],_);const E=d(n,["topP"]);E!=null&&f(e,["topP"],E);const A=d(n,["topK"]);A!=null&&f(e,["topK"],A);const C=d(n,["thinking"]);return C!=null&&f(e,["thinking"],C),e}function Cc(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["displayName"]);o!=null&&f(e,["displayName"],o);const a=d(n,["description"]);a!=null&&f(e,["description"],a);const l=d(n,["versionId"]);l!=null&&f(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>WA(E))),f(e,["endpoints"],_)}const h=d(n,["labels"]);h!=null&&f(e,["labels"],h);const m=d(n,["_self"]);m!=null&&f(e,["tunedModelInfo"],nw(m));const g=d(n,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=d(n,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["checkpoints"],_)}return e}function GC(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],ZA(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],eC(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const m=d(n,["inlineData"]);m!=null&&f(e,["inlineData"],CA(m));const g=d(n,["text"]);g!=null&&f(e,["text"],g);const v=d(n,["thought"]);v!=null&&f(e,["thought"],v);const _=d(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(n,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function BC(n){const e={},i=d(n,["productImage"]);return i!=null&&f(e,["image"],on(i)),e}function zC(n,e){const i={},o=d(n,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=d(n,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const m=d(n,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const g=d(n,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const v=d(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const _=d(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_);const E=d(n,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const A=d(n,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),i}function VC(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["source"]);a!=null&&JC(a,i);const l=d(e,["config"]);return l!=null&&zC(l,i),i}function FC(n){const e={},i=d(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>qa(a))),f(e,["generatedImages"],o)}return e}function JC(n,e){const i={},o=d(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(n,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],on(a));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>BC(h))),f(e,["instances[0]","productImages"],c)}return i}function $C(n){const e={},i=d(n,["referenceImage"]);i!=null&&f(e,["referenceImage"],on(i));const o=d(n,["referenceId"]);o!=null&&f(e,["referenceId"],o);const a=d(n,["referenceType"]);a!=null&&f(e,["referenceType"],a);const l=d(n,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],HC(l));const c=d(n,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],kA(c));const h=d(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const m=d(n,["subjectImageConfig"]);return m!=null&&f(e,["subjectImageConfig"],m),e}function Fy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const o=d(n,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const a=d(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function Jy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const o=d(n,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const a=d(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function YC(n){const e={},i=d(n,["category"]);if(i!=null&&f(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(n,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function jC(n){const e={},i=d(n,["image"]);return i!=null&&f(e,["image"],on(i)),e}function KC(n,e){const i={},o=d(n,["mode"]);e!==void 0&&o!=null&&f(e,["parameters","mode"],o);const a=d(n,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const h=d(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const m=d(n,["labels"]);return e!==void 0&&m!=null&&f(e,["labels"],m),i}function QC(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["source"]);a!=null&&WC(a,i);const l=d(e,["config"]);return l!=null&&KC(l,i),i}function XC(n){const e={},i=d(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>SC(a))),f(e,["generatedMasks"],o)}return e}function WC(n,e){const i={},o=d(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],on(a));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],jC(l)),i}function $y(n){const e={},i=d(n,["languageCode"]);i!=null&&f(e,["languageCode"],i);const o=d(n,["voiceConfig"]);if(o!=null&&f(e,["voiceConfig"],o),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ZC(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],tC(i));const o=d(n,["retrievalConfig"]);return o!=null&&f(e,["retrievalConfig"],o),e}function ew(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],RC(h));const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],NC(m));const g=d(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function Yy(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>nC(E))),f(e,["functionDeclarations"],_)}const o=d(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const m=d(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],m);const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=d(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function tw(n){const e={},i=d(n,["baseModel"]);i!=null&&f(e,["baseModel"],i);const o=d(n,["createTime"]);o!=null&&f(e,["createTime"],o);const a=d(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function nw(n){const e={},i=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const o=d(n,["createTime"]);o!=null&&f(e,["createTime"],o);const a=d(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function iw(n,e){const i={},o=d(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=d(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function sw(n,e){const i={},o=d(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=d(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function ow(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","name"],we(n,o));const a=d(e,["config"]);return a!=null&&iw(a,i),i}function rw(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["config"]);return a!=null&&sw(a,i),i}function aw(n,e){const i={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=d(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const l=d(n,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const h=d(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const m=d(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m);const g=d(n,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=d(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=d(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const E=d(n,["numberOfImages"]);e!==void 0&&E!=null&&f(e,["parameters","sampleCount"],E);const A=d(n,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),i}function lw(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],we(n,o));const a=d(e,["image"]);a!=null&&f(i,["instances[0]","image"],on(a));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&aw(c,i),i}function uw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>qa(l))),f(e,["generatedImages"],a)}return e}function cw(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const o=d(n,["encodedVideo"]);o!=null&&f(e,["videoBytes"],ai(o));const a=d(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function dw(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const o=d(n,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],ai(o));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function fw(n){const e={},i=d(n,["image"]);i!=null&&f(e,["_self"],on(i));const o=d(n,["maskMode"]);return o!=null&&f(e,["maskMode"],o),e}function hw(n){const e={},i=d(n,["image"]);i!=null&&f(e,["image"],Ha(i));const o=d(n,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function pw(n){const e={},i=d(n,["image"]);i!=null&&f(e,["image"],on(i));const o=d(n,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function jy(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const o=d(n,["videoBytes"]);o!=null&&f(e,["encodedVideo"],ai(o));const a=d(n,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function Ky(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["gcsUri"],i);const o=d(n,["videoBytes"]);o!=null&&f(e,["bytesBase64Encoded"],ai(o));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mw="Content-Type",gw="X-Server-Timeout",yw="User-Agent",wc="x-goog-api-client",vw="1.30.0",_w=`google-genai-sdk/${vw}`,Tw="v1beta1",Ew="v1beta",qg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Sw{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Tw,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Ew,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))a.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?o[a]=Object.assign(Object.assign({},o[a]),l):l!==void 0&&(o[a]=l);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&bw(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await Hg(a),new Ec(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await Hg(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return Is(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:m}=yield ze(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=l.decode(m,{stream:!0});try{const _=JSON.parse(g);if("error"in _){const E=JSON.parse(JSON.stringify(_.error)),A=E.status,C=E.code,x=`got status: ${A}. ${JSON.stringify(_)}`;if(C>=400&&C<600)throw new Oa({message:x,status:C})}}catch(_){if(_.name==="ApiError")throw _}c+=g;let v=c.match(qg);for(;v;){const _=v[1];try{const E=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ze(new Ec(E)),c=c.slice(v[0].length),v=c.match(qg)}catch(E){throw new Error(`exception parsing stream chunk ${_}. ${E}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=_w+" "+this.clientOptions.userAgentExtra;return e[yw]=i,e[wc]=i,e[mw]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))o.append(a,l);e.timeout&&e.timeout>0&&o.append(gw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const m={file:a},g=this.getFileName(e),v=Q("upload/v1beta/files",m._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,g,m,i==null?void 0:i.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,o){var a;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),m=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),_={};o!=null&&o.customMetadata&&(_.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(_.chunkingConfig=o.chunkingConfig);const E=await this.fetchUploadUrl(g,h,m,v,_,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,a,l,c){var h;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const g=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:m});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Hg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new Oa({message:a,status:i}):new Error(a)}}function bw(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,c){const h=Object.assign({},l);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const g=c[m],v=h[m];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[m]=o(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[m]=g)}return h}const a=o(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aw="mcp_used/unknown";let Cw=!1;function Qy(n){for(const e of n)if(ww(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Cw}function Xy(n){var e;const i=(e=n[wc])!==null&&e!==void 0?e:"";n[wc]=(i+` ${Aw}`).trimStart()}function ww(n){return n!==null&&typeof n=="object"&&n instanceof Wc}function xw(n,e=100){return Is(this,arguments,function*(){let o,a=0;for(;a<e;){const l=yield ze(n.listTools({cursor:o}));for(const c of l.tools)yield yield ze(c),a++;if(!l.nextCursor)break;o=l.nextCursor}})}class Wc{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Wc(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var h=!0,m=(i=void 0,Go(xw(v))),g;g=await m.next(),e=g.done,!e;h=!0){a=g.value,h=!1;const _=a;c.push(_);const E=_.name;if(l[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);l[E]=v}}catch(_){i={error:_}}finally{try{!h&&!e&&(o=m.return)&&await o.call(m)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),_S(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:o.name,arguments:o.args},void 0,l);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rw(n,e,i){const o=new dS;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(o,a),e(o)}class Nw{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=kw(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),m=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(k=>{g=k}),_=e.callbacks,E=function(){g({})},A=this.apiClient,C={onopen:E,onmessage:k=>{Rw(A,_.onmessage,k)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(k){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(k){}},x=this.webSocketFactory.create(m,Iw(c),C);x.connect(),await v;const H={setup:{model:we(this.apiClient,e.model)}};return x.send(JSON.stringify(H)),new Mw(x,this.apiClient)}}class Mw{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=gA(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=mA(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Ns.PLAY)}pause(){this.sendPlaybackControl(Ns.PAUSE)}stop(){this.sendPlaybackControl(Ns.STOP)}resetContext(){this.sendPlaybackControl(Ns.RESET_CONTEXT)}close(){this.conn.close()}}function Iw(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function kw(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Uw(n,e,i){const o=new cS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(n.isVertexAI()){const c=_A(l);Object.assign(o,c)}else Object.assign(o,l);e(o)}class Pw{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new Nw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Qy(e.config.tools)&&Xy(_);const E=Hw(_);if(this.apiClient.isVertexAI())v=`${m}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const X=this.apiClient.getApiKey();let he="BidiGenerateContent",Re="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",Re="access_token"),v=`${m}/ws/google.ai.generativelanguage.${g}.GenerativeService.${he}?${Re}=${X}`}let A=()=>{};const C=new Promise(X=>{A=X}),x=e.callbacks,M=function(){var X;(X=x==null?void 0:x.onopen)===null||X===void 0||X.call(x),A({})},O=this.apiClient,H={onopen:M,onmessage:X=>{Uw(O,x.onmessage,X)},onerror:(i=x==null?void 0:x.onerror)!==null&&i!==void 0?i:function(X){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(X){}},k=this.webSocketFactory.create(v,qw(E),H);k.connect(),await C;let F=we(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const X=this.apiClient.getProject(),he=this.apiClient.getLocation();F=`projects/${X}/locations/${he}/`+F}let j={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ca.AUDIO]}:e.config.responseModalities=[Ca.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],J=[];for(const X of Y)if(this.isCallableTool(X)){const he=X;J.push(await he.tool())}else J.push(X);J.length>0&&(e.config.tools=J);const le={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=pA(this.apiClient,le):j=hA(this.apiClient,le),delete j.config,k.send(JSON.stringify(j)),new Lw(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ow={turnComplete:!0};class Lw{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Xt(i.turns),e.isVertexAI()||(o=o.map(a=>La(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(Dw)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Ow),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:vA(e)}:i={realtimeInput:yA(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function qw(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function Hw(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=10;function Bg(n){var e,i,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(ks(c)){a=!0;break}if(!a)return!0;const l=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function ks(n){return"callTool"in n&&typeof n.callTool=="function"}function Gw(n){var e,i,o;return(o=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>ks(a)))!==null&&o!==void 0?o:!1}function zg(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,a)=>{if(ks(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function Vg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bw extends Mn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,l,c,h;const m=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Gw(i)||Bg(i.config))return await this.generateContentInternal(m);const g=zg(i);if(g.length>0){const x=g.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let v,_;const E=Xt(m.contents),A=(l=(a=(o=m.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:Gg;let C=0;for(;C<A&&(v=await this.generateContentInternal(m),!(!v.functionCalls||v.functionCalls.length===0));){const x=v.candidates[0].content,M=[];for(const O of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(ks(O)){const k=await O.callTool(v.functionCalls);M.push(...k)}C++,_={role:"user",parts:M},m.contents=Xt(m.contents),m.contents.push(x),m.contents.push(_),Vg(m.config)&&(E.push(x),E.push(_))}return Vg(m.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async i=>{var o,a,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),Bg(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const m=zg(i);if(m.length>0){const _=m.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(l=(a=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let l;const c=[];if(o!=null&&o.generatedImages)for(const m of o.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((a=m==null?void 0:m.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:c.push(m);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Pi(Nn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var o,a,l,c,h,m;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((m=(h=i.source)===null||h===void 0?void 0:h.video)===null||m===void 0)&&m.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async m=>ks(m)?await m.tool():m)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&Qy(e.config.tools)){const m=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let g=Object.assign({},m);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Xy(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var i,o,a;const l=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(ks(c)){const h=c,m=await h.tool();for(const g of(a=m.functionDeclarations)!==null&&a!==void 0?a:[]){if(!g.name)throw new Error("Function declaration name is required.");if(l.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);l.set(g.name,h)}}return l}async processAfcStream(e){var i,o,a;const l=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:Gg;let c=!1,h=0;const m=await this.initAfcToolsMap(e);return(function(g,v,_){var E,A;return Is(this,arguments,function*(){for(var C,x,M,O;h<l;){c&&(h++,c=!1);const j=yield ze(g.processParamsMaybeAddMcpUsage(_)),Y=yield ze(g.generateContentStreamInternal(j)),J=[],le=[];try{for(var H=!0,k=(x=void 0,Go(Y)),F;F=yield ze(k.next()),C=F.done,!C;H=!0){O=F.value,H=!1;const X=O;if(yield yield ze(X),X.candidates&&(!((E=X.candidates[0])===null||E===void 0)&&E.content)){le.push(X.candidates[0].content);for(const he of(A=X.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(h<l&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(he.functionCall.name)){const Re=yield ze(v.get(he.functionCall.name).callTool([he.functionCall]));J.push(...Re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(X){x={error:X}}finally{try{!H&&!C&&(M=k.return)&&(yield ze(M.call(k)))}finally{if(x)throw x.error}}if(J.length>0){c=!0;const X=new Lo;X.candidates=[{content:{role:"user",parts:J}}],yield yield ze(X);const he=[];he.push(...le),he.push({role:"user",parts:J});const Re=Xt(_.contents).concat(he);_.contents=Re}else break}})})(this,m,e)}async generateContentInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=Pg(this.apiClient,e);return h=Q("{model}:generateContent",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Lg(v),E=new Lo;return Object.assign(E,_),E})}else{const g=Ug(this.apiClient,e);return h=Q("{model}:generateContent",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Og(v),E=new Lo;return Object.assign(E,_),E})}}async generateContentStreamInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=Pg(this.apiClient,e);return h=Q("{model}:streamGenerateContent?alt=sse",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(_){return Is(this,arguments,function*(){var E,A,C,x;try{for(var M=!0,O=Go(_),H;H=yield ze(O.next()),E=H.done,!E;M=!0){x=H.value,M=!1;const k=x,F=Lg(yield ze(k.json()));F.sdkHttpResponse={headers:k.headers};const j=new Lo;Object.assign(j,F),yield yield ze(j)}}catch(k){A={error:k}}finally{try{!M&&!E&&(C=O.return)&&(yield ze(C.call(O)))}finally{if(A)throw A.error}}})})}else{const g=Ug(this.apiClient,e);return h=Q("{model}:streamGenerateContent?alt=sse",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return Is(this,arguments,function*(){var E,A,C,x;try{for(var M=!0,O=Go(_),H;H=yield ze(O.next()),E=H.done,!E;M=!0){x=H.value,M=!1;const k=x,F=Og(yield ze(k.json()));F.sdkHttpResponse={headers:k.headers};const j=new Lo;Object.assign(j,F),yield yield ze(j)}}catch(k){A={error:k}}finally{try{!M&&!E&&(C=O.return)&&(yield ze(C.call(O)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=KA(this.apiClient,e);return h=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=XA(v),E=new vg;return Object.assign(E,_),E})}else{const g=jA(this.apiClient,e);return h=Q("{model}:batchEmbedContents",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=QA(v),E=new vg;return Object.assign(E,_),E})}}async generateImagesInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=lC(this.apiClient,e);return h=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=cC(v),E=new _g;return Object.assign(E,_),E})}else{const g=aC(this.apiClient,e);return h=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=uC(v),E=new _g;return Object.assign(E,_),E})}}async editImageInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=FA(this.apiClient,e);return l=Q("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>{const g=JA(m),v=new ZE;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=lw(this.apiClient,e);return l=Q("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>{const g=uw(m),v=new eS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=VC(this.apiClient,e);return l=Q("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=FC(m),v=new tS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=QC(this.apiClient,e);return l=Q("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=XC(m),v=new nS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=xC(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>Cc(v))}else{const g=wC(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Ac(v))}}async listInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=OC(this.apiClient,e);return h=Q("{models_url}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=qC(v),E=new Tg;return Object.assign(E,_),E})}else{const g=PC(this.apiClient,e);return h=Q("{models_url}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=LC(v),E=new Tg;return Object.assign(E,_),E})}}async update(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=rw(this.apiClient,e);return h=Q("{model}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>Cc(v))}else{const g=ow(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Ac(v))}}async delete(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=GA(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=zA(v),E=new Eg;return Object.assign(E,_),E})}else{const g=HA(this.apiClient,e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=BA(v),E=new Eg;return Object.assign(E,_),E})}}async countTokens(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=OA(this.apiClient,e);return h=Q("{model}:countTokens",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=qA(v),E=new Sg;return Object.assign(E,_),E})}else{const g=PA(this.apiClient,e);return h=Q("{model}:countTokens",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=LA(v),E=new Sg;return Object.assign(E,_),E})}}async computeTokens(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=RA(this.apiClient,e);return l=Q("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>{const g=NA(m),v=new iS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=gC(this.apiClient,e);return h=Q("{model}:predictLongRunning",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>{const _=pC(v),E=new wa;return Object.assign(E,_),E})}else{const g=mC(this.apiClient,e);return h=Q("{model}:predictLongRunning",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const _=hC(v),E=new wa;return Object.assign(E,_),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zw extends Mn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=YE(e);return h=Q("{operationName}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c}else{const g=$E(e);return h=Q("{operationName}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=HE(e);return l=Q("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vw(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Fw(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Zw(l))),f(e,["parts"],a)}const o=d(n,["role"]);return o!=null&&f(e,["role"],o),e}function Jw(n,e,i){const o={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],Ww(n,h));const m=d(e,["lockAdditionalFields"]);return i!==void 0&&m!=null&&f(i,["fieldMask"],m),o}function $w(n,e){const i={},o=d(e,["config"]);return o!=null&&f(i,["config"],Jw(n,o,i)),i}function Yw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function jw(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const o=d(n,["args"]);o!=null&&f(e,["args"],o);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kw(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Qw(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Xw(n,e){const i={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const m=d(n,["maxOutputTokens"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","maxOutputTokens"],m);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Xc(_));const E=d(n,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=d(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],Fw(yt(C)));const x=d(n,["tools"]);if(e!==void 0&&x!=null){let Y=Os(x);Array.isArray(Y)&&(Y=Y.map(J=>tx(Ps(J)))),f(e,["setup","tools"],Y)}const M=d(n,["sessionResumption"]);e!==void 0&&M!=null&&f(e,["setup","sessionResumption"],ex(M));const O=d(n,["inputAudioTranscription"]);e!==void 0&&O!=null&&f(e,["setup","inputAudioTranscription"],O);const H=d(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","outputAudioTranscription"],H);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const F=d(n,["contextWindowCompression"]);e!==void 0&&F!=null&&f(e,["setup","contextWindowCompression"],F);const j=d(n,["proactivity"]);return e!==void 0&&j!=null&&f(e,["setup","proactivity"],j),i}function Ww(n,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],we(n,o));const a=d(e,["config"]);return a!=null&&f(i,["config"],Xw(a,i)),i}function Zw(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],Yw(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],jw(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const m=d(n,["inlineData"]);m!=null&&f(e,["inlineData"],Vw(m));const g=d(n,["text"]);g!=null&&f(e,["text"],g);const v=d(n,["thought"]);v!=null&&f(e,["thought"],v);const _=d(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(n,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function ex(n){const e={},i=d(n,["handle"]);if(i!=null&&f(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tx(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],Kw(h));const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],Qw(m));const g=d(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nx(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function ix(n,e){let i=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,i=l):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const l=nx(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(g=>c.includes(g)?`generationConfig.${g}`:g));const m=[];l&&m.push(l),h.length>0&&m.push(...h),m.length>0?n.fieldMask=m.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class sx extends Mn{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=$w(this.apiClient,e);l=Q("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const m=ix(h,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ox(n,e){const i={},o=d(n,["displayName"]);return e!==void 0&&o!=null&&f(e,["displayName"],o),i}function rx(n){const e={},i=d(n,["config"]);return i!=null&&ox(i,e),e}function ax(n,e){const i={},o=d(n,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function lx(n){const e={},i=d(n,["name"]);i!=null&&f(e,["_url","name"],i);const o=d(n,["config"]);return o!=null&&ax(o,e),e}function ux(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function cx(n,e){const i={},o=d(n,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const a=d(n,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function dx(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const o=d(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],hx(c)),e}function fx(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=d(n,["fileName"]);o!=null&&f(e,["fileName"],o);const a=d(n,["config"]);return a!=null&&cx(a,e),e}function hx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["parent"]);o!=null&&f(e,["parent"],o);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function px(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function mx(n){const e={},i=d(n,["config"]);return i!=null&&px(i,e),e}function gx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function yx(n,e){const i={},o=d(n,["mimeType"]);e!==void 0&&o!=null&&f(e,["mimeType"],o);const a=d(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(n,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["customMetadata"],h)}const c=d(n,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function vx(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=d(n,["config"]);return o!=null&&yx(o,e),e}function _x(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tx(n,e){const i={},o=d(n,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function Ex(n){const e={},i=d(n,["name"]);i!=null&&f(e,["_url","name"],i);const o=d(n,["config"]);return o!=null&&Tx(o,e),e}function Sx(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function bx(n,e){const i={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Ax(n){const e={},i=d(n,["parent"]);i!=null&&f(e,["_url","parent"],i);const o=d(n,["config"]);return o!=null&&bx(o,e),e}function Cx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(n,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wx extends Mn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Pi(Nn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Sx(e);return l=Q("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,o;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ex(e);a=Q("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ax(e);return l=Q("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=Cx(m),v=new sS;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xx extends Mn{constructor(e,i=new wx(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new Pi(Nn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rx(e);return l=Q("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ux(e);return l=Q("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,o;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lx(e);a=Q("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=mx(e);return l=Q("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=gx(m),v=new oS;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vx(e);return l=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=_x(m),v=new rS;return Object.assign(v,g),v})}}async importFile(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fx(e);return l=Q("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const g=dx(m),v=new $c;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rx(n,e){const i={},o=d(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function Nx(n,e){const i={},o=d(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function Mx(n,e,i){const o={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const m=d(n,["learningRate"]);if(e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","learningRate"],m),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function Ix(n,e,i){const o={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const A=d(n,["validationDataset"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec"],Fg(A))}else if(a==="PREFERENCE_TUNING"){const A=d(n,["validationDataset"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec"],Fg(A))}const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=d(n,["epochCount"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(h==="PREFERENCE_TUNING"){const A=d(n,["epochCount"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=d(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(m==="PREFERENCE_TUNING"){const A=d(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=d(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=d(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=d(n,["adapterSize"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=d(n,["adapterSize"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const E=d(n,["beta"]);return e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),o}function kx(n,e){const i={},o=d(n,["baseModel"]);o!=null&&f(i,["baseModel"],o);const a=d(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&Vx(l);const c=d(n,["config"]);return c!=null&&Mx(c,i),i}function Dx(n,e){const i={},o=d(n,["baseModel"]);o!=null&&f(i,["baseModel"],o);const a=d(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&Fx(l,i,e);const c=d(n,["config"]);return c!=null&&Ix(c,i,e),i}function Ux(n,e){const i={},o=d(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function Px(n,e){const i={},o=d(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function Ox(n,e,i){const o={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function Lx(n,e,i){const o={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function qx(n,e){const i={},o=d(n,["config"]);return o!=null&&Ox(o,i),i}function Hx(n,e){const i={},o=d(n,["config"]);return o!=null&&Lx(o,i),i}function Gx(n,e){const i={},o=d(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Wy(h))),f(i,["tuningJobs"],c)}return i}function Bx(n,e){const i={},o=d(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>xc(h))),f(i,["tuningJobs"],c)}return i}function zx(n,e){const i={},o=d(n,["name"]);o!=null&&f(i,["model"],o);const a=d(n,["name"]);return a!=null&&f(i,["endpoint"],a),i}function Vx(n,e){const i={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(i,["examples","examples"],a)}return i}function Fx(n,e,i){const o={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Wy(n,e){const i={},o=d(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["state"]);l!=null&&f(i,["state"],Dy(l));const c=d(n,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(n,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const m=d(n,["tuningTask","completeTime"]);m!=null&&f(i,["endTime"],m);const g=d(n,["updateTime"]);g!=null&&f(i,["updateTime"],g);const v=d(n,["description"]);v!=null&&f(i,["description"],v);const _=d(n,["baseModel"]);_!=null&&f(i,["baseModel"],_);const E=d(n,["_self"]);return E!=null&&f(i,["tunedModel"],zx(E)),i}function xc(n,e){const i={},o=d(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["state"]);l!=null&&f(i,["state"],Dy(l));const c=d(n,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(n,["startTime"]);h!=null&&f(i,["startTime"],h);const m=d(n,["endTime"]);m!=null&&f(i,["endTime"],m);const g=d(n,["updateTime"]);g!=null&&f(i,["updateTime"],g);const v=d(n,["error"]);v!=null&&f(i,["error"],v);const _=d(n,["description"]);_!=null&&f(i,["description"],_);const E=d(n,["baseModel"]);E!=null&&f(i,["baseModel"],E);const A=d(n,["tunedModel"]);A!=null&&f(i,["tunedModel"],A);const C=d(n,["preTunedModel"]);C!=null&&f(i,["preTunedModel"],C);const x=d(n,["supervisedTuningSpec"]);x!=null&&f(i,["supervisedTuningSpec"],x);const M=d(n,["preferenceOptimizationSpec"]);M!=null&&f(i,["preferenceOptimizationSpec"],M);const O=d(n,["tuningDataStats"]);O!=null&&f(i,["tuningDataStats"],O);const H=d(n,["encryptionSpec"]);H!=null&&f(i,["encryptionSpec"],H);const k=d(n,["partnerModelTuningSpec"]);k!=null&&f(i,["partnerModelTuningSpec"],k);const F=d(n,["customBaseModel"]);F!=null&&f(i,["customBaseModel"],F);const j=d(n,["experiment"]);j!=null&&f(i,["experiment"],j);const Y=d(n,["labels"]);Y!=null&&f(i,["labels"],Y);const J=d(n,["outputUri"]);J!=null&&f(i,["outputUri"],J);const le=d(n,["pipelineJob"]);le!=null&&f(i,["pipelineJob"],le);const X=d(n,["serviceAccount"]);X!=null&&f(i,["serviceAccount"],X);const he=d(n,["tunedModelDisplayName"]);he!=null&&f(i,["tunedModelDisplayName"],he);const Re=d(n,["veoTuningSpec"]);return Re!=null&&f(i,["veoTuningSpec"],Re),i}function Jx(n,e){const i={},o=d(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(n,["done"]);c!=null&&f(i,["done"],c);const h=d(n,["error"]);return h!=null&&f(i,["error"],h),i}function Fg(n,e){const i={},o=d(n,["gcsUri"]);o!=null&&f(i,["validationDatasetUri"],o);const a=d(n,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $x extends Mn{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Pi(Nn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Tc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=Px(e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>xc(v))}else{const g=Ux(e);return h=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>Wy(v))}}async listInternal(e){var i,o,a,l;let c,h="",m={};if(this.apiClient.isVertexAI()){const g=Hx(e);return h=Q("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Bx(v),E=new bg;return Object.assign(E,_),E})}else{const g=qx(e);return h=Q("tunedModels",g._url),m=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Gx(v),E=new bg;return Object.assign(E,_),E})}}async cancel(e){var i,o,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const m=Nx(e);c=Q("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const m=Rx(e);c=Q("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Dx(e,e);return l=Q("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>xc(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kx(e);return l=Q("tunedModels",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),a.then(m=>Jx(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yx{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jx=1024*1024*8,Kx=3,Qx=1e3,Xx=2,Ra="x-goog-upload-status";async function Wx(n,e,i){var o;const a=await Zy(n,e,i),l=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ra])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function Zx(n,e,i){var o;const a=await Zy(n,e,i),l=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ra])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=xy(l),h=new Yc;return Object.assign(h,c),h}async function Zy(n,e,i){var o,a;let l=0,c=0,h=new Ec(new Response),m="upload";for(l=n.size;c<l;){const g=Math.min(jx,l-c),v=n.slice(c,c+g);c+g>=l&&(m+=", finalize");let _=0,E=Qx;for(;_<Kx&&(h=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(g)}}}),!(!((o=h==null?void 0:h.headers)===null||o===void 0)&&o[Ra]));)_++,await tR(E),E=E*Xx;if(c+=g,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[Ra])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function eR(n){return{size:n.size,type:n.type}}function tR(n){return new Promise(e=>setTimeout(e,n))}class nR{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wx(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zx(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iR{create(e,i,o){return new sR(e,i,o)}}class sR{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg="x-goog-api-key";class oR{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Jg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Jg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rR="gl-node/";class aR{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=LE(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new oR(this.apiKey);this.apiClient=new Sw({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:rR+"web",uploader:new nR,downloader:new Yx}),this.models=new Bw(this.apiClient),this.live=new Pw(this.apiClient,a,new iR),this.batches=new fb(this.apiClient),this.chats=new Yb(this.models,this.apiClient),this.caches=new Fb(this.apiClient),this.files=new iA(this.apiClient),this.operations=new zw(this.apiClient),this.authTokens=new sx(this.apiClient),this.tunings=new $x(this.apiClient),this.fileSearchStores=new xx(this.apiClient)}}const Oi=()=>{const n="AIzaSyBUzSrrM4pa8eKAWyhOjTBfM_j8hlKK0VY";return new aR({apiKey:n})},lR=async()=>{const n=Oi(),e="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Gandhi_spinning.jpg/640px-Gandhi_spinning.jpg";if(!n)return{headline:"MAHATMA ARRESTED.",date:"SATURDAY, MARCH 11, 1922",content:"GREAT EXCITEMENT PREVAILS. Mahatma Gandhi was arrested at the Sabarmati Ashram on the charge of sedition. He made no resistance and asked the people to preserve perfect peace. The arrest was made by Mr. Healey, the Superintendent of Police, at 10:30 PM.",weather:"Tense Atmosphere",imageUrl:e};const i=`
    You are the editor of a 1920s mystical newspaper called "Timension".
    Generate a front-page headline and a short story (approx 60 words) focused on a key event in the Indian Independence movement during the 1920s (e.g., Non-Cooperation Movement, Chauri Chaura incident, Simon Commission protests).
    The date should be historically accurate for the event chosen.
    Also provide a "Weather of Time" forecast (e.g., "Winds of Swaraj, 32C").
    
    IMPORTANT: 
    - Headline must be punchy, uppercase, and dramatic (e.g., "NATION WAKES UP").
    - Content should sound like a British-Indian dispatch from the era.
  `;try{const a=(await n.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:ge.OBJECT,properties:{headline:{type:ge.STRING},date:{type:ge.STRING},content:{type:ge.STRING},weather:{type:ge.STRING}},required:["headline","date","content","weather"]}}})).text;if(!a)return null;const l=JSON.parse(a);return l.imageUrl=e,l}catch(o){return console.error("Error generating headline:",o),{headline:"MAHATMA ARRESTED.",date:"SATURDAY, MARCH 11, 1922",content:"GREAT EXCITEMENT PREVAILS. Mahatma Gandhi was arrested at the Sabarmati Ashram on the charge of sedition. He made no resistance and asked the people to preserve perfect peace. The arrest was made by Mr. Healey, the Superintendent of Police, at 10:30 PM.",weather:"Tense Atmosphere",imageUrl:e}}},uR=async(n,e,i,o)=>{const a=Oi();if(!a)return"The mentor is currently unavailable.";const l=i.map(h=>`${h.sender==="user"?"Student":n}: ${h.text}`).join(`
`),c=`
    System: You are roleplaying as ${n} from ${e}.
    You are speaking to a student from the future via a magical newspaper interface.
    Keep your responses concise (under 100 words), wise, and in character.
    Do not break character.
    
    Conversation History:
    ${l}
    
    Student: ${o}
    
    ${n}:
  `;try{return(await a.models.generateContent({model:"gemini-2.5-flash",contents:c})).text||"..."}catch(h){return console.error("Chat error:",h),"The ink is smudged... I cannot hear you clearly."}},cR=async n=>{var o,a,l;const e=Oi();if(!e)return null;const i=`
    Describe the historical significance of "${n}". 
    Focus on a specific era if mentioned, or its general historical importance.
    Write in the style of a vintage travel guide entry.
    Keep it under 100 words.
  `;try{const c=await e.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{tools:[{googleMaps:{}}]}}),h=c.text||"The archives are silent on this location.",m=(l=(a=(o=c.candidates)==null?void 0:o[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;let g;if(m&&m.length>0){const v=m.find(_=>_.maps);v&&v.maps&&(g={title:v.maps.title,uri:v.maps.uri})}return{text:h,location:g}}catch(c){return console.error("Map exploration error:",c),{text:"The compass spins wildly... connection lost.",location:void 0}}},dR=async n=>{const e=Oi(),i=[{year:"1920",title:"Dawn of Movement",description:"The call for Non-Cooperation echoes across the land."},{year:"1922",title:"Chauri Chaura",description:"A tragic turn leads Gandhi to withdraw the movement."},{year:"1930",title:"Salt March",description:"A pinch of salt shakes the foundations of an empire."}];if(!e)return i;const o=`
    Generate a historical timeline for the topic: "${n}".
    Provide 4-6 key events sorted chronologically.
    Format strictly as a JSON array of objects with properties: 'year', 'title', 'description'.
    Keep titles punchy (newspaper style) and descriptions under 15 words.
  `;try{const l=(await e.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:ge.ARRAY,items:{type:ge.OBJECT,properties:{year:{type:ge.STRING},title:{type:ge.STRING},description:{type:ge.STRING}},required:["year","title","description"]}}}})).text;return l?JSON.parse(l):i}catch(a){return console.error("Timeline error:",a),i}},fR=async(n,e)=>{const i=Oi(),o={codename:"OPERATION CHRONOS",objective:"Observe the event without disrupting the timeline. Record key dialogue.",disguise:"Period-appropriate tunic or merchant robes.",passphrase:"The owl flies at midnight."};if(!i)return o;const a=`
    Generate a secret time-travel mission dossier for the event: "${e}" in the year ${n}.
    The tone should be like a 1920s secret agent telegram.
    
    Return valid JSON with these fields:
    - codename: A cool 1-2 word operation name (e.g. OPERATION SANDSTORM)
    - objective: A 15-word specific mission goal.
    - disguise: Specific clothing recommendation to blend in.
    - passphrase: A short secret phrase to use with contacts.
  `;try{const c=(await i.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:{type:ge.OBJECT,properties:{codename:{type:ge.STRING},objective:{type:ge.STRING},disguise:{type:ge.STRING},passphrase:{type:ge.STRING}},required:["codename","objective","disguise","passphrase"]}}})).text;return c?JSON.parse(c):o}catch(l){return console.error("Mission generation error:",l),o}},hR=async(n,e)=>{const i=Oi();if(!i)return{consequence:"The timeline shudders. Your words have slightly altered the mood of the era.",stabilityChange:-5,futureHeadline:"Small Shifts Detected in Archives"};const o=`
    You are the "Time Ripple Engine". A time traveler just changed a speech bubble in a history comic.
    
    Original Dialogue: "${n}"
    User's New Dialogue: "${e}"
    
    Analyze the potential "Butterfly Effect" of this change. 
    If the user says something modern or wildly incorrect, the stability drops more.
    If the user fits the era but changes the sentiment, stability drops slightly.
    
    Return JSON:
    - consequence: A 1-sentence description of how history shifts (e.g. "The librarian now trusts you, handing over the key early.").
    - stabilityChange: A negative integer between -5 (minor) and -50 (major paradox).
    - futureHeadline: A newspaper headline from the "new" future.
  `;try{const l=(await i.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:ge.OBJECT,properties:{consequence:{type:ge.STRING},stabilityChange:{type:ge.INTEGER},futureHeadline:{type:ge.STRING}},required:["consequence","stabilityChange","futureHeadline"]}}})).text;if(!l)throw new Error("No response");return JSON.parse(l)}catch(a){return console.error("Ripple engine failed",a),{consequence:"Temporal interference prevented calculation.",stabilityChange:-10,futureHeadline:"Static on the Timeline"}}},pR=async()=>{const n=Oi(),e=[{id:"chaos-1",headline:"NIKOLA TESLA ELECTRIFIES THE PYRAMIDS!",scenario:"Citizens of Ancient Egypt are confused as a mustachioed man installs a Wardenclyffe Tower atop the Great Sphinx.",misplacedFigure:"Nikola Tesla",currentEra:"Ancient Egypt (2500 BC)",correctEra:"Late 19th Century",challengeQuestion:"To restore Tesla to 1895, identify the key principle he is searching for, which doesn't exist here:",options:["Limestone Cutting","Alternating Current","Papyrus Scrolls","Chariot Engineering"],correctAnswerIndex:1,restorationMessage:"ZAP! Tesla vanishes in a bolt of blue lightning, returning to his Colorado Springs lab."},{id:"chaos-2",headline:"EMPEROR NAPOLEON DUELS SHERIFF AT HIGH NOON!",scenario:"The Little Corporal is organizing outlaws into a 'Grande Arme' in a dusty Arizona saloon, demanding better artillery than six-shooters.",misplacedFigure:"Napoleon Bonaparte",currentEra:"Wild West (1880s)",correctEra:"Early 19th Century",challengeQuestion:"To send Napoleon back to 1815, remind him of his true military strategy:",options:["Guerilla Warfare","The Napoleonic Code & Artillery","Trench Warfare","Drone Strikes"],correctAnswerIndex:1,restorationMessage:"Vive la France! Napoleon fades away, presumably to Waterloo."},{id:"chaos-3",headline:"BARD IN ORBIT: 'TO BE OR NOT TO BE' IN ZERO G!",scenario:"William Shakespeare is floating in the International Space Station, trying to dip a feather quill into a floating blob of ink.",misplacedFigure:"William Shakespeare",currentEra:"Space Age (2020s)",correctEra:"Elizabethan Era (1600s)",challengeQuestion:"Help the Bard return to the Globe Theatre by identifying his meter:",options:["Free Verse","Iambic Pentameter","Haiku","Binary Code"],correctAnswerIndex:1,restorationMessage:"A curtain falls from nowhere. When it rises, the Bard is gone."},{id:"chaos-4",headline:"KHAN CONQUERS STOCK MARKET WITH HORSEBACK RAID!",scenario:"Genghis Khan gallops down Wall Street, confusing stock tickers for enemy signals and demanding tribute from terrified bankers.",misplacedFigure:"Genghis Khan",currentEra:"Roaring Twenties (1929)",correctEra:"13th Century",challengeQuestion:"To return the Khan to the steppes, remind him of his primary transport:",options:["Steam Train","Mongol Horse","Model T Ford","Armored Tank"],correctAnswerIndex:1,restorationMessage:"Dust swirls, hoofbeats thunder, and the Khan rides back into the past."},{id:"chaos-5",headline:"DA VINCI REINVENTS THE IPHONE!",scenario:"Leonardo is dismantling a smartphone in a Silicon Valley coffee shop, sketching its circuits as 'magical anatomy'.",misplacedFigure:"Leonardo da Vinci",currentEra:"Information Age (2024)",correctEra:"Italian Renaissance",challengeQuestion:"To send Leonardo home, give him the tool he actually mastered:",options:["3D Printer","Paintbrush & Chisel","Laser Cutter","Microchip"],correctAnswerIndex:1,restorationMessage:"The sketch glows golden, and Leonardo steps through the parchment back to Florence."}],i=e[Math.floor(Math.random()*e.length)];if(!n)return i;const o=`
    Generate a fun, creative "Historical Chaos" puzzle where a famous historical figure is stuck in the wrong era.
    Examples: Napoleon in the Wild West, Shakespeare on the Moon, Genghis Khan on Wall Street.
    
    Return JSON:
    - headline: A sensational vintage newspaper headline about the anomaly.
    - scenario: A visual description of the chaos.
    - misplacedFigure: The name of the person.
    - currentEra: The wrong era they are currently in.
    - correctEra: The era they belong to.
    - challengeQuestion: A multiple choice question to help them get back (related to their actual achievements).
    - options: Array of 4 string answers.
    - correctAnswerIndex: 0-3.
    - restorationMessage: What happens when they get sent back (visual description).
  `;try{const l=(await n.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:ge.OBJECT,properties:{headline:{type:ge.STRING},scenario:{type:ge.STRING},misplacedFigure:{type:ge.STRING},currentEra:{type:ge.STRING},correctEra:{type:ge.STRING},challengeQuestion:{type:ge.STRING},options:{type:ge.ARRAY,items:{type:ge.STRING}},correctAnswerIndex:{type:ge.INTEGER},restorationMessage:{type:ge.STRING}},required:["headline","scenario","misplacedFigure","currentEra","correctEra","challengeQuestion","options","correctAnswerIndex","restorationMessage"]}}})).text;return l?{...JSON.parse(l),id:Date.now().toString()}:i}catch(a){return console.error("Chaos gen failed",a),i}};var Rc=function(n,e){return Rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},Rc(n,e)};function ev(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rc(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Na=function(){return Na=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},Na.apply(this,arguments)};function qs(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(i[o[a]]=n[o[a]]);return i}function tv(n,e,i,o){var a=arguments.length,l=a<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,i):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,i,o);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(l=(a<3?c(l):a>3?c(e,i,l):c(e,i))||l);return a>3&&l&&Object.defineProperty(e,i,l),l}function nv(n,e){return function(i,o){e(i,o,n)}}function iv(n,e,i,o,a,l){function c(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var h=o.kind,m=h==="getter"?"get":h==="setter"?"set":"value",g=!e&&n?o.static?n:n.prototype:null,v=e||(g?Object.getOwnPropertyDescriptor(g,o.name):{}),_,E=!1,A=i.length-1;A>=0;A--){var C={};for(var x in o)C[x]=x==="access"?{}:o[x];for(var x in o.access)C.access[x]=o.access[x];C.addInitializer=function(O){if(E)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(O||null))};var M=(0,i[A])(h==="accessor"?{get:v.get,set:v.set}:v[m],C);if(h==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(_=c(M.get))&&(v.get=_),(_=c(M.set))&&(v.set=_),(_=c(M.init))&&a.unshift(_)}else(_=c(M))&&(h==="field"?a.unshift(_):v[m]=_)}g&&Object.defineProperty(g,o.name,v),E=!0}function sv(n,e,i){for(var o=arguments.length>2,a=0;a<e.length;a++)i=o?e[a].call(n,i):e[a].call(n);return o?i:void 0}function ov(n){return typeof n=="symbol"?n:"".concat(n)}function rv(n,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function av(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ne(n,e,i,o){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{g(o.next(v))}catch(_){c(_)}}function m(v){try{g(o.throw(v))}catch(_){c(_)}}function g(v){v.done?l(v.value):a(v.value).then(h,m)}g((o=o.apply(n,e||[])).next())})}function lv(n,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(v){return m([g,v])}}function m(g){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(i=0)),i;)try{if(o=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,a=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){i.label=g[1];break}if(g[0]===6&&i.label<l[1]){i.label=l[1],l=g;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(g);break}l[2]&&i.ops.pop(),i.trys.pop();continue}g=e.call(n,i)}catch(v){g=[6,v],a=0}finally{o=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Ga=Object.create?(function(n,e,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(e,i);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(n,o,a)}):(function(n,e,i,o){o===void 0&&(o=i),n[o]=e[i]});function uv(n,e){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Ga(e,n,i)}function Ma(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(n,e){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var o=i.call(n),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(c)throw c.error}}return l}function cv(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Zc(arguments[e]));return n}function dv(){for(var n=0,e=0,i=arguments.length;e<i;e++)n+=arguments[e].length;for(var o=Array(n),a=0,e=0;e<i;e++)for(var l=arguments[e],c=0,h=l.length;c<h;c++,a++)o[a]=l[c];return o}function fv(n,e,i){if(i||arguments.length===2)for(var o=0,a=e.length,l;o<a;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return n.concat(l||Array.prototype.slice.call(e))}function Us(n){return this instanceof Us?(this.v=n,this):new Us(n)}function hv(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(A){return function(C){return Promise.resolve(C).then(A,_)}}function h(A,C){o[A]&&(a[A]=function(x){return new Promise(function(M,O){l.push([A,x,M,O])>1||m(A,x)})},C&&(a[A]=C(a[A])))}function m(A,C){try{g(o[A](C))}catch(x){E(l[0][3],x)}}function g(A){A.value instanceof Us?Promise.resolve(A.value.v).then(v,_):E(l[0][2],A)}function v(A){m("next",A)}function _(A){m("throw",A)}function E(A,C){A(C),l.shift(),l.length&&m(l[0][0],l[0][1])}}function pv(n){var e,i;return e={},o("next"),o("throw",function(a){throw a}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(a,l){e[a]=n[a]?function(c){return(i=!i)?{value:Us(n[a](c)),done:!1}:l?l(c):c}:l}}function mv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Ma=="function"?Ma(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=n[l]&&function(c){return new Promise(function(h,m){c=n[l](c),a(h,m,c.done,c.value)})}}function a(l,c,h,m){Promise.resolve(m).then(function(g){l({value:g,done:h})},c)}}function gv(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var mR=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Nc=function(n){return Nc=Object.getOwnPropertyNames||function(e){var i=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[i.length]=o);return i},Nc(n)};function yv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=Nc(n),o=0;o<i.length;o++)i[o]!=="default"&&Ga(e,n,i[o]);return mR(e,n),e}function vv(n){return n&&n.__esModule?n:{default:n}}function _v(n,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:e.get(n)}function Tv(n,e,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(n,i):a?a.value=i:e.set(n,i),i}function Ev(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Sv(n,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],i&&(a=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");a&&(o=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:o,async:i})}else i&&n.stack.push({async:!0});return e}var gR=typeof SuppressedError=="function"?SuppressedError:function(n,e,i){var o=new Error(i);return o.name="SuppressedError",o.error=n,o.suppressed=e,o};function bv(n){function e(l){n.error=n.hasError?new gR(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var i,o=0;function a(){for(;i=n.stack.pop();)try{if(!i.async&&o===1)return o=0,n.stack.push(i),Promise.resolve().then(a);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else o|=1}catch(c){e(c)}if(o===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function Av(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,a,l,c){return o?e?".jsx":".js":a&&(!l||!c)?i:a+l+"."+c.toLowerCase()+"js"}):n}const yR={__extends:ev,__assign:Na,__rest:qs,__decorate:tv,__param:nv,__esDecorate:iv,__runInitializers:sv,__propKey:ov,__setFunctionName:rv,__metadata:av,__awaiter:ne,__generator:lv,__createBinding:Ga,__exportStar:uv,__values:Ma,__read:Zc,__spread:cv,__spreadArrays:dv,__spreadArray:fv,__await:Us,__asyncGenerator:hv,__asyncDelegator:pv,__asyncValues:mv,__makeTemplateObject:gv,__importStar:yv,__importDefault:vv,__classPrivateFieldGet:_v,__classPrivateFieldSet:Tv,__classPrivateFieldIn:Ev,__addDisposableResource:Sv,__disposeResources:bv,__rewriteRelativeImportExtension:Av},vR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sv,get __assign(){return Na},__asyncDelegator:pv,__asyncGenerator:hv,__asyncValues:mv,__await:Us,__awaiter:ne,__classPrivateFieldGet:_v,__classPrivateFieldIn:Ev,__classPrivateFieldSet:Tv,__createBinding:Ga,__decorate:tv,__disposeResources:bv,__esDecorate:iv,__exportStar:uv,__extends:ev,__generator:lv,__importDefault:vv,__importStar:yv,__makeTemplateObject:gv,__metadata:av,__param:nv,__propKey:ov,__read:Zc,__rest:qs,__rewriteRelativeImportExtension:Av,__runInitializers:sv,__setFunctionName:rv,__spread:cv,__spreadArray:fv,__spreadArrays:dv,__values:Ma,default:yR},Symbol.toStringTag,{value:"Module"})),_R=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class ed extends Error{constructor(e,i="FunctionsError",o){super(e),this.name=i,this.context=o}}class TR extends ed{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $g extends ed{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yg extends ed{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Mc||(Mc={}));class ER{constructor(e,{headers:i={},customFetch:o,region:a=Mc.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=_R(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ne(this,arguments,void 0,function*(i,o={}){var a;let l,c;try{const{headers:h,method:m,body:g,signal:v,timeout:_}=o;let E={},{region:A}=o;A||(A=this.region);const C=new URL(`${this.url}/${i}`);A&&A!=="any"&&(E["x-region"]=A,C.searchParams.set("forceFunctionRegion",A));let x;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",x=g):typeof g=="string"?(E["Content-Type"]="text/plain",x=g):typeof FormData<"u"&&g instanceof FormData?x=g:(E["Content-Type"]="application/json",x=JSON.stringify(g)):x=g;let M=v;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),v?(M=c.signal,v.addEventListener("abort",()=>c.abort())):M=c.signal);const O=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),h),body:x,signal:M}).catch(j=>{throw new TR(j)}),H=O.headers.get("x-relay-error");if(H&&H==="true")throw new $g(O);if(!O.ok)throw new Yg(O);let k=((a=O.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),F;return k==="application/json"?F=yield O.json():k==="application/octet-stream"||k==="application/pdf"?F=yield O.blob():k==="text/event-stream"?F=O:k==="multipart/form-data"?F=yield O.formData():F=yield O.text(),{data:F,error:null,response:O}}catch(h){return{data:null,error:h,response:h instanceof Yg||h instanceof $g?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var gt={};const Hs=vT(vR);var ha={},pa={},ma={},ga={},ya={},va={},jg;function Cv(){if(jg)return va;jg=1,Object.defineProperty(va,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return va.default=n,va}var Kg;function wv(){if(Kg)return ya;Kg=1,Object.defineProperty(ya,"__esModule",{value:!0});const e=Hs.__importDefault(Cv());class i{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,_,E;let A=null,C=null,x=null,M=m.status,O=m.statusText;if(m.ok){if(this.method!=="HEAD"){const j=await m.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?C=j:C=JSON.parse(j))}const k=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),F=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");k&&F&&F.length>1&&(x=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(A={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,x=null,M=406,O="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const k=await m.text();try{A=JSON.parse(k),Array.isArray(A)&&m.status===404&&(C=[],A=null,M=200,O="OK")}catch{m.status===404&&k===""?(M=204,O="No Content"):A={message:k}}if(A&&this.isMaybeSingle&&(!((E=A==null?void 0:A.details)===null||E===void 0)&&E.includes("0 rows"))&&(A=null,M=200,O="OK"),A&&this.shouldThrowOnError)throw new e.default(A)}return{error:A,data:C,count:x,status:M,statusText:O}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,v,_,E,A,C;let x="";const M=m==null?void 0:m.cause;if(M){const O=(g=M==null?void 0:M.message)!==null&&g!==void 0?g:"",H=(v=M==null?void 0:M.code)!==null&&v!==void 0?v:"";x=`${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"FetchError"}: ${m==null?void 0:m.message}`,x+=`

Caused by: ${(E=M==null?void 0:M.name)!==null&&E!==void 0?E:"Error"}: ${O}`,H&&(x+=` (${H})`),M!=null&&M.stack&&(x+=`
${M.stack}`)}else x=(A=m==null?void 0:m.stack)!==null&&A!==void 0?A:"";return{error:{message:`${(C=m==null?void 0:m.name)!==null&&C!==void 0?C:"FetchError"}: ${m==null?void 0:m.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}}return ya.default=i,ya}var Qg;function xv(){if(Qg)return ga;Qg=1,Object.defineProperty(ga,"__esModule",{value:!0});const e=Hs.__importDefault(wv());class i extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:m=!1,format:g="text"}={}){var v;const _=[a?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),E=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${E}"; options=${_};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ga.default=i,ga}var Xg;function td(){if(Xg)return ma;Xg=1,Object.defineProperty(ma,"__esModule",{value:!0});const e=Hs.__importDefault(xv()),i=new RegExp("[,()]");class o extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${g}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return ma.default=o,ma}var Wg;function Rv(){if(Wg)return pa;Wg=1,Object.defineProperty(pa,"__esModule",{value:!0});const e=Hs.__importDefault(td());class i{constructor(a,{headers:l={},schema:c,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(a,l){const{head:c=!1,count:h}=l??{},m=c?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(_=>/\s/.test(_)&&!g?"":(_==='"'&&(g=!g),_)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var h;const m="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const _=a.reduce((E,A)=>E.concat(Object.keys(A)),[]);if(_.length>0){const E=[...new Set(_)].map(A=>`"${A}"`);this.url.searchParams.set("columns",E.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return pa.default=i,pa}var Zg;function SR(){if(Zg)return ha;Zg=1,Object.defineProperty(ha,"__esModule",{value:!0});const n=Hs,e=n.__importDefault(Rv()),i=n.__importDefault(td());class o{constructor(l,{headers:c={},schema:h,fetch:m}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=m}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new o(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:m=!1,count:g}={}){var v;let _;const E=new URL(`${this.url}/rpc/${l}`);let A;h||m?(_=h?"HEAD":"GET",Object.entries(c).filter(([x,M])=>M!==void 0).map(([x,M])=>[x,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([x,M])=>{E.searchParams.append(x,M)})):(_="POST",A=c);const C=new Headers(this.headers);return g&&C.set("Prefer",`count=${g}`),new i.default({method:_,url:E,headers:C,schema:this.schemaName,body:A,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ha.default=o,ha}var ey;function bR(){if(ey)return gt;ey=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const n=Hs,e=n.__importDefault(SR());gt.PostgrestClient=e.default;const i=n.__importDefault(Rv());gt.PostgrestQueryBuilder=i.default;const o=n.__importDefault(td());gt.PostgrestFilterBuilder=o.default;const a=n.__importDefault(xv());gt.PostgrestTransformBuilder=a.default;const l=n.__importDefault(wv());gt.PostgrestBuilder=l.default;const c=n.__importDefault(Cv());return gt.PostgrestError=c.default,gt.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},gt}var Nv=bR();const Mv=Bc(Nv),AR=yT({__proto__:null,default:Mv},[Nv]),{PostgrestClient:CR,PostgrestQueryBuilder:J1,PostgrestFilterBuilder:$1,PostgrestTransformBuilder:Y1,PostgrestBuilder:j1,PostgrestError:K1}=Mv||AR;class wR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const o=this.getWebSocketConstructor();return new o(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xR="2.83.0",RR=`realtime-js/${xR}`,Iv="1.0.0",NR="2.0.0",ty=Iv,Ic=1e4,MR=1e3,IR=100;var Mi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Mi||(Mi={}));var st;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(st||(st={}));var Qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Qt||(Qt={}));var kc;(function(n){n.websocket="websocket"})(kc||(kc={}));var Ii;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ii||(Ii={}));class kR{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,i){if(this._isArrayBuffer(e.payload))return i(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(o))}_binaryEncodePush(e){var i,o;const{event:a,topic:l,payload:c}=e,h=(i=e.ref)!==null&&i!==void 0?i:"",m=(o=e.join_ref)!==null&&o!==void 0?o:"",g=this.META_LENGTH+m.length+h.length+l.length+a.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let _=new DataView(v),E=0;_.setUint8(E++,this.KINDS.push),_.setUint8(E++,m.length),_.setUint8(E++,h.length),_.setUint8(E++,l.length),_.setUint8(E++,a.length),Array.from(m,C=>_.setUint8(E++,C.charCodeAt(0))),Array.from(h,C=>_.setUint8(E++,C.charCodeAt(0))),Array.from(l,C=>_.setUint8(E++,C.charCodeAt(0))),Array.from(a,C=>_.setUint8(E++,C.charCodeAt(0)));var A=new Uint8Array(v.byteLength+c.byteLength);return A.set(new Uint8Array(v),0),A.set(new Uint8Array(c),v.byteLength),A.buffer}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,o,a,l;const c=e.topic,h=(i=e.ref)!==null&&i!==void 0?i:"",m=(o=e.join_ref)!==null&&o!==void 0?o:"",g=e.payload.event,v=(l=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&l!==void 0?l:new ArrayBuffer(0),_=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+c.length+g.length,E=new ArrayBuffer(this.HEADER_LENGTH+_);let A=new DataView(E),C=0;A.setUint8(C++,this.KINDS.userBroadcastPush),A.setUint8(C++,m.length),A.setUint8(C++,h.length),A.setUint8(C++,c.length),A.setUint8(C++,g.length),A.setUint8(C++,this.BINARY_ENCODING),Array.from(m,M=>A.setUint8(C++,M.charCodeAt(0))),Array.from(h,M=>A.setUint8(C++,M.charCodeAt(0))),Array.from(c,M=>A.setUint8(C++,M.charCodeAt(0))),Array.from(g,M=>A.setUint8(C++,M.charCodeAt(0)));var x=new Uint8Array(E.byteLength+v.byteLength);return x.set(new Uint8Array(E),0),x.set(new Uint8Array(v),E.byteLength),x.buffer}_encodeJsonUserBroadcastPush(e){var i,o,a,l;const c=e.topic,h=(i=e.ref)!==null&&i!==void 0?i:"",m=(o=e.join_ref)!==null&&o!==void 0?o:"",g=e.payload.event,v=(l=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&l!==void 0?l:{},E=new TextEncoder().encode(JSON.stringify(v)).buffer,A=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+c.length+g.length,C=new ArrayBuffer(this.HEADER_LENGTH+A);let x=new DataView(C),M=0;x.setUint8(M++,this.KINDS.userBroadcastPush),x.setUint8(M++,m.length),x.setUint8(M++,h.length),x.setUint8(M++,c.length),x.setUint8(M++,g.length),x.setUint8(M++,this.JSON_ENCODING),Array.from(m,H=>x.setUint8(M++,H.charCodeAt(0))),Array.from(h,H=>x.setUint8(M++,H.charCodeAt(0))),Array.from(c,H=>x.setUint8(M++,H.charCodeAt(0))),Array.from(g,H=>x.setUint8(M++,H.charCodeAt(0)));var O=new Uint8Array(C.byteLength+E.byteLength);return O.set(new Uint8Array(C),0),O.set(new Uint8Array(E),C.byteLength),O.buffer}decode(e,i){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return i(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,c,h,m]=o;return i({join_ref:a,ref:l,topic:c,event:h,payload:m})}return i({})}_binaryDecode(e){const i=new DataView(e),o=i.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.push:return this._decodePush(e,i,a);case this.KINDS.reply:return this._decodeReply(e,i,a);case this.KINDS.broadcast:return this._decodeBroadcast(e,i,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,a)}}_decodePush(e,i,o){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3);let h=this.HEADER_LENGTH+this.META_LENGTH-1;const m=o.decode(e.slice(h,h+a));h=h+a;const g=o.decode(e.slice(h,h+l));h=h+l;const v=o.decode(e.slice(h,h+c));h=h+c;const _=JSON.parse(o.decode(e.slice(h,e.byteLength)));return{join_ref:m,ref:null,topic:g,event:v,payload:_}}_decodeReply(e,i,o){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const g=o.decode(e.slice(m,m+a));m=m+a;const v=o.decode(e.slice(m,m+l));m=m+l;const _=o.decode(e.slice(m,m+c));m=m+c;const E=o.decode(e.slice(m,m+h));m=m+h;const A=JSON.parse(o.decode(e.slice(m,e.byteLength))),C={status:E,response:A};return{join_ref:g,ref:v,topic:_,event:Qt.reply,payload:C}}_decodeBroadcast(e,i,o){const a=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const h=o.decode(e.slice(c,c+a));c=c+a;const m=o.decode(e.slice(c,c+l));c=c+l;const g=JSON.parse(o.decode(e.slice(c,e.byteLength)));return{join_ref:null,ref:null,topic:h,event:m,payload:g}}_decodeUserBroadcast(e,i,o){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=o.decode(e.slice(m,m+a));m=m+a;const v=o.decode(e.slice(m,m+l));m=m+l;const _=o.decode(e.slice(m,m+c));m=m+c;const E=e.slice(m,e.byteLength),A=h===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,C={type:this.BROADCAST,event:v,payload:A};return c>0&&(C.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST,payload:C}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class kv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const ny=(n,e,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=DR(c,n,e,a),l),{}):{}},DR=(n,e,i,o)=>{const a=e.find(h=>h.name===n),l=a==null?void 0:a.type,c=i[n];return l&&!o.includes(l)?Dv(l,c):Dc(c)},Dv=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return LR(e,i)}switch(n){case He.bool:return UR(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return PR(e);case He.json:case He.jsonb:return OR(e);case He.timestamp:return qR(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Dc(e);default:return Dc(e)}},Dc=n=>n,UR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},PR=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},OR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},LR=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,o=n[i];if(n[0]==="{"&&o==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Dv(e,h))}return n},qR=n=>typeof n=="string"?n.replace(" ","T"):n,Uv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cc{constructor(e,i,o={},a=Ic){this.channel=e,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var o;return this._hasReceived(e)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iy;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(iy||(iy={}));class Bo{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bo.syncState(this.state,a,l,c),this.pendingDiffs.forEach(m=>{this.state=Bo.syncDiff(this.state,m,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bo.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,o,a){const l=this.cloneDeep(e),c=this.transformState(i),h={},m={};return this.map(l,(g,v)=>{c[g]||(m[g]=v)}),this.map(c,(g,v)=>{const _=l[g];if(_){const E=v.map(M=>M.presence_ref),A=_.map(M=>M.presence_ref),C=v.filter(M=>A.indexOf(M.presence_ref)<0),x=_.filter(M=>E.indexOf(M.presence_ref)<0);C.length>0&&(h[g]=C),x.length>0&&(m[g]=x)}else h[g]=v}),this.syncDiff(l,{joins:h,leaves:m},o,a)}static syncDiff(e,i,o,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(h,m)=>{var g;const v=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(m),v.length>0){const _=e[h].map(A=>A.presence_ref),E=v.filter(A=>_.indexOf(A.presence_ref)<0);e[h].unshift(...E)}o(h,v,m)}),this.map(c,(h,m)=>{let g=e[h];if(!g)return;const v=m.map(_=>_.presence_ref);g=g.filter(_=>v.indexOf(_.presence_ref)<0),e[h]=g,a(h,g,m),g.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(o=>i(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,o)=>{const a=e[o];return"metas"in a?i[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[o]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sy;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(sy||(sy={}));var zo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(zo||(zo={}));var Rn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class nd{constructor(e,i={config:{}},o){var a,l;if(this.topic=e,this.params=i,this.socket=o,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new cc(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new kv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Bo(this),this.broadcastEndpointURL=Uv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:c,presence:h,private:m}}=this.params,g=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(A=>A.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[zo.PRESENCE]&&this.bindings[zo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},E={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(A=>e==null?void 0:e(Rn.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Rn.CLOSED)),this.updateJoinPayload(Object.assign({config:E},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:A})=>{var C;if(this.socket.setAuth(),A===void 0){e==null||e(Rn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,M=(C=x==null?void 0:x.length)!==null&&C!==void 0?C:0,O=[];for(let H=0;H<M;H++){const k=x[H],{filter:{event:F,schema:j,table:Y,filter:J}}=k,le=A&&A[H];if(le&&le.event===F&&le.schema===j&&le.table===Y&&le.filter===J)O.push(Object.assign(Object.assign({},k),{id:le.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(Rn.SUBSCRIBED);return}}).receive("error",A=>{this.state=st.errored,e==null||e(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,o){return this.state===st.joined&&e===zo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,o)}async httpSend(e,i,o={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(e,i={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,m;const g=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new cc(this,Qt.leave,{},e),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,i,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cc(this,e,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IR){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,o){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,o){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:m,leave:g,join:v}=Qt;if(o&&[h,m,g,v].indexOf(c)>=0&&o!==this._joinRef())return;let E=this._onMessage(c,i,o);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(A=>{var C,x,M;return((C=A.filter)===null||C===void 0?void 0:C.event)==="*"||((M=(x=A.filter)===null||x===void 0?void 0:x.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===c}).map(A=>A.callback(E,o)):(l=this.bindings[c])===null||l===void 0||l.filter(A=>{var C,x,M,O,H,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const F=A.id,j=(C=A.filter)===null||C===void 0?void 0:C.event;return F&&((x=i.ids)===null||x===void 0?void 0:x.includes(F))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((M=i.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const F=(H=(O=A==null?void 0:A.filter)===null||O===void 0?void 0:O.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return F==="*"||F===((k=i==null?void 0:i.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof E=="object"&&"ids"in E){const C=E.data,{schema:x,table:M,commit_timestamp:O,type:H,errors:k}=C;E=Object.assign(Object.assign({},{schema:x,table:M,commit_timestamp:O,eventType:H,new:{},old:{},errors:k}),this._getPayloadRecords(C))}A.callback(E,o)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,o){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&nd.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(e[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=ny(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=ny(e.columns,e.old_record)),i}}const dc=()=>{},_a={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HR=[1e3,2e3,5e3,1e4],GR=1e4,BR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zR{constructor(e,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ic,this.transport=null,this.heartbeatIntervalMs=_a.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dc,this.ref=0,this.reconnectTimer=null,this.vsn=ty,this.logger=dc,this.conn=null,this.sendBuffer=[],this.serializer=new kR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${kc.websocket}`,this.httpEndpoint=Uv(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,o){this.logger(e,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Mi.connecting:return Ii.Connecting;case Mi.open:return Ii.Open;case Mi.closing:return Ii.Closing;default:return Ii.Closed}}isConnected(){return this.connectionState()===Ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new nd(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:o,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${o} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(MR,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},_a.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:l,ref:c}=i,h=c?`(${c})`:"",m=l.status||"";this.log("receive",`${m} ${o} ${a} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Mi.open||this.conn.readyState===Mi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${o}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const o=new Blob([BR],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:RR};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Qt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new kv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_a.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,o,a,l,c,h,m,g,v,_,E,A;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:Ic,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:_a.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:dc,this.vsn=(m=e==null?void 0:e.vsn)!==null&&m!==void 0?m:ty,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(C=>HR[C-1]||GR),this.vsn){case Iv:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((C,x)=>x(JSON.stringify(C))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((C,x)=>x(JSON.parse(C)));break;case NR:this.encode=(E=e==null?void 0:e.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(A=e==null?void 0:e.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class id extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $e(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class VR extends id{constructor(e,i,o){super(e),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uc extends id{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const sd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),FR=()=>Response,Pc=n=>{if(Array.isArray(n))return n.map(i=>Pc(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Pc(o)}),e},JR=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},fc=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},$R=(n,e,i)=>ne(void 0,void 0,void 0,function*(){const o=yield FR();n instanceof o&&!(i!=null&&i.noResolveJson)?n.json().then(a=>{const l=n.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new VR(fc(a),l,c))}).catch(a=>{e(new Uc(fc(a),a))}):e(new Uc(fc(n),n))}),YR=(n,e,i,o)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!o?a:(JR(o)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),i))};function Ko(n,e,i,o,a,l){return ne(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(i,YR(e,o,a,l)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>$R(m,h,o))})})}function $o(n,e,i,o){return ne(this,void 0,void 0,function*(){return Ko(n,"GET",e,i,o)})}function sn(n,e,i,o,a){return ne(this,void 0,void 0,function*(){return Ko(n,"POST",e,o,a,i)})}function Oc(n,e,i,o,a){return ne(this,void 0,void 0,function*(){return Ko(n,"PUT",e,o,a,i)})}function jR(n,e,i,o){return ne(this,void 0,void 0,function*(){return Ko(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function od(n,e,i,o,a){return ne(this,void 0,void 0,function*(){return Ko(n,"DELETE",e,o,a,i)})}class KR{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}})}}var Pv;class QR{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[Pv]="BlobDownloadBuilder",this.promise=null}asStream(){return new KR(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}})}}Pv=Symbol.toStringTag;const XR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WR{constructor(e,i={},o,a){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=o,this.fetch=sd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,o,a){return ne(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},oy),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&o instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",o)):typeof FormData<"u"&&o instanceof FormData?(l=o,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),m&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(m))):(l=o,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const g=this._removeEmptyFolders(i),v=this._getFinalPath(g),_=yield(e=="PUT"?Oc:sn)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}upload(e,i,o){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,o)})}uploadToSignedUrl(e,i,o,a){return ne(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",i);try{let m;const g=Object.assign({upsert:oy.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",g.cacheControl)):(m=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const _=yield Oc(this.fetch,h.toString(),m,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if($e(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,i){return ne(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const l=yield sn(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new id("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}update(e,i,o){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,o)})}move(e,i,o){return ne(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(e,i,o){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,o){return ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield sn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,o){return ne(this,void 0,void 0,function*(){try{const a=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(e,i){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),m=()=>$o(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new QR(m,this.shouldThrowOnError)}info(e){return ne(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const o=yield $o(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Pc(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}exists(e){return ne(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield jR(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o)&&o instanceof Uc){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,i){const o=this._getFinalPath(e),a=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});m!==""&&a.push(m);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${g}`)}}}remove(e){return ne(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}list(e,i,o){return ne(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},XR),i),{prefix:e||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(e,i){return ne(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const Ov="2.83.0",Lv={"X-Client-Info":`storage-js/${Ov}`};class ZR{constructor(e,i={},o,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),i),this.fetch=sd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield $o(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}createBucket(e){return ne(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}emptyBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class eN{constructor(e,i={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),i),this.fetch=sd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const o=i.toString(),a=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield $o(this.fetch,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}}const rd={"X-Client-Info":`storage-js/${Ov}`,"Content-Type":"application/json"};class qv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class hc extends qv{constructor(e,i,o){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tN extends qv{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var ry;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ry||(ry={}));const ad=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),nN=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},ay=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),iN=(n,e,i)=>ne(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(i!=null&&i.noResolveJson)){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new hc(ay(c),a,h))}).catch(()=>{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new hc(h,a,c))});else{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new hc(h,a,c))}}else e(new tN(ay(n),n))}),sN=(n,e,i,o)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return o?(nN(o)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,Object.assign(Object.assign({},a),i)):a};function oN(n,e,i,o,a,l){return ne(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(i,sN(e,o,a,l)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>iN(m,h,o))})})}function Ht(n,e,i,o,a){return ne(this,void 0,void 0,function*(){return oN(n,"POST",e,o,a,i)})}class rN{constructor(e,i={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rd),i),this.fetch=ad(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}getIndex(e,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qt(o))return{data:null,error:o};throw o}})}listIndexes(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qt(o))return{data:null,error:o};throw o}})}}class aN{constructor(e,i={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rd),i),this.fetch=ad(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}getVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}listVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ht(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}queryVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}deleteVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}}class lN{constructor(e,i={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rd),i),this.fetch=ad(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}listBuckets(){return ne(this,arguments,void 0,function*(e={}){try{return{data:yield Ht(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}}class uN extends lN{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new cN(this.url,this.headers,e,this.fetch)}}class cN extends rN{constructor(e,i,o,a){super(e,i,a),this.vectorBucketName=o}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new dN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class dN extends aN{constructor(e,i,o,a,l){super(e,i,l),this.vectorBucketName=o,this.indexName=a}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class fN extends ZR{constructor(e,i={},o,a){super(e,i,o,a)}from(e){return new WR(this.url,this.headers,e,this.fetch)}get vectors(){return new uN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eN(this.url+"/iceberg",this.headers,this.fetch)}}const hN="2.83.0";let Ho="";typeof Deno<"u"?Ho="deno":typeof document<"u"?Ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ho="react-native":Ho="node";const pN={"X-Client-Info":`supabase-js-${Ho}/${hN}`},mN={headers:pN},gN={schema:"public"},yN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vN={},_N=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),TN=()=>Headers,EN=(n,e,i)=>{const o=_N(i),a=TN();return async(l,c)=>{var h;const m=(h=await e())!==null&&h!==void 0?h:n;let g=new a(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(l,Object.assign(Object.assign({},c),{headers:g}))}};function SN(n){return n.endsWith("/")?n:n+"/"}function bN(n,e){var i,o;const{db:a,auth:l,realtime:c,global:h}=n,{db:m,auth:g,realtime:v,global:_}=e,E={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(i=_==null?void 0:_.headers)!==null&&i!==void 0?i:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?E.accessToken=n.accessToken:delete E.accessToken,E}function AN(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Hv="2.83.0",xs=30*1e3,Lc=3,pc=Lc*xs,CN="http://localhost:9999",wN="supabase.auth.token",xN={"X-Client-Info":`gotrue-js/${Hv}`},qc="X-Supabase-Api-Version",Gv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NN=600*1e3;class Yo extends Error{constructor(e,i,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function ie(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class MN extends Yo{constructor(e,i,o){super(e,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function IN(n){return ie(n)&&n.name==="AuthApiError"}class ki extends Yo{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class li extends Yo{constructor(e,i,o,a){super(e,o,a),this.name=i,this.status=o}}class Ot extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kN(n){return ie(n)&&n.name==="AuthSessionMissingError"}class Ss extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ta extends li{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ea extends li{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DN(n){return ie(n)&&n.name==="AuthImplicitGrantRedirectError"}class ly extends li{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends li{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function mc(n){return ie(n)&&n.name==="AuthRetryableFetchError"}class uy extends li{constructor(e,i,o){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class Gc extends li{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ia="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cy=` 	
\r=`.split(""),UN=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<cy.length;e+=1)n[cy[e].charCodeAt(0)]=-2;for(let e=0;e<Ia.length;e+=1)n[Ia[e].charCodeAt(0)]=e;return n})();function dy(n,e,i){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(Ia[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(Ia[o]),e.queuedBits-=6}}function Bv(n,e,i){const o=UN[n];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function fy(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{LN(c,o,i)};for(let c=0;c<n.length;c+=1)Bv(n.charCodeAt(c),a,l);return e.join("")}function PN(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function ON(n,e){for(let i=0;i<n.length;i+=1){let o=n.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(n.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}PN(o,e)}}function LN(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Ds(n){const e=[],i={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)Bv(n.charCodeAt(a),i,o);return new Uint8Array(e)}function qN(n){const e=[];return ON(n,i=>e.push(i)),new Uint8Array(e)}function Di(n){const e=[],i={queue:0,queuedBits:0},o=a=>{e.push(a)};return n.forEach(a=>dy(a,i,o)),dy(null,i,o),e.join("")}function HN(n){return Math.round(Date.now()/1e3)+n}function GN(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},zv=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function BN(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((o,a)=>{e[a]=o}),e}const Vv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),zN=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Rs=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},Ri=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},si=async(n,e)=>{await n.removeItem(e)};class Ba{constructor(){this.promise=new Ba.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Ba.promiseConstructor=Promise;function gc(n){const e=n.split(".");if(e.length!==3)throw new Gc("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!RN.test(e[o]))throw new Gc("JWT not in base64url format");return{header:JSON.parse(fy(e[0])),payload:JSON.parse(fy(e[1])),signature:Ds(e[2]),raw:{header:e[0],payload:e[1]}}}async function VN(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function FN(n,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){o(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function JN(n){return("0"+n.toString(16)).substr(-2)}function $N(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,JN).join("")}async function YN(n){const i=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function jN(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await YN(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(n,e,i=!1){const o=$N();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await Rs(n,`${e}-code-verifier`,a);const l=await jN(o);return[l,o===l?"plain":"s256"]}const KN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QN(n){const e=n.headers.get(qc);if(!e||!e.match(KN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function XN(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function WN(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function As(n){if(!ZN.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){const n={};return new Proxy(n,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function e1(n,e){return new Proxy(n,{get:(i,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,o,a)}})}function hy(n){return JSON.parse(JSON.stringify(n))}const Ni=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),t1=[502,503,504];async function py(n){var e;if(!zN(n))throw new Hc(Ni(n),0);if(t1.includes(n.status))throw new Hc(Ni(n),n.status);let i;try{i=await n.json()}catch(l){throw new ki(Ni(l),l)}let o;const a=QN(n);if(a&&a.getTime()>=Gv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new uy(Ni(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Ot}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new uy(Ni(i),n.status,i.weak_password.reasons);throw new MN(Ni(i),n.status||500,o)}const n1=(n,e,i,o)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function ae(n,e,i,o){var a;const l=Object.assign({},o==null?void 0:o.headers);l[qc]||(l[qc]=Gv["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const c=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(c.redirect_to=o.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await i1(n,e,i+h,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function i1(n,e,i,o,a,l){const c=n1(e,o,a,l);let h;try{h=await n(i,Object.assign({},c))}catch(m){throw console.error(m),new Hc(Ni(m),0)}if(h.ok||await py(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(m){await py(m)}}function nn(n){var e;let i=null;r1(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=HN(n.expires_in)));const o=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:o},error:null}}function my(n){const e=nn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(e.data.weak_password=n.weak_password),e}function oi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function s1(n){return{data:n,error:null}}function o1(n){const{action_link:e,email_otp:i,hashed_token:o,redirect_to:a,verification_type:l}=n,c=qs(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:o,redirect_to:a,verification_type:l},m=Object.assign({},c);return{data:{properties:h,user:m},error:null}}function gy(n){return n}function r1(n){return n.access_token&&n.refresh_token&&n.expires_in}const vc=["global","local","others"];class a1{constructor({url:e="",headers:i={},fetch:o}){this.url=e,this.headers=i,this.fetch=Vv(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=vc[0]){if(vc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,i={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:oi})}catch(o){if(ie(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:i}=e,o=qs(e,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:o1,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ie(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:oi})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,o,a,l,c,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:gy});if(v.error)throw v.error;const _=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(C=>{const x=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(C.split(";")[1].split("=")[1]);g[`${M}Page`]=x}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ie(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){As(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:oi})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){As(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:oi})}catch(o){if(ie(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,i=!1){As(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:oi})}catch(o){if(ie(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){As(e.userId);try{const{data:i,error:o}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteFactor(e){As(e.userId),As(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,o,a,l,c,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:gy});if(v.error)throw v.error;const _=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(C=>{const x=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(C.split(";")[1].split("=")[1]);g[`${M}Page`]=x}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ie(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ie(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}}function yy(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}const Cs={debug:!!(globalThis&&zv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class l1 extends Fv{}async function u1(n,e,i){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await i()}finally{Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new l1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Cs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function c1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function d1(n){return parseInt(n,16)}function f1(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function h1(n){var e;const{chainId:i,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:m,resources:g,scheme:v,uri:_,version:E}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const A=Jv(n.address),C=v?`${v}://${o}`:o,x=n.statement?`${n.statement}
`:"",M=`${C} wants you to sign in with your Ethereum account:
${A}

${x}`;let O=`URI: ${_}
Version: ${E}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(O+=`
Expiration Time: ${a.toISOString()}`),h&&(O+=`
Not Before: ${h.toISOString()}`),m&&(O+=`
Request ID: ${m}`),g){let H=`
Resources:`;for(const k of g){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);H+=`
- ${k}`}O+=H}return`${M}
${O}`}class nt extends Error{constructor({message:e,code:i,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class ka extends nt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function p1({error:n,options:e}){var i,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if($v(c)){if(l.rp.id!==c)return new nt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function m1({error:n,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if($v(o)){if(i.rpId!==o)return new nt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class g1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const y1=new g1;function v1(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:i,excludeCredentials:o}=n,a=qs(n,["challenge","user","excludeCredentials"]),l=Ds(e).buffer,c=Object.assign(Object.assign({},i),{id:Ds(i.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Ds(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function _1(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:i}=n,o=qs(n,["challenge","allowCredentials"]),a=Ds(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Ds(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function T1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:Di(new Uint8Array(n.response.attestationObject)),clientDataJSON:Di(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,o=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Di(new Uint8Array(a.authenticatorData)),clientDataJSON:Di(new Uint8Array(a.clientDataJSON)),signature:Di(new Uint8Array(a.signature)),userHandle:a.userHandle?Di(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $v(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function vy(){var n,e;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function S1(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",e)}:{data:null,error:new ka("Empty credential response",e)}}catch(e){return{data:null,error:p1({error:e,options:n})}}}async function b1(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",e)}:{data:null,error:new ka("Empty credential response",e)}}catch(e){return{data:null,error:m1({error:e,options:n})}}}const A1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},C1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Da(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))o[l]=c;else if(i(c))o[l]=c;else if(e(c)){const h=o[l];e(h)?o[l]=Da(h,c):o[l]=Da(c)}else o[l]=c}return o}function w1(n,e){return Da(A1,n,e||{})}function x1(n,e){return Da(C1,n,e||{})}class R1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:o,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:h};const m=a??y1.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=w1(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:_}=await S1({publicKey:g,signal:m});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const g=x1(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:_}=await b1(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new ki("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new Yo("rpId is required for WebAuthn authentication")};try{if(!vy())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:o},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:m}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:o,credential_response:m.credential_response}})}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new ki("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new Yo("rpId is required for WebAuthn registration")};try{if(!vy())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:a},{create:l});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new ki("Unexpected error in register",c)}}}}c1();const N1={url:CN,storageKey:wN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _y(n,e,i){return await i()}const ws={};class jo{get jwks(){var e,i;return(i=(e=ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:e})}constructor(e){var i,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},N1),e);if(this.storageKey=l.storageKey,this.instanceID=(i=jo.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,jo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ht()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new a1({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Vv(l.fetch),this.lock=l.lock||_y,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:ht()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=u1:this.lock=_y,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:zv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=yy(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},o="none";if(ht()&&(i=BN(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),ht()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),DN(l)){const m=(e=l.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ie(i)?this._returnResult({error:i}):this._returnResult({error:new ki("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,o,a;try{const l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:nn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const m=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,o,a;try{let l;if("email"in e){const{email:v,password:_,options:E}=e;let A=null,C=null;this.flowType==="pkce"&&([A,C]=await bs(this.storage,this.storageKey)),l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:v,password:_,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:A,code_challenge_method:C},xform:nn})}else if("phone"in e){const{phone:v,password:_,options:E}=e;l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(a=E==null?void 0:E.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:nn})}else throw new Ta("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const m=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:my})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:my})}else throw new Ta("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new Ss;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,o,a,l,c,h,m,g,v,_,E;let A,C;if("message"in e)A=e.message,C=e.signature;else{const{chain:x,wallet:M,statement:O,options:H}=e;let k;if(ht())if(typeof M=="object")k=M;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")k=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=M}const F=new URL((i=H==null?void 0:H.url)!==null&&i!==void 0?i:window.location.href),j=await k.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Jv(j[0]);let J=(o=H==null?void 0:H.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){const X=await k.request({method:"eth_chainId"});J=d1(X)}const le={domain:F.host,address:Y,statement:O,uri:F.href,version:"1",chainId:J,nonce:(a=H==null?void 0:H.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=H==null?void 0:H.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=H==null?void 0:H.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=H==null?void 0:H.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=H==null?void 0:H.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=H==null?void 0:H.signInWithEthereum)===null||v===void 0?void 0:v.resources};A=h1(le),C=await k.request({method:"personal_sign",params:[f1(A),Y]})}try{const{data:x,error:M}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:C},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:nn});if(M)throw M;if(!x||!x.session||!x.user){const O=new Ss;return this._returnResult({data:{user:null,session:null},error:O})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:M})}catch(x){if(ie(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var i,o,a,l,c,h,m,g,v,_,E,A;let C,x;if("message"in e)C=e.message,x=e.signature;else{const{chain:M,wallet:O,statement:H,options:k}=e;let F;if(ht())if(typeof O=="object")F=O;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))F=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=O}const j=new URL((i=k==null?void 0:k.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in F&&F.signIn){const Y=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),H?{statement:H}:null));let J;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")J=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)J=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)C=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),x=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${j.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(o=k==null?void 0:k.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((m=k==null?void 0:k.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((g=k==null?void 0:k.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((_=(v=k==null?void 0:k.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...k.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Y=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=Y}}try{const{data:M,error:O}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Di(x)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:nn});if(O)throw O;if(!M||!M.session||!M.user){const H=new Ss;return this._returnResult({data:{user:null,session:null},error:H})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:O})}catch(M){if(ie(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(e){const i=await Ri(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:nn});if(await si(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:o,token:a,access_token:l,nonce:c}=e,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:nn}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new Ss;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,o,a,l,c;try{if("email"in e){const{email:h,options:m}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await bs(this.storage,this.storageKey));const{error:_}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:m}=e,{data:g,error:v}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(c=m==null?void 0:m.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v})}throw new Ta("You must provide either an email or phone number.")}catch(h){if(ie(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,o;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:h}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:nn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,g=c.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var i,o,a,l,c;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await bs(this.storage,this.storageKey));const g=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:s1});return!((l=g.data)===null||l===void 0)&&l.url&&ht()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(ie(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;if(o)throw o;if(!i)throw new Ot;const{error:a}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:c}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:c,error:h}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Ta("You must provide either an email or phone number and a type")}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<pc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const c=await Ri(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=yc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=e1(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:oi}):await this._useSession(async i=>{var o,a,l;const{data:c,error:h}=i;if(h)throw h;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:oi})})}catch(i){if(ie(i))return kN(i)&&(await this._removeSession(),await si(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new Ot;const c=a.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await bs(this.storage,this.storageKey));const{data:g,error:v}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:c.access_token,xform:oi});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(ie(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const i=Date.now()/1e3;let o=i,a=!0,l=null;const{payload:c}=gc(e.access_token);if(c.exp&&(o=c.exp,a=o<=i),a){const{data:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var o;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(o=c.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!ht())throw new Ea("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ea(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new ly("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ea("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ly("No code detected.");const{data:H,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:m,token_type:g}=e;if(!l||!h||!c||!g)throw new Ea("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let E=v+_;m&&(E=parseInt(m));const A=E-v;A*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${_}s`);const C=E-_;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,E,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,E,v);const{data:x,error:M}=await this._getUser(l);if(M)throw M;const O={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:_,expires_at:E,refresh_token:c,token_type:g,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(o){if(ie(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Ri(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:l}=i;if(l)return this._returnResult({error:l});const c=(o=a.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(IN(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await si(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=GN(),o={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async i=>{var o,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await bs(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:o,error:a}=await this._useSession(async l=>{var c,h,m,g,v;const{data:_,error:E}=l;if(E)throw E;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",A,{headers:this.headers,jwt:(v=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return ht()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ie(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var o;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:h,token:m,access_token:g,nonce:v}=e,_=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:nn}),{data:E,error:A}=_;return A?this._returnResult({data:{user:null,session:null},error:A}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Ss}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:A}))}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var o,a;const{data:l,error:c}=i;if(c)throw c;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await FN(async a=>(a>0&&await VN(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&mc(l)&&Date.now()+c-o<xs})}catch(o){if(this._debug(i,"error",o),ie(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",o),ht()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Ri(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Rs(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:yc()}else if(a&&!a.user&&!a.user){const c=await Ri(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await si(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,a)):a.user=yc()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<pc;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${pc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),mc(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var i,o;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ba;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Ot;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ie(l)){const c={data:null,error:l};return mc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(m){l.push(m)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=hy(a);await Rs(this.storage,this.storageKey,l)}else{const a=hy(i);await Rs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await si(this.storage,this.storageKey),await si(this.storage,this.storageKey+"-code-verifier"),await si(this.storage,this.storageKey+"-user"),this.userStorage&&await si(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${xs}ms, refresh threshold is ${Lc} ticks`),a<=Lc&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,c]=await bs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var o;const{data:a,error:l}=i;return l?this._returnResult({data:null,error:l}):await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var o,a;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:g}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&m.type==="totp"&&(!((a=m==null?void 0:m.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?T1(e.webauthn.credential_response):E1(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:m}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:_1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gc(o.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(e=o.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;return a?this._returnResult({data:null,error:a}):o?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ot});const c=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ht()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ie(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,i){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ot});const c=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ht()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ie(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;return o?this._returnResult({data:null,error:o}):i?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;return a?this._returnResult({data:null,error:a}):o?await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Ot})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let o=i.keys.find(h=>h.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(h=>h.kid===e),o&&this.jwks_cached_at+NN>a)return o;const{data:l,error:c}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(h=>h.kid===e),!o)?null:o}async getClaims(e,i={}){try{let o=e;if(!o){const{data:A,error:C}=await this.getSession();if(C||!A.session)return this._returnResult({data:null,error:C});o=A.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:m}}=gc(o);i!=null&&i.allowExpired||XN(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!g){const{error:A}=await this.getUser(o);if(A)throw A;return{data:{claims:l,header:a,signature:c},error:null}}const v=WN(a.alg),_=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,c,qN(`${h}.${m}`)))throw new Gc("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(o){if(ie(o))return this._returnResult({data:null,error:o});throw o}}}jo.nextInstanceID={};const M1=jo;class I1 extends M1{constructor(e){super(e)}}class k1{constructor(e,i,o){var a,l,c;this.supabaseUrl=e,this.supabaseKey=i;const h=AN(e);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:gN,realtime:vN,auth:Object.assign(Object.assign({},yN),{storageKey:m}),global:mN},v=bN(o??{},g);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=EN(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new CR(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new fN(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new ER(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,i,o)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:l,storageKey:c,flowType:h,lock:m,debug:g,throwOnError:v},_,E){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I1({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),_),storageKey:c,autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:l,flowType:h,lock:m,debug:g,throwOnError:v,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,i,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const D1=(n,e,i)=>new k1(n,e,i);function U1(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}U1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Ua={};const Yv=Ua.NEXT_PUBLIC_SUPABASE_URL||Ua.SUPABASE_URL||"https://supabase.fets.in",P1=Ua.NEXT_PUBLIC_SUPABASE_ANON_KEY||Ua.SUPABASE_ANON_KEY||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2MzU3MTY2MCwiZXhwIjo0OTE5MjQ1MjYwLCJyb2xlIjoiYW5vbiJ9.ApJ13y26_hrkcVO-XhLwHiSt1j6tg_h74WrPc93iPCg",ri=D1(Yv,P1),Pa=()=>Yv!=="https://placeholder.supabase.co",O1=({onLogin:n})=>{const[e,i]=te.useState(""),[o,a]=te.useState(""),[l,c]=te.useState(!1),[h,m]=te.useState(!1),[g,v]=te.useState(null),_=async()=>{if(v(null),m(!0),!Pa()){setTimeout(()=>{m(!1),n()},1500);return}try{if(l){const{data:E,error:A}=await ri.auth.signUp({email:e,password:o});if(A)throw A;E.session?n():(v("Application submitted. Check your telegrams (email) for confirmation."),m(!1))}else{const{error:E}=await ri.auth.signInWithPassword({email:e,password:o});if(E)throw E;n()}}catch(E){let A=E.message||"Connection failed. Ensure secure link.";A==="Failed to fetch"||A.includes("NetworkError")||A.includes("network")?(v("Backend unreachable. Engaging Offline Protocol..."),setTimeout(()=>{n()},1500)):(v(A),m(!1))}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 z-50 relative",children:S.jsxs("div",{className:"bg-[#fdf6e3] max-w-md w-full border-4 border-double border-ink p-8 shadow-2xl relative transform rotate-1",children:[S.jsx("div",{className:"absolute top-4 right-4 opacity-20 transform rotate-12 border-4 border-alert-red p-1 rounded-full",children:S.jsx("div",{className:"border border-alert-red rounded-full w-16 h-16 flex items-center justify-center",children:S.jsx(Ui,{size:40,className:"text-alert-red"})})}),S.jsxs("div",{className:"text-center border-b-2 border-ink pb-4 mb-6",children:[S.jsx("h1",{className:"font-serif text-4xl font-black uppercase tracking-tight mb-1",children:"Timension"}),S.jsx("p",{className:"font-mono text-sm uppercase tracking-widest border-y border-ink py-1 inline-block",children:"Official Press Pass Application"})]}),g&&S.jsxs("div",{className:"mb-4 p-2 border border-alert-red bg-alert-red/10 text-alert-red font-mono text-xs text-center animate-pulse",children:[" ",g]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"relative",children:[S.jsx("label",{className:"font-mono text-xs uppercase font-bold block mb-1 ml-2",children:"Codename (Email)"}),S.jsxs("div",{className:"flex items-center border-b-2 border-ink pb-1",children:[S.jsx(Fc,{size:18,className:"mr-2 text-ink-light"}),S.jsx("input",{type:"email",value:e,onChange:E=>i(E.target.value),className:"bg-transparent w-full font-serif text-xl focus:outline-none placeholder:text-ink/30",placeholder:"h.wells@timemail.com"})]})]}),S.jsxs("div",{className:"relative",children:[S.jsx("label",{className:"font-mono text-xs uppercase font-bold block mb-1 ml-2",children:"Secret Key (Password)"}),S.jsxs("div",{className:"flex items-center border-b-2 border-ink pb-1",children:[S.jsx(rE,{size:18,className:"mr-2 text-ink-light"}),S.jsx("input",{type:"password",value:o,onChange:E=>a(E.target.value),className:"bg-transparent w-full font-serif text-xl focus:outline-none placeholder:text-ink/30",placeholder:""})]})]}),S.jsx("button",{onClick:_,disabled:h,className:"w-full bg-ink text-paper py-3 font-mono uppercase font-bold tracking-wider hover:bg-sepia-accent transition-all flex items-center justify-center gap-2 mt-4 group",children:h?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Vo,{className:"animate-spin",size:18}),S.jsx("span",{children:"Verifying..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(Ui,{size:18,className:"group-hover:rotate-12 transition-transform"}),l?"Submit Application":"Stamp & Enter"]})}),S.jsx("div",{className:"text-center pt-4",children:S.jsx("button",{onClick:()=>{c(!l),v(null)},className:"font-mono text-xs underline hover:text-sepia-accent",children:l?"Already have a pass? Sign In":"New to the Archives? Apply here"})})]}),!Pa()&&S.jsx("p",{className:"mt-4 text-[10px] text-center text-alert-red font-mono opacity-70",children:"* Demo Mode: Auth keys missing. Clicking submit will bypass."})]})})},L1=({isOpen:n,onClose:e,userEmail:i,onLogout:o})=>{const[a,l]=te.useState(null),[c,h]=te.useState(!0);if(te.useEffect(()=>{(async()=>{if(n){h(!0);try{const{data:{user:v}}=await ri.auth.getUser();if(v){const{data:_,error:E}=await ri.from("profiles").select("*").eq("id",v.id).single(),{data:A,error:C}=await ri.from("inventory").select("*").eq("user_id",v.id);if(_)l({email:_.email||i,stats:{rank:_.rank||"Chrono-Cadet",centuriesTraversed:_.centuries_traversed||0,paradoxesCaused:_.paradoxes_caused||0,artifactsFound:_.artifacts_found||0,majorDiscoveries:_.major_discoveries||0,joinDate:_.join_date||new Date().toISOString().split("T")[0]},inventory:(A||[]).map(x=>({id:x.id,name:x.name,description:x.description,rarity:x.rarity,iconName:x.icon_name}))});else throw new Error("Profile not found")}else throw new Error("No user")}catch{l({email:i,stats:{rank:"Chrono-Cadet",centuriesTraversed:3,paradoxesCaused:1,artifactsFound:4,majorDiscoveries:7,joinDate:"1920-08-01"},inventory:[{id:"1",name:"Tesla's Coil",description:"A copper fragment humming with energy.",rarity:"Rare",iconName:"zap"},{id:"2",name:"Caesar's Laurel",description:"A dried golden leaf.",rarity:"Relic",iconName:"feather"},{id:"3",name:"Lunar Dust",description:"Grey powder in a glass vial.",rarity:"Common",iconName:"star"},{id:"4",name:"Press Badge",description:"Your official credential.",rarity:"Common",iconName:"badge"}]})}finally{h(!1)}}})()},[n,i]),!n)return null;const m=g=>{switch(g){case"zap":return S.jsx(Fo,{size:16});case"feather":return S.jsx(Sy,{size:16});case"star":return S.jsx(wy,{size:16});default:return S.jsx(BT,{size:16})}};return S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-[#f0e6d2] w-full max-w-lg h-[85vh] border-4 border-double border-ink shadow-2xl relative flex flex-col overflow-hidden transform rotate-0 md:rotate-1",children:[S.jsxs("div",{className:"bg-ink text-paper p-4 flex justify-between items-center relative z-10",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(JT,{className:"text-vintage-gold"}),S.jsxs("div",{children:[S.jsx("h2",{className:"font-serif text-2xl font-bold leading-none",children:"Traveler's Dossier"}),S.jsx("span",{className:"font-mono text-[10px] uppercase tracking-[0.2em] text-gray-400",children:"Confidential  Top Secret"})]})]}),S.jsx("button",{onClick:e,className:"hover:text-alert-red transition-colors",children:S.jsx(CE,{size:24})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 relative",children:[S.jsx(Sa,{}),c||!a?S.jsx("div",{className:"flex h-full items-center justify-center",children:S.jsxs("div",{className:"animate-pulse font-mono flex flex-col items-center gap-2",children:[S.jsx(Vo,{className:"animate-spin"}),S.jsx("span",{children:"RETRIEVING RECORDS..."})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex gap-4 mb-8 border-b-2 border-ink pb-6",children:[S.jsxs("div",{className:"w-24 h-32 bg-gray-300 border-2 border-ink shadow-md p-1 relative rotate-[-2deg]",children:[S.jsxs("div",{className:"w-full h-full bg-ink/10 flex flex-col items-center justify-center",children:[S.jsx(Fc,{size:40,className:"text-ink/50"}),S.jsx("span",{className:"font-serif text-[10px] text-center mt-2 text-ink/50",children:"NO PHOTO"})]}),S.jsx("div",{className:"absolute -bottom-2 -right-2",children:S.jsx(Ui,{size:32,className:"text-alert-red opacity-80"})})]}),S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"font-mono text-[10px] uppercase text-ink-light block",children:"Agent Name"}),S.jsx("p",{className:"font-serif text-xl font-bold border-b border-dotted border-ink mb-2 truncate",children:a.email.split("@")[0]}),S.jsx("label",{className:"font-mono text-[10px] uppercase text-ink-light block",children:"Current Rank"}),S.jsx("p",{className:"font-serif text-lg italic text-sepia-accent font-bold mb-2",children:a.stats.rank}),S.jsx("label",{className:"font-mono text-[10px] uppercase text-ink-light block",children:"Service Started"}),S.jsx("p",{className:"font-mono text-sm",children:a.stats.joinDate})]})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"font-serif text-xl font-bold mb-3 flex items-center gap-2",children:[S.jsx(Cy,{size:18})," Chrono-Passport"]}),S.jsx("div",{className:"grid grid-cols-5 gap-2 bg-white/50 border border-ink p-3",children:[...Array(10)].map((g,v)=>S.jsx("div",{className:`aspect-square border border-dashed border-ink/30 rounded-full flex items-center justify-center ${v<3?"opacity-100":"opacity-30"}`,children:v<3?S.jsx(Ui,{size:20,className:`transform rotate-${Math.floor(Math.random()*45)} ${v===2?"text-alert-red":"text-ink/60"}`}):S.jsx("span",{className:"text-[8px] font-mono text-ink/20",children:v+1})},v))}),S.jsx("p",{className:"text-center font-mono text-[10px] mt-1 text-ink-light italic",children:"Log in daily to earn visas."})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"font-serif text-xl font-bold mb-3 flex items-center gap-2",children:[S.jsx(by,{size:18})," Curio Cabinet"]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.inventory.map(g=>S.jsxs("div",{className:"border border-ink bg-paper p-2 flex items-start gap-2 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] hover:translate-y-[-1px] transition-transform",children:[S.jsx("div",{className:`p-2 border border-ink rounded-sm ${g.rarity==="Relic"?"bg-vintage-gold":"bg-gray-200"}`,children:m(g.iconName)}),S.jsxs("div",{children:[S.jsx("p",{className:"font-serif font-bold text-sm leading-none",children:g.name}),S.jsx("p",{className:"font-mono text-[9px] text-ink-light mt-1 leading-tight",children:g.description})]})]},g.id)),S.jsx("div",{className:"border border-dashed border-ink p-2 flex items-center justify-center opacity-40 min-h-[60px]",children:S.jsx("span",{className:"font-mono text-[10px]",children:"Empty Slot"})})]})]}),S.jsx("div",{className:"bg-ink text-paper p-4 relative overflow-hidden mb-4",children:S.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center relative z-10",children:[S.jsxs("div",{children:[S.jsx("p",{className:"font-mono text-2xl font-bold text-vintage-gold",children:a.stats.centuriesTraversed}),S.jsx("p",{className:"font-mono text-[9px] uppercase",children:"Centuries"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-mono text-2xl font-bold text-vintage-gold",children:a.stats.artifactsFound}),S.jsx("p",{className:"font-mono text-[9px] uppercase",children:"Artifacts"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-mono text-2xl font-bold text-vintage-gold",children:a.stats.majorDiscoveries}),S.jsx("p",{className:"font-mono text-[9px] uppercase",children:"Discoveries"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-mono text-2xl font-bold text-alert-red",children:a.stats.paradoxesCaused}),S.jsx("p",{className:"font-mono text-[9px] uppercase",children:"Paradoxes"})]})]})}),S.jsxs("button",{onClick:o,className:"w-full border-2 border-ink py-3 font-mono uppercase text-xs font-bold hover:bg-alert-red hover:text-paper hover:border-alert-red transition-colors flex items-center justify-center gap-2 group",children:[S.jsx(Ay,{size:16})," Revoke Credentials (Sign Out)"]})]})]})]})})},q1=()=>{const[n,e]=te.useState(null),[i,o]=te.useState(!0),[a,l]=te.useState("loading"),c="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Gandhi_spinning.jpg/640px-Gandhi_spinning.jpg";return te.useEffect(()=>{(async()=>{const m=await lR();e(m),o(!1),l("loading")})()},[]),S.jsxs("div",{className:"p-4 max-w-4xl mx-auto space-y-8 pb-24",children:[S.jsxs("div",{className:"border-b-4 border-double border-ink mb-6 pb-2 text-center relative",children:[S.jsxs("div",{className:"flex justify-between items-center border-b border-ink pb-1 mb-2 px-2",children:[S.jsxs("div",{className:"text-left",children:[S.jsx("span",{className:"font-mono text-[10px] uppercase tracking-widest block",children:"Regd. No. B. 1820"}),S.jsx("span",{className:"font-mono text-[10px] uppercase tracking-widest block",children:"VOL. XVIII"})]}),S.jsx("div",{className:"text-center",children:S.jsx("span",{className:"font-serif italic text-xs",children:"Largest Circulation in History"})}),S.jsx("div",{className:"text-right",children:S.jsx("span",{className:"font-mono text-[10px] uppercase tracking-widest block",children:"PRICE: TWO ANNAS"})})]}),S.jsx("h1",{className:"font-serif text-5xl md:text-7xl font-black text-ink uppercase tracking-tighter leading-none mb-2 scale-y-125",children:"The Timension Chronicle"}),S.jsxs("div",{className:"border-t border-b border-ink py-1 mb-2 mt-2 flex justify-between px-4 items-center bg-paper-dark/30",children:[S.jsxs("span",{className:"font-serif font-bold uppercase text-sm",children:["AHMEDABAD, ",(n==null?void 0:n.date)||"SATURDAY"]}),S.jsx("span",{className:"font-serif font-bold uppercase text-sm",children:(n==null?void 0:n.weather)||"WEATHER: UNCERTAIN"})]})]}),i?S.jsxs("div",{className:"h-64 flex flex-col items-center justify-center font-mono animate-pulse text-sepia-accent space-y-2",children:[S.jsx(Vo,{className:"animate-spin",size:32}),S.jsx("span",{children:"FETCHING FROM ARCHIVES..."})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"bg-paper p-2",children:[S.jsxs("div",{className:"text-center mb-6 border-b-2 border-black pb-4",children:[S.jsx("h2",{className:"font-serif text-4xl md:text-6xl font-black leading-[0.9] mb-2 uppercase tracking-tight",children:(n==null?void 0:n.headline)||"MAHATMA ARRESTED"}),S.jsx("div",{className:"w-32 h-1 bg-black mx-auto mb-2"}),S.jsx("h3",{className:"font-serif text-xl md:text-2xl font-bold uppercase tracking-widest",children:"ON CHARGE OF SEDITION."})]}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[S.jsxs("div",{className:"md:w-5/12 order-2 md:order-1",children:[S.jsxs("div",{className:"w-full border-4 border-ink p-1 bg-white mb-2 relative overflow-hidden group shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[a==="loading"&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-[#f0e6d2] z-20",children:[S.jsx(Vo,{size:32,className:"text-ink animate-spin mb-2"}),S.jsx("p",{className:"font-mono text-[10px] text-ink font-bold uppercase tracking-widest",children:"DEVELOPING PLATE..."})]}),S.jsxs("div",{className:"relative w-full h-80 bg-gray-300",children:[S.jsx("img",{src:(n==null?void 0:n.imageUrl)||c,alt:"Historical Event",onLoad:()=>l("loaded"),onError:h=>{const m=h.target;m.src!==c&&(m.src=c),l("loaded")},className:`w-full h-full object-cover transition-opacity duration-700 ${a==="loading"?"opacity-0":"opacity-100"}`,style:{filter:"grayscale(100%) contrast(130%) brightness(110%) sepia(20%)"}}),S.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20 z-10 mix-blend-multiply",style:{backgroundImage:"radial-gradient(circle, #000 1px, transparent 1px)",backgroundSize:"4px 4px"}}),S.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_0_0_40px_rgba(0,0,0,0.5)] z-10"})]})]}),S.jsx("p",{className:"font-mono text-[10px] text-center text-ink font-bold uppercase border-t border-ink pt-1 mt-1",children:"FIG. 1: SCENE AT THE ASHRAM"})]}),S.jsxs("div",{className:"md:w-7/12 order-1 md:order-2 flex flex-col justify-between",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("span",{className:"font-mono text-xs font-bold uppercase border border-ink px-1",children:"SPECIAL TELEGRAM"}),S.jsx("span",{className:"h-px bg-ink flex-1"})]}),S.jsxs("p",{className:"font-body text-xl md:text-2xl leading-tight text-justify drop-cap-parent",children:[S.jsx("span",{className:"float-left text-5xl font-serif font-bold leading-[0.8] mr-2 mt-1",children:'"'}),n==null?void 0:n.content]})]}),S.jsxs("div",{className:"mt-6 border-t-2 border-double border-ink pt-4",children:[S.jsx("h4",{className:"font-serif font-bold text-lg uppercase mb-2 text-center",children:"LATEST BULLETIN"}),S.jsxs("ul",{className:"list-disc pl-5 font-mono text-xs space-y-1",children:[S.jsx("li",{children:"MR. BANKER ALSO ARRESTED."}),S.jsx("li",{children:"PERFECT PEACE IN THE CITY."}),S.jsx("li",{children:"CROWDS GATHER AT POLICE STATION."})]}),S.jsxs("button",{className:"mt-6 w-full bg-ink text-paper py-3 font-mono text-sm uppercase hover:bg-sepia-accent transition-colors flex items-center justify-center gap-2 font-bold",children:["READ FULL REPORT ",S.jsx(Ey,{size:16})]})]})]})]})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t-4 border-ink pt-4",children:[S.jsxs("div",{className:"col-span-1 border-r border-ink pr-4 text-center",children:[S.jsx("h3",{className:"font-serif text-lg font-bold border-b border-ink mb-2 uppercase",children:"SWADESHI"}),S.jsx("p",{className:"font-body text-xs mb-2",children:'"Buy only homespun cloth. Reject the foreign import."'}),S.jsx("div",{className:"w-10 h-10 border border-ink rounded-full mx-auto flex items-center justify-center",children:S.jsx(by,{size:16})})]}),S.jsxs("div",{className:"col-span-1 border-r border-ink pr-4 text-center",children:[S.jsx("h3",{className:"font-serif text-lg font-bold border-b border-ink mb-2 uppercase",children:"NOTICE"}),S.jsx("p",{className:"font-body text-xs italic",children:"Public meeting at Chowpatty Sands this evening at 5 PM."})]}),S.jsxs("div",{className:"col-span-1 text-center",children:[S.jsx("h3",{className:"font-serif text-lg font-bold border-b border-ink mb-2 uppercase",children:"WEATHER"}),S.jsx("p",{className:"font-mono text-xs",children:"Temp: 32C"}),S.jsx("p",{className:"font-mono text-xs",children:"Wind: NW 10mph"})]})]})]})]})},H1=()=>{const[n,e]=te.useState(null),[i,o]=te.useState(null),[a,l]=te.useState(!1),[c,h]=te.useState(!1),m=[{id:"1",year:"1325",title:"Expedition: Ibn Battuta",description:"Caravan departing soon. Seekers of knowledge wanted.",difficulty:"Beginner"},{id:"2",year:"1895",title:"Tesla's Lab Assistant",description:"Help conduct high-voltage experiments. Rubber soles required.",difficulty:"Scholar"},{id:"3",year:"48 BC",title:"Royal Court of Cleopatra",description:"Diplomats needed for urgent negotiations with Rome.",difficulty:"Time Lord"},{id:"4",year:"1969",title:"Moon Landing Control",description:"Calculate the trajectory. Failure is not an option.",difficulty:"Scholar"}],g=async v=>{e(v),l(!0),h(!1),o(null);const _=await fR(v.year,v.title);o(_),l(!1)};return n?S.jsxs("div",{className:"p-4 max-w-3xl mx-auto pb-24 h-[calc(100vh-80px)] flex flex-col",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-ink pb-2",children:[S.jsx("button",{onClick:()=>e(null),className:"p-2 border border-ink hover:bg-ink hover:text-paper transition-colors",children:S.jsx(qo,{size:20})}),S.jsxs("h2",{className:"font-mono text-xl uppercase font-bold tracking-wider flex-1 text-center",children:["TIMELINE: ",n.year]})]}),S.jsx("div",{className:"flex-1 relative",children:S.jsxs("div",{className:"absolute inset-0 bg-[#f0e6d2] border-4 border-double border-ink p-6 shadow-2xl transform rotate-1 flex flex-col overflow-y-auto",children:[S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-5 pointer-events-none",children:S.jsx(Ui,{size:300})}),S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{className:"border-2 border-ink p-2 inline-block",children:[S.jsx("span",{className:"font-mono text-xs font-bold block",children:"DESTINATION"}),S.jsx("span",{className:"font-serif text-2xl font-bold block",children:n.year})]}),S.jsx("div",{className:"text-right",children:S.jsx("span",{className:"text-alert-red font-black font-mono text-xl border-2 border-alert-red px-2 py-1 rotate-[-5deg] inline-block opacity-80",children:"CONFIDENTIAL"})})]}),S.jsx("h3",{className:"font-serif text-3xl font-bold mb-2 text-center border-b border-dashed border-ink pb-2",children:n.title}),a?S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-4",children:[S.jsx("div",{className:"w-16 h-16 border-4 border-ink border-t-transparent rounded-full animate-spin"}),S.jsx("p",{className:"font-mono text-sm animate-pulse",children:"DECRYPTING ARCHIVES..."})]}):i?S.jsxs("div",{className:"space-y-6 flex-1",children:[S.jsxs("div",{className:"bg-white/50 p-4 border border-ink relative",children:[S.jsx("span",{className:"absolute -top-3 left-2 bg-ink text-paper text-[10px] font-mono px-1",children:"CODENAME"}),S.jsx("p",{className:"font-mono text-lg font-bold tracking-widest",children:i.codename})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h4",{className:"font-mono text-xs uppercase font-bold border-b border-ink w-max",children:"Primary Objective"}),S.jsxs("p",{className:"font-body text-xl leading-snug",children:["STOP. ",i.objective," STOP."]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h4",{className:"font-mono text-xs uppercase font-bold border-b border-ink w-max",children:"Required Disguise"}),S.jsx("p",{className:"font-body text-lg italic text-ink-light",children:i.disguise})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h4",{className:"font-mono text-xs uppercase font-bold border-b border-ink w-max",children:"Secret Passphrase"}),S.jsxs("p",{className:"font-mono text-sm bg-ink text-paper p-2 inline-block",children:['"',i.passphrase,'"']})]})]}):S.jsx("div",{className:"text-center text-alert-red font-mono",children:"TRANSMISSION FAILED"}),!a&&S.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-ink flex flex-col gap-3",children:[c?S.jsx("div",{className:"bg-vintage-gold text-ink p-4 text-center font-bold font-mono border-2 border-ink animate-bounce",children:"VISA GRANTED. PREPARING JUMP..."}):S.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-ink text-paper py-4 font-mono text-lg font-bold hover:bg-sepia-accent transition-colors flex items-center justify-center gap-2",children:[S.jsx(Ui,{size:24})," STAMP & ACCEPT MISSION"]}),S.jsx("p",{className:"text-[10px] font-mono text-center text-ink-light",children:"WARNING: TIMELINE DISRUPTION IS A CLASS I OFFENSE."})]})]})})]}):S.jsxs("div",{className:"p-4 max-w-3xl mx-auto pb-24",children:[S.jsx(Jo,{title:"Classified Portals",subtitle:"Opportunities Across Time"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.map(v=>S.jsxs("div",{onClick:()=>g(v),className:"border-2 border-black p-4 hover:bg-vintage-gold/10 transition-colors cursor-pointer relative group shadow-[4px_4px_0px_0px_rgba(44,44,44,1)] hover:shadow-[2px_2px_0px_0px_rgba(44,44,44,1)] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[S.jsxs("div",{className:"absolute -top-3 left-4 bg-paper px-2 border border-black text-xs font-mono font-bold group-hover:text-alert-red transition-colors",children:["YEAR ",v.year]}),S.jsx("h3",{className:"font-serif text-2xl font-bold mt-2 mb-2 group-hover:underline",children:v.title}),S.jsx("p",{className:"font-body text-base mb-4 line-clamp-2",children:v.description}),S.jsxs("div",{className:"flex justify-between items-center border-t border-dashed border-black pt-2",children:[S.jsxs("span",{className:"font-mono text-xs uppercase flex items-center gap-1",children:[S.jsx(gE,{size:12})," ",v.difficulty]}),S.jsx("span",{className:"text-ink font-mono text-xs uppercase group-hover:bg-ink group-hover:text-paper px-1 transition-colors",children:"Apply Now "})]})]},v.id)),S.jsxs("div",{className:"border-2 border-black p-4 border-dashed flex flex-col items-center justify-center text-center opacity-70 hover:opacity-100 transition-opacity cursor-pointer",children:[S.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-black flex items-center justify-center mb-2",children:S.jsx("span",{className:"text-2xl font-serif font-bold",children:"?"})}),S.jsx("h3",{className:"font-serif text-xl font-bold",children:"Custom Coordinates"}),S.jsx("p",{className:"font-mono text-xs mt-1",children:"Input specific year vector"})]})]})]})},G1=()=>{const[n,e]=te.useState(null),[i,o]=te.useState([]),[a,l]=te.useState(""),[c,h]=te.useState(!1),m=te.useRef(null),g=[{id:"einstein",name:"Albert Einstein",role:"Physics",era:"1921",avatar:"E",systemPrompt:"You are Einstein."},{id:"cleo",name:"Cleopatra",role:"Leadership",era:"40 BC",avatar:"C",systemPrompt:"You are Cleopatra."},{id:"gandhi",name:"Mahatma Gandhi",role:"Ethics",era:"1930",avatar:"G",systemPrompt:"You are Gandhi."},{id:"davinci",name:"Leonardo da Vinci",role:"Renaissance Man",era:"1490",avatar:"L",systemPrompt:"You are Leonardo da Vinci, a polymath from the Renaissance."}];te.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[i]);const v=async()=>{if(!a.trim()||!n)return;const _={id:Date.now().toString(),sender:"user",text:a,timestamp:Date.now()};o(C=>[...C,_]),l(""),h(!0);const E=await uR(n.name,n.era,i,_.text),A={id:(Date.now()+1).toString(),sender:"ai",text:E,timestamp:Date.now()};o(C=>[...C,A]),h(!1)};return n?S.jsxs("div",{className:"p-4 max-w-3xl mx-auto pb-24 h-screen flex flex-col pt-4",children:[S.jsxs("div",{className:"flex items-center justify-between border-b-2 border-ink pb-2 mb-2",children:[S.jsx("button",{onClick:()=>e(null),className:"font-mono text-xs underline hover:text-sepia-accent",children:" Back to Directory"}),S.jsx("span",{className:"font-serif font-bold text-xl",children:n.name}),S.jsx("div",{className:"w-8 h-8 bg-ink text-paper rounded-full flex items-center justify-center font-serif",children:n.avatar})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 p-2 newspaper-border bg-paper-dark/30",ref:m,children:[i.length===0&&S.jsx("div",{className:"text-center py-10 opacity-50 italic font-serif",children:'"Greetings. How may I assist your curiosity today?"'}),i.map(_=>S.jsx("div",{className:`flex ${_.sender==="user"?"justify-end":"justify-start"}`,children:S.jsx("div",{className:`max-w-[80%] p-3 ${_.sender==="user"?"bg-ink text-paper":"bg-paper border border-ink"} shadow-md`,children:S.jsx("p",{className:"font-body text-lg leading-snug",children:_.text})})},_.id)),c&&S.jsx("div",{className:"text-center font-mono text-xs animate-pulse",children:"The quill is moving..."})]}),S.jsxs("div",{className:"mt-4 flex gap-2",children:[S.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),onKeyDown:_=>_.key==="Enter"&&v(),placeholder:"Ask your question...",className:"flex-1 bg-paper border-2 border-ink p-3 font-body text-lg placeholder:font-mono placeholder:text-sm focus:outline-none focus:border-sepia-accent"}),S.jsx("button",{onClick:v,disabled:c,className:"bg-ink text-paper px-6 hover:bg-sepia-accent transition-colors",children:S.jsx(pE,{size:20})})]})]}):S.jsxs("div",{className:"p-4 max-w-3xl mx-auto pb-24",children:[S.jsx(Jo,{title:"The Persona Library",subtitle:"Consult the Great Minds"}),S.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.map(_=>S.jsxs("div",{onClick:()=>{e(_),o([])},className:"flex items-center gap-4 border-b-2 border-ink pb-4 cursor-pointer hover:bg-vintage-gold/10 p-2 transition-colors",children:[S.jsx("div",{className:"w-16 h-16 bg-ink text-paper font-serif text-3xl flex items-center justify-center rounded-full border-2 border-vintage-gold",children:_.avatar}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-serif text-2xl font-bold",children:_.name}),S.jsxs("p",{className:"font-mono text-xs uppercase tracking-wider",children:[_.role,"  ",_.era]})]}),S.jsx("div",{className:"ml-auto",children:S.jsx(Ey,{})})]},_.id))})]})},B1=()=>{var M;const[n,e]=te.useState([{id:1,text:"Where is the library of Alexandria?",img:"https://picsum.photos/300/300?random=1&grayscale",redraw:!1},{id:2,text:"I believe it lies to the east.",img:"https://picsum.photos/300/300?random=2&grayscale",redraw:!1},{id:3,text:"We must hurry before sunset.",img:"https://picsum.photos/300/300?random=3&grayscale",redraw:!1},{id:4,text:"Wait, I hear soldiers approaching!",img:"https://picsum.photos/300/300?random=4&grayscale",redraw:!1}]),[i,o]=te.useState(null),[a,l]=te.useState(""),[c,h]=te.useState(!1),[m,g]=te.useState(100),[v,_]=te.useState(null),[E,A]=te.useState(!1),C=(O,H)=>{o(O),l(H)},x=async()=>{if(i===null)return;const O=n.find(k=>k.id===i);if(!O)return;const H=O.text;o(null),e(k=>k.map(F=>F.id===i?{...F,redraw:!0}:F)),h(!0),_(null),setTimeout(async()=>{e(F=>F.map(j=>j.id===i?{...j,text:a,redraw:!1}:j));const k=await hR(H,a);_(k),g(F=>Math.max(0,F+k.stabilityChange)),h(!1)},1500)};return S.jsxs("div",{className:"p-4 max-w-3xl mx-auto pb-24",children:[S.jsx(Jo,{title:"The Butterfly Effect",subtitle:"Where Small Changes Rewrite History"}),S.jsxs("div",{className:"mb-6 border-4 border-double border-ink p-2 bg-paper-dark relative overflow-hidden",children:[S.jsxs("div",{className:"flex justify-between items-end mb-1 relative z-10",children:[S.jsxs("span",{className:"font-mono text-xs font-bold uppercase flex items-center gap-1",children:[S.jsx(LT,{size:14})," Chronometric Stability"]}),S.jsxs("span",{className:`font-mono text-xl font-black ${m<50?"text-alert-red":"text-ink"}`,children:[m,"%"]})]}),S.jsx("div",{className:"h-4 w-full bg-ink/10 border border-ink relative z-10",children:S.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${m<40?"bg-alert-red animate-pulse":"bg-ink"}`,style:{width:`${m}%`}})}),S.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, #000 0, #000 1px, transparent 0, transparent 10px)"}})]}),v&&S.jsxs("div",{className:"mb-6 bg-paper border-2 border-alert-red p-4 relative animate-in slide-in-from-top-4 fade-in duration-500 shadow-[4px_4px_0px_0px_#8a2be2]",children:[S.jsxs("div",{className:"absolute -top-3 left-4 bg-alert-red text-paper px-2 text-[10px] font-mono uppercase font-bold flex items-center gap-1",children:[S.jsx(Fo,{size:10,fill:"currentColor"})," Temporal Shift Detected"]}),S.jsx("h4",{className:"font-serif text-xl font-bold mb-1 text-alert-red",children:"Paradox Alert!"}),S.jsxs("p",{className:"font-body text-lg mb-2 leading-tight",children:['"',v.consequence,'"']}),S.jsxs("div",{className:"border-t border-alert-red/30 pt-2 mt-2",children:[S.jsx("span",{className:"font-mono text-[10px] text-ink-light uppercase",children:"New Future Headline:"}),S.jsx("p",{className:"font-serif font-bold italic text-ink",children:v.futureHeadline})]})]}),S.jsx("div",{className:"space-y-8",children:S.jsxs("div",{className:"newspaper-border bg-white p-2",children:[S.jsxs("div",{className:"flex justify-between border-b border-gray-300 mb-2 pb-1",children:[S.jsx("span",{className:"font-mono text-[10px] uppercase",children:"Episode 1: The Lost Scroll"}),S.jsx("span",{className:"font-mono text-[10px] uppercase",children:"Difficulty: Novice"})]}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(O=>S.jsxs("div",{onClick:()=>C(O.id,O.text),className:"aspect-square border border-black relative overflow-hidden bg-gray-100 group cursor-pointer",children:[S.jsx("img",{src:O.img,className:`w-full h-full object-cover opacity-80 transition-all duration-1000 ${O.redraw?"blur-sm scale-105":""}`,alt:"Comic Panel"}),O.redraw&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-paper/60",children:S.jsx(Vo,{className:"animate-spin text-ink",size:32})}),S.jsx("div",{className:`absolute top-2 left-2 right-2 bg-white border border-black rounded-xl p-2 shadow-sm transition-opacity ${O.redraw?"opacity-0":"opacity-100"}`,children:S.jsx("p",{className:"font-body text-sm leading-tight text-center",children:O.text})}),S.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-vintage-gold/90 p-1 translate-y-full group-hover:translate-y-0 transition-transform z-10",children:S.jsx("p",{className:"text-[10px] font-mono text-center font-bold text-ink",children:"Tap to Rewrite History"})})]},O.id))}),c&&S.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 text-xs font-mono animate-pulse text-sepia-accent",children:[S.jsx(Vc,{size:14,className:"animate-spin"})," Calculating Butterfly Effect..."]})]})}),S.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[S.jsxs("button",{onClick:()=>A(!E),className:"text-ink-light hover:text-sepia-accent flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[S.jsx(ZT,{size:16}),S.jsx("span",{className:"font-mono text-[10px] uppercase tracking-widest",children:"Support the Press"})]}),E&&S.jsxs("div",{className:"mt-4 p-4 bg-paper border border-ink shadow-md max-w-xs text-center animate-in fade-in slide-in-from-bottom-2",children:[S.jsx("p",{className:"font-serif italic mb-2",children:'"Ink costs money, but time is priceless."'}),S.jsx("p",{className:"font-body text-sm mb-2",children:"Thank you for keeping the chronometer running."}),S.jsx("div",{className:"bg-vintage-gold/20 border border-dashed border-ink p-2 font-mono text-xs text-ink-light cursor-not-allowed",children:"[Donation Link Placeholder]"})]})]}),i!==null&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:S.jsxs("div",{className:"bg-paper border-4 border-double border-ink w-full max-w-md p-6 relative shadow-2xl",children:[S.jsx("h3",{className:"font-serif text-2xl font-bold mb-4 border-b border-ink pb-2",children:"Editor's Correction"}),S.jsx("p",{className:"font-mono text-xs text-ink-light mb-2 uppercase",children:"Original Text:"}),S.jsxs("p",{className:"font-body italic text-gray-500 mb-4",children:['"',(M=n.find(O=>O.id===i))==null?void 0:M.text,'"']}),S.jsx("p",{className:"font-mono text-xs text-ink mb-1 uppercase font-bold",children:"New Dialogue:"}),S.jsx("textarea",{value:a,onChange:O=>l(O.target.value),className:"w-full h-24 bg-white border-2 border-ink p-2 font-body text-lg focus:outline-none focus:border-sepia-accent mb-6",autoFocus:!0}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("button",{onClick:()=>o(null),className:"flex-1 border border-ink py-2 font-mono text-xs uppercase hover:bg-gray-200",children:"Cancel"}),S.jsxs("button",{onClick:x,className:"flex-1 bg-ink text-paper py-2 font-mono text-xs uppercase font-bold hover:bg-sepia-accent flex items-center justify-center gap-2",children:[S.jsx(Fo,{size:14})," Commit Change"]})]}),S.jsx("div",{className:"absolute -top-2 -right-2 bg-vintage-gold text-ink font-mono text-[10px] px-2 py-1 border border-ink transform rotate-3",children:"RIFT RISK: HIGH"})]})})]})},z1=({onLogout:n})=>{var ot,Ve,kn;const[e,i]=te.useState("MENU"),[o,a]=te.useState(""),[l,c]=te.useState(null),[h,m]=te.useState(!1),[g,v]=te.useState(""),[_,E]=te.useState([]),[A,C]=te.useState(!1),[x,M]=te.useState(null),[O,H]=te.useState(!1),[k,F]=te.useState(!1),[j,Y]=te.useState(!1),[J,le]=te.useState(null),[X,he]=te.useState(null),[Re,pe]=te.useState(!1),[Le,pt]=te.useState(1),[Je,q]=te.useState("AUTO"),$=te.useRef(null),se=te.useRef(null),Ne=async()=>{if(!o)return;m(!0);const ye=await cR(o);c(ye),m(!1)},Ie=async()=>{if(!g)return;C(!0);const ye=await dR(g);E(ye),C(!1)},N=async()=>{H(!0),M(null),F(!1),Y(!1);const ye=await pR();M(ye),H(!1)},V=ye=>{x&&(ye===x.correctAnswerIndex?(F(!0),Y(!1)):(Y(!0),setTimeout(()=>Y(!1),1e3)))},K=async()=>{try{let ye;try{ye=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})}catch(Xe){console.warn("Environment camera unavailable, falling back to default.",Xe),ye=await navigator.mediaDevices.getUserMedia({video:!0})}le(ye),i("CAMERA"),he(null),pt(1)}catch(ye){console.error("Camera error",ye),alert("Camera access failed. Please ensure you have a camera connected and permissions granted.")}},W=()=>{J&&(J.getTracks().forEach(ye=>ye.stop()),le(null))},ue=()=>{q(Je==="AUTO"?"ON":Je==="ON"?"OFF":"AUTO")},me=()=>{if($.current&&se.current){const ye=se.current.getContext("2d"),Xe=$.current;if(ye&&Xe.readyState===Xe.HAVE_ENOUGH_DATA){se.current.width=Xe.videoWidth,se.current.height=Xe.videoHeight,(Je==="ON"||Je==="AUTO"&&Math.random()>.5)&&(pe(!0),setTimeout(()=>pe(!1),200));const Li=Xe.videoWidth,Wt=Xe.videoHeight,Gs=(Li-Li/Le)/2,Bs=(Wt-Wt/Le)/2;ye.drawImage(Xe,Gs,Bs,Li/Le,Wt/Le,0,0,se.current.width,se.current.height);const za=se.current.toDataURL("image/jpeg",.8);he(za),W()}}},be=()=>{he(null),K()};return te.useEffect(()=>{e==="CAMERA"&&J&&$.current&&($.current.srcObject=J)},[e,J]),te.useEffect(()=>()=>{W()},[]),e==="MAP"?S.jsx("div",{className:"p-4 max-w-3xl mx-auto h-[calc(100vh-120px)] flex flex-col relative",children:S.jsxs("div",{className:"absolute inset-0 border-4 border-double border-ink bg-[#e6dccf] overflow-hidden rounded-sm shadow-inner",children:[S.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#2c2c2c 1px, transparent 1px), linear-gradient(90deg, #2c2c2c 1px, transparent 1px)",backgroundSize:"40px 40px"}}),S.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-10 pointer-events-none text-sepia-accent",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[S.jsx("path",{d:"M0 20 Q 30 40, 50 20 T 100 50 V 100 H 0 Z",fill:"currentColor"}),S.jsx("path",{d:"M0 0 H 100 V 10 H 0 Z",fill:"currentColor"})]}),S.jsxs("div",{className:"relative z-10 p-4 h-full flex flex-col",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-paper/90 border border-ink p-2 shadow-md",children:[S.jsx("button",{onClick:()=>i("MENU"),className:"p-2 hover:bg-ink hover:text-paper transition-colors",children:S.jsx(qo,{size:20})}),S.jsx("input",{value:o,onChange:ye=>a(ye.target.value),onKeyDown:ye=>ye.key==="Enter"&&Ne(),placeholder:"Coordinates or Place Name...",className:"flex-1 bg-transparent border-none outline-none font-mono text-sm placeholder:italic"}),S.jsx("button",{onClick:Ne,className:"p-2 text-ink hover:text-sepia-accent",disabled:h,children:S.jsx(Vc,{size:20,className:h?"animate-spin":""})})]}),l&&S.jsxs("div",{className:"mt-auto mb-4 bg-paper border-2 border-ink p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] max-h-[60%] overflow-y-auto relative rotate-1",children:[S.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-ink text-paper px-3 py-1 text-[10px] font-mono uppercase tracking-widest",children:"Field Notes"}),S.jsxs("h3",{className:"font-serif text-2xl font-bold mb-2 flex items-center gap-2",children:[S.jsx(uE,{className:"text-sepia-accent",size:24,fill:"currentColor"}),(ot=l.location)!=null&&ot.uri?S.jsx("a",{href:l.location.uri,target:"_blank",rel:"noreferrer",className:"underline decoration-dashed underline-offset-4 decoration-ink/40 hover:text-sepia-accent hover:decoration-sepia-accent transition-all",title:"Open in Google Maps",children:l.location.title||o}):S.jsx("span",{children:((Ve=l.location)==null?void 0:Ve.title)||o})]}),S.jsx("p",{className:"font-body text-lg leading-snug text-justify mb-3",children:l.text}),((kn=l.location)==null?void 0:kn.uri)&&S.jsx("div",{className:"text-right",children:S.jsx("a",{href:l.location.uri,target:"_blank",rel:"noreferrer",className:"text-xs font-mono underline hover:text-sepia-accent",children:"View Survey Data "})})]})]})]})}):e==="TIMELINE"?S.jsxs("div",{className:"p-4 max-w-3xl mx-auto min-h-[calc(100vh-120px)] flex flex-col",children:[S.jsx(Jo,{title:"Timeline Generator",subtitle:"Chronicles of the Ages"}),S.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[S.jsx("button",{onClick:()=>i("MENU"),className:"p-2 border border-ink hover:bg-ink hover:text-paper",children:S.jsx(qo,{size:20})}),S.jsx("input",{value:g,onChange:ye=>v(ye.target.value),onKeyDown:ye=>ye.key==="Enter"&&Ie(),placeholder:"Enter Topic (e.g. Life of Tesla)...",className:"flex-1 bg-paper border border-ink p-2 font-mono text-sm focus:outline-none focus:border-sepia-accent shadow-inner"}),S.jsx("button",{onClick:Ie,disabled:A,className:"bg-ink text-paper px-4 py-2 font-mono uppercase text-xs hover:bg-sepia-accent",children:A?"Inking...":"Generate"})]}),S.jsxs("div",{className:"flex-1 relative pl-4 border-l-2 border-dashed border-ink/30 space-y-8 pb-10",children:[_.length===0&&!A&&S.jsx("div",{className:"text-ink-light italic font-serif opacity-60 pt-10 pl-4",children:'"History is waiting to be written..."'}),_.map((ye,Xe)=>S.jsxs("div",{className:"relative pl-6 animate-in slide-in-from-bottom-2 duration-500",style:{animationDelay:`${Xe*100}ms`},children:[S.jsx("div",{className:"absolute -left-[21px] top-3 w-4 h-4 rounded-full bg-paper border-4 border-ink z-10"}),S.jsxs("div",{className:"bg-paper border border-ink p-4 shadow-[3px_3px_0px_0px_rgba(44,44,44,0.2)] hover:shadow-[5px_5px_0px_0px_rgba(44,44,44,0.4)] transition-shadow relative group",children:[S.jsx("div",{className:"absolute top-0 right-0 bg-ink text-paper px-2 py-1 text-xs font-mono font-bold",children:ye.year}),S.jsx("h4",{className:"font-serif text-xl font-bold mt-4 mb-1 group-hover:text-sepia-accent transition-colors",children:ye.title}),S.jsx("p",{className:"font-body text-md leading-tight text-ink-light",children:ye.description})]})]},Xe))]})]}):e==="CHAOS"?S.jsxs("div",{className:"p-4 max-w-3xl mx-auto min-h-[calc(100vh-120px)] flex flex-col relative overflow-hidden",children:[S.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-20",children:[S.jsx("div",{className:"absolute top-10 left-10 w-full h-2 bg-alert-red transform -rotate-3"}),S.jsx("div",{className:"absolute top-40 right-0 w-full h-1 bg-ink transform rotate-6"}),S.jsx("div",{className:"absolute bottom-20 left-20 w-32 h-32 border-4 border-alert-red rounded-full opacity-30"})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[S.jsx("button",{onClick:()=>i("MENU"),className:"p-2 border border-ink hover:bg-ink hover:text-paper bg-paper",children:S.jsx(qo,{size:20})}),S.jsx("h2",{className:"font-mono text-xl uppercase font-black text-alert-red tracking-widest animate-pulse flex-1 text-center bg-paper border-y-2 border-alert-red",children:" TIMELINE FRACTURE "})]}),O||!x?S.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[S.jsx(Tm,{className:"animate-spin text-alert-red",size:48}),S.jsx("p",{className:"font-mono text-sm text-alert-red",children:"SCANNING CHRONOMETRIC FAULTS..."})]}):k?S.jsxs("div",{className:"animate-in zoom-in duration-500 text-center p-8 bg-paper border-4 border-ink shadow-2xl mt-10",children:[S.jsx("div",{className:"inline-block p-4 bg-vintage-gold rounded-full mb-4 border-2 border-ink",children:S.jsx(wy,{size:48,className:"text-paper fill-current"})}),S.jsx("h3",{className:"font-serif text-3xl font-bold mb-2",children:"ORDER RESTORED!"}),S.jsx("p",{className:"font-body text-xl mb-6",children:x.restorationMessage}),S.jsx("button",{onClick:N,className:"bg-ink text-paper px-8 py-3 font-mono font-bold uppercase hover:bg-sepia-accent transition-colors",children:"FIX ANOTHER GLITCH"})]}):S.jsx("div",{className:`space-y-6 transition-all duration-300 ${j?"translate-x-2 text-alert-red":""}`,children:S.jsxs("div",{className:"newspaper-border bg-paper p-6 shadow-[8px_8px_0px_0px_#8a2be2] transform rotate-[-1deg]",children:[S.jsxs("div",{className:"border-b-2 border-dashed border-ink mb-4 pb-2 flex justify-between items-center",children:[S.jsx("span",{className:"font-mono text-xs font-bold bg-alert-red text-paper px-2",children:"ANOMALY DETECTED"}),S.jsxs("span",{className:"font-serif italic",children:["Current Year: ",x.currentEra]})]}),S.jsx("h1",{className:"font-serif text-4xl font-black leading-none mb-4 uppercase",children:x.headline}),S.jsx("p",{className:"font-body text-xl leading-snug text-justify mb-4 border-l-4 border-ink pl-4",children:x.scenario}),S.jsxs("div",{className:"bg-black/5 p-4 border border-ink mt-6",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2 font-mono text-xs font-bold uppercase text-sepia-accent",children:[S.jsx(KT,{size:14})," Challenge"]}),S.jsx("p",{className:"font-serif text-lg font-bold mb-4",children:x.challengeQuestion}),S.jsx("div",{className:"grid grid-cols-1 gap-3",children:x.options.map((ye,Xe)=>S.jsxs("button",{onClick:()=>V(Xe),className:"text-left p-3 border-2 border-ink hover:bg-ink hover:text-paper transition-colors font-mono text-sm",children:[String.fromCharCode(65+Xe),". ",ye]},Xe))})]})]})})]})]}):e==="CAMERA"?S.jsxs("div",{className:"p-4 max-w-3xl mx-auto min-h-[calc(100vh-120px)] flex flex-col relative bg-black",children:[S.jsxs("div",{className:"flex items-center justify-between p-2 bg-[#2c2c2c] text-paper border-b border-gray-600 z-20",children:[S.jsx("button",{onClick:()=>{W(),i("MENU")},className:"p-2 hover:text-alert-red",children:S.jsx(qo,{})}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("span",{className:"font-mono text-xs uppercase tracking-[0.2em] hidden md:block",children:"Timension Optical"}),S.jsxs("button",{onClick:ue,className:"flex items-center gap-1 text-[10px] font-mono border border-white/20 px-2 py-1 rounded hover:bg-white/10 transition-colors",children:[Je==="AUTO"&&S.jsx(Fo,{size:12,className:"text-yellow-400"}),Je==="ON"&&S.jsx(Fo,{size:12,className:"text-white fill-current"}),Je==="OFF"&&S.jsx(xE,{size:12,className:"text-gray-400"}),S.jsx("span",{children:Je})]})]})]}),S.jsxs("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden bg-[#1a1a1a]",children:[S.jsx("div",{className:`absolute inset-0 bg-white z-50 transition-opacity duration-500 pointer-events-none ${Re?"opacity-100":"opacity-0"}`}),X?S.jsxs("div",{className:"relative p-4 bg-paper border-8 border-white shadow-2xl transform rotate-1 max-w-full",children:[S.jsxs("div",{className:"relative overflow-hidden filter sepia contrast-125 brightness-90 grayscale-[0.5]",children:[S.jsx("img",{src:X,alt:"Vintage Capture",className:"w-full h-auto"}),S.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30 bg-[url('https://www.transparenttextures.com/patterns/scratched-paper.png')]"})]}),S.jsxs("div",{className:"mt-4 text-center",children:[S.jsx("p",{className:"font-serif font-bold text-2xl text-ink",children:"The Daily Chronicle"}),S.jsxs("p",{className:"font-mono text-[10px] uppercase tracking-widest mt-1 border-t border-ink pt-1 inline-block",children:[new Date().toLocaleDateString(),"  VOL. I"]}),S.jsx("p",{className:"font-body italic mt-2 text-ink-light",children:'"A moment frozen in the river of time."'})]})]}):S.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[S.jsx("video",{ref:$,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover filter sepia-[0.3] contrast-125 grayscale-[0.3] transition-transform duration-200",style:{transform:`scale(${Le})`}}),S.jsx("div",{className:"absolute inset-0 border-[20px] border-black/50 pointer-events-none z-10"}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10 opacity-50",children:S.jsxs("div",{className:"w-64 h-64 border-2 border-white/50 rounded-sm relative",children:[S.jsx("div",{className:"absolute top-1/2 left-1/2 w-4 h-0.5 bg-white/50 -translate-x-1/2 -translate-y-1/2"}),S.jsx("div",{className:"absolute top-1/2 left-1/2 h-4 w-0.5 bg-white/50 -translate-x-1/2 -translate-y-1/2"})]})}),S.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 z-30 flex flex-col gap-2 bg-black/50 p-2 rounded-full backdrop-blur-sm",children:[S.jsx("button",{onClick:()=>pt(Math.min(3,Le+.5)),className:"p-2 text-white hover:text-vintage-gold transition-colors",children:S.jsx(ME,{size:20})}),S.jsx("div",{className:"w-1 h-16 bg-white/20 mx-auto rounded-full relative",children:S.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-vintage-gold rounded-full transition-all duration-200",style:{height:`${(Le-1)/2*100}%`}})}),S.jsx("button",{onClick:()=>pt(Math.max(1,Le-.5)),className:"p-2 text-white hover:text-vintage-gold transition-colors",children:S.jsx(kE,{size:20})})]}),S.jsx("canvas",{ref:se,className:"hidden"})]})]}),S.jsx("div",{className:"bg-[#2c2c2c] p-6 flex justify-center items-center gap-8 z-20 border-t border-gray-600 relative",children:X?S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:be,className:"text-paper font-mono text-xs uppercase flex flex-col items-center gap-2 hover:text-sepia-accent",children:[S.jsx(Tm,{size:24})," Discard"]}),S.jsxs("button",{onClick:()=>{W(),i("MENU")},className:"text-paper font-mono text-xs uppercase flex flex-col items-center gap-2 hover:text-vintage-gold",children:[S.jsx(Ui,{size:24})," Publish"]})]}):S.jsx("button",{onClick:me,className:"w-20 h-20 rounded-full bg-gray-200 border-4 border-gray-400 shadow-inner flex items-center justify-center active:scale-95 transition-transform relative",children:S.jsx("div",{className:"w-16 h-16 rounded-full bg-[#1a1a1a] border-2 border-gray-600"})})})]}):S.jsxs("div",{className:"p-4 max-w-3xl mx-auto pb-24",children:[S.jsx(Jo,{title:"Editor's Desk",subtitle:"Create Your Own History"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[S.jsxs("button",{onClick:K,className:"p-6 border-2 border-black hover:bg-ink hover:text-paper transition-all flex flex-col items-center gap-3 group",children:[S.jsx(YT,{size:32}),S.jsx("span",{className:"font-serif font-bold text-center",children:"Magic Camera"}),S.jsx("span",{className:"text-[10px] font-mono opacity-0 group-hover:opacity-100",children:"Photo  Vintage Print"})]}),S.jsxs("button",{onClick:()=>i("MAP"),className:"p-6 border-2 border-black hover:bg-ink hover:text-paper transition-all flex flex-col items-center gap-3 group",children:[S.jsx(Cy,{size:32}),S.jsx("span",{className:"font-serif font-bold text-center",children:"Map Explorer"}),S.jsx("span",{className:"text-[10px] font-mono opacity-0 group-hover:opacity-100",children:"Chart the Unknown"})]}),S.jsxs("button",{onClick:()=>i("TIMELINE"),className:"p-6 border-2 border-black hover:bg-ink hover:text-paper transition-all flex flex-col items-center gap-3 group",children:[S.jsx(sE,{size:32}),S.jsx("span",{className:"font-serif font-bold text-center",children:"Timeline Gen"}),S.jsx("span",{className:"text-[10px] font-mono opacity-0 group-hover:opacity-100",children:"Visualize Epochs"})]}),S.jsxs("button",{onClick:()=>{i("CHAOS"),x||N()},className:"p-6 border-2 border-alert-red hover:bg-alert-red hover:text-paper transition-all flex flex-col items-center gap-3 group relative overflow-hidden",children:[S.jsx(TE,{size:32,className:"text-alert-red group-hover:text-paper"}),S.jsx("span",{className:"font-serif font-bold text-center text-alert-red group-hover:text-paper",children:"Eras in Chaos"}),S.jsx("span",{className:"text-[10px] font-mono opacity-0 group-hover:opacity-100",children:"Fix the Timeline!"})]})]}),S.jsxs("div",{className:"newspaper-border p-4 bg-paper-dark/20 mb-8",children:[S.jsx("h3",{className:"font-serif text-xl font-bold mb-2",children:"Unwritten Pages"}),S.jsx("p",{className:"font-body mb-4",children:'The ink bottle is full, but the page is empty. Describe a historical "What If" scenario...'}),S.jsx("textarea",{className:"w-full h-32 bg-transparent border border-black p-2 font-mono text-sm resize-none focus:outline-none focus:bg-white/50",placeholder:"e.g., What if Da Vinci invented the airplane in 1500?"}),S.jsx("button",{className:"w-full mt-2 bg-ink text-paper py-2 font-mono uppercase text-xs hover:bg-sepia-accent",children:"Generate Story"})]}),S.jsx("div",{className:"border-t-2 border-ink pt-4 flex justify-center",children:S.jsxs("button",{onClick:n,className:"flex items-center gap-2 font-mono text-xs uppercase hover:text-alert-red transition-colors opacity-70",children:[S.jsx(Ay,{size:14})," Revoke Press Pass (Sign Out)"]})})]})},V1=()=>{var g;const[n,e]=te.useState(Lt.HOME),[i,o]=te.useState(null),[a,l]=te.useState(!1),[c,h]=te.useState(!1);te.useEffect(()=>{if(!Pa()){l(!0);return}ri.auth.getSession().then(({data:{session:_}})=>{o(_),l(!0)}).catch(_=>{console.warn("Auth session check failed (likely network or config issue):",_),l(!0)});const{data:{subscription:v}}=ri.auth.onAuthStateChange((_,E)=>{o(E)});return()=>v.unsubscribe()},[]);const m=async()=>{Pa()&&await ri.auth.signOut(),o(null),e(Lt.HOME),h(!1)};return!i&&a?S.jsxs("div",{className:"min-h-screen w-full bg-paper text-ink font-serif relative overflow-hidden",children:[S.jsx(Sa,{}),S.jsx("div",{className:"relative z-10",children:S.jsx(O1,{onLogin:()=>o({user:{email:"demo@timension.com"}})})})]}):a?S.jsxs("div",{className:"min-h-screen w-full bg-paper text-ink font-serif relative overflow-x-hidden",children:[S.jsx(Sa,{}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"sticky top-0 bg-paper/95 backdrop-blur-sm z-30 border-b border-ink shadow-sm p-2 flex justify-between items-center px-4",children:[S.jsx("div",{className:"w-8"})," ",S.jsx("span",{className:"font-serif font-black text-2xl tracking-tighter",children:"TIMENSION"}),S.jsx("button",{onClick:()=>h(!0),className:"w-8 h-8 rounded-full border border-ink flex items-center justify-center hover:bg-vintage-gold/20 transition-colors",children:S.jsx(Fc,{size:18})})]}),S.jsxs("main",{className:"pt-4",children:[n===Lt.HOME&&S.jsx(q1,{}),n===Lt.PORTALS&&S.jsx(H1,{}),n===Lt.MENTORS&&S.jsx(G1,{}),n===Lt.CHRONICLE&&S.jsx(B1,{}),n===Lt.EDITOR&&S.jsx(z1,{onLogout:m})]}),S.jsx(L1,{isOpen:c,onClose:()=>h(!1),userEmail:((g=i==null?void 0:i.user)==null?void 0:g.email)||"traveler@timension.com",onLogout:m}),S.jsx(DE,{currentSection:n,onNavigate:e})]})]}):S.jsxs("div",{className:"min-h-screen w-full bg-paper text-ink font-serif relative flex items-center justify-center",children:[S.jsx(Sa,{}),S.jsxs("div",{className:"relative z-10 text-center animate-pulse",children:[S.jsx("h1",{className:"font-serif text-4xl mb-2",children:"Timension"}),S.jsx("p",{className:"font-mono text-sm",children:"Verifying Credentials..."})]})]})},jv=document.getElementById("root");if(!jv)throw new Error("Could not find root element to mount to");const F1=MT.createRoot(jv);F1.render(S.jsx(ST.StrictMode,{children:S.jsx(V1,{})}));
